DROP TABLE IF EXISTS t1;
Test compressed
create table t1 (id int primary key auto_increment, v varchar(200), t text) engine=innodb key_block_size=8;
Load table
Warnings:
Warning	1265	Data truncated for column 'v' at row 1
select count(*) from t1;
count(*)
200
SET innodb_fake_changes=1;
Test fake changes
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
SET innodb_fake_changes=0;
select count(*) from t1;
count(*)
200
DROP TABLE t1;
Test for uncompressed
create table t1 (id int primary key auto_increment, v varchar(200), t text) engine=innodb;
Load table
Warnings:
Warning	1265	Data truncated for column 'v' at row 1
select count(*) from t1;
count(*)
200
SET innodb_fake_changes=1;
Test fake changes
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
ERROR HY000: Got error 131 during COMMIT
SET innodb_fake_changes=0;
select count(*) from t1;
count(*)
200
DROP TABLE t1;
SET GLOBAL innodb_file_format = "Barracuda";
SET GLOBAL innodb_file_format_max = "Antelope";

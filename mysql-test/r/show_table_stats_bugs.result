drop table if exists x;
flush statistics;
create table x (i int primary key auto_increment, j char(255)) ;
insert into x values (null, 'foobar');
insert into x select null,'foobar' from x;
insert into x select null,'foobar' from x;
analyze table x;
Table	Op	Msg_type	Msg_text
test.x	analyze	status	OK
select count(*) from x;
count(*)
4
select i, max(j) from x group by i order by i;
i	max(j)
1	foobar
2	foobar
3	foobar
4	foobar
select * from information_schema.table_statistics where table_schema = 'test';;
TABLE_SCHEMA	test
TABLE_NAME	x
TABLE_ENGINE	MyISAM
ROWS_INSERTED	4
ROWS_UPDATED	0
ROWS_DELETED	0
ROWS_READ	7
ROWS_REQUESTED	9
COMPRESSED_PAGE_SIZE	0
COMPRESS_PADDING	0
COMPRESS_OPS	0
COMPRESS_OPS_OK	0
COMPRESS_PRIMARY_OPS	0
COMPRESS_PRIMARY_OPS_OK	0
COMPRESS_USECS	0
COMPRESS_OK_USECS	0
COMPRESS_PRIMARY_USECS	0
COMPRESS_PRIMARY_OK_USECS	0
UNCOMPRESS_OPS	0
UNCOMPRESS_USECS	0
ROWS_INDEX_FIRST	1
ROWS_INDEX_NEXT	1
IO_READ_BYTES	0
IO_READ_REQUESTS	0
IO_READ_SVC_USECS	0
IO_READ_SVC_USECS_MAX	0
IO_READ_WAIT_USECS	0
IO_READ_WAIT_USECS_MAX	0
IO_READ_SLOW_IOS	0
IO_WRITE_BYTES	0
IO_WRITE_REQUESTS	0
IO_WRITE_SVC_USECS	0
IO_WRITE_SVC_USECS_MAX	0
IO_WRITE_WAIT_USECS	0
IO_WRITE_WAIT_USECS_MAX	0
IO_WRITE_SLOW_IOS	0
IO_READ_BYTES_BLOB	0
IO_READ_REQUESTS_BLOB	0
IO_READ_SVC_USECS_BLOB	0
IO_READ_SVC_USECS_MAX_BLOB	0
IO_READ_WAIT_USECS_BLOB	0
IO_READ_WAIT_USECS_MAX_BLOB	0
IO_READ_SLOW_IOS_BLOB	0
IO_READ_BYTES_PRIMARY	0
IO_READ_REQUESTS_PRIMARY	0
IO_READ_SVC_USECS_PRIMARY	0
IO_READ_SVC_USECS_MAX_PRIMARY	0
IO_READ_WAIT_USECS_PRIMARY	0
IO_READ_WAIT_USECS_MAX_PRIMARY	0
IO_READ_SLOW_IOS_PRIMARY	0
IO_READ_BYTES_SECONDARY	0
IO_READ_REQUESTS_SECONDARY	0
IO_READ_SVC_USECS_SECONDARY	0
IO_READ_SVC_USECS_MAX_SECONDARY	0
IO_READ_WAIT_USECS_SECONDARY	0
IO_READ_WAIT_USECS_MAX_SECONDARY	0
IO_READ_SLOW_IOS_SECONDARY	0
IO_INDEX_INSERTS	0
QUERIES_USED	6
QUERIES_EMPTY	0
COMMENT_BYTES	0
ROW_LOCK_WAITS	0
ROW_LOCK_WAIT_TIMEOUTS	0
ROW_LOCK_DEADLOCKS	0
INNODB_PAGES_READ	0
INNODB_PAGES_READ_INDEX	0
INNODB_PAGES_READ_BLOB	0
INNODB_PAGES_WRITTEN	0
INNODB_PAGES_WRITTEN_INDEX	0
INNODB_PAGES_WRITTEN_BLOB	0
flush statistics;
create temporary table mt engine=myisam as select * from x;
create temporary table tt as select * from x;
select count(*) from mt;
count(*)
4
select count(*) from tt;
count(*)
4
select * from information_schema.table_statistics where table_name = 'mt' or table_name = 'tt';;
delete from x;
flush statistics;
insert into x values (1, 'foo');
insert into x values (2, 'bar');
update x set j='foo2' where i=1;
update x set j='bar2' where i=2;
delete from x where i=1;
delete from x where i=2;
select * from information_schema.table_statistics where table_name = 'x';
TABLE_SCHEMA	test
TABLE_NAME	x
TABLE_ENGINE	MyISAM
ROWS_INSERTED	2
ROWS_UPDATED	2
ROWS_DELETED	2
ROWS_READ	4
ROWS_REQUESTED	4
COMPRESSED_PAGE_SIZE	0
COMPRESS_PADDING	0
COMPRESS_OPS	0
COMPRESS_OPS_OK	0
COMPRESS_PRIMARY_OPS	0
COMPRESS_PRIMARY_OPS_OK	0
COMPRESS_USECS	0
COMPRESS_OK_USECS	0
COMPRESS_PRIMARY_USECS	0
COMPRESS_PRIMARY_OK_USECS	0
UNCOMPRESS_OPS	0
UNCOMPRESS_USECS	0
ROWS_INDEX_FIRST	4
ROWS_INDEX_NEXT	0
IO_READ_BYTES	0
IO_READ_REQUESTS	0
IO_READ_SVC_USECS	0
IO_READ_SVC_USECS_MAX	0
IO_READ_WAIT_USECS	0
IO_READ_WAIT_USECS_MAX	0
IO_READ_SLOW_IOS	0
IO_WRITE_BYTES	0
IO_WRITE_REQUESTS	0
IO_WRITE_SVC_USECS	0
IO_WRITE_SVC_USECS_MAX	0
IO_WRITE_WAIT_USECS	0
IO_WRITE_WAIT_USECS_MAX	0
IO_WRITE_SLOW_IOS	0
IO_READ_BYTES_BLOB	0
IO_READ_REQUESTS_BLOB	0
IO_READ_SVC_USECS_BLOB	0
IO_READ_SVC_USECS_MAX_BLOB	0
IO_READ_WAIT_USECS_BLOB	0
IO_READ_WAIT_USECS_MAX_BLOB	0
IO_READ_SLOW_IOS_BLOB	0
IO_READ_BYTES_PRIMARY	0
IO_READ_REQUESTS_PRIMARY	0
IO_READ_SVC_USECS_PRIMARY	0
IO_READ_SVC_USECS_MAX_PRIMARY	0
IO_READ_WAIT_USECS_PRIMARY	0
IO_READ_WAIT_USECS_MAX_PRIMARY	0
IO_READ_SLOW_IOS_PRIMARY	0
IO_READ_BYTES_SECONDARY	0
IO_READ_REQUESTS_SECONDARY	0
IO_READ_SVC_USECS_SECONDARY	0
IO_READ_SVC_USECS_MAX_SECONDARY	0
IO_READ_WAIT_USECS_SECONDARY	0
IO_READ_WAIT_USECS_MAX_SECONDARY	0
IO_READ_SLOW_IOS_SECONDARY	0
IO_INDEX_INSERTS	0
QUERIES_USED	6
QUERIES_EMPTY	0
COMMENT_BYTES	0
ROW_LOCK_WAITS	0
ROW_LOCK_WAIT_TIMEOUTS	0
ROW_LOCK_DEADLOCKS	0
INNODB_PAGES_READ	0
INNODB_PAGES_READ_INDEX	0
INNODB_PAGES_READ_BLOB	0
INNODB_PAGES_WRITTEN	0
INNODB_PAGES_WRITTEN_INDEX	0
INNODB_PAGES_WRITTEN_BLOB	0
create database `db_new..............................................end`;
use `db_new..............................................end`;
create table `t1_new..............................................end`(a int) engine=innodb;
select table_schema, table_name from information_schema.table_statistics where table_name = 't1_new..............................................end';
table_schema	db_new..............................................end
table_name	t1_new..............................................end
drop database `db_new..............................................end`;
use test;
drop table x;

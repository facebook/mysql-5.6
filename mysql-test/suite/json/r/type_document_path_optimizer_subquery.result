include/master-slave.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the master info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START SLAVE; see the 'START SLAVE Syntax' in the MySQL Manual for more information.
[connection master]
drop table if exists t1, t2, t3, t4;
create table t1 (
a1 int primary key,
b1 int,
c1 double,
d1 char(100),
doc11 document not null,
doc12 document,
# regular keys
key b1_a1         (b1, a1),
# single column keys
key doc11_bool   (doc11.bool as bool),
key doc11_int    (doc11.int as int),
key doc11_double (doc11.double as double),
key doc11_string (doc11.string as string(100)),
key doc11_binary (doc11.binary as binary(100)),
key doc11_nested (doc11.k1.k2.k3.int as int),
key doc12_int    (doc12.int as int),
key doc12_double (doc12.double as double),
# multi-column keys
key doc11_b1 (doc11.int as int, b1),
key doc11_c1 (doc11.double as double, c1),
key doc11_d1 (doc11.int as int, d1),
key b1_doc11 (b1, doc11.int as int)
) engine = innodb;
create table t2 (
a2 int primary key,
b2 int,
c2 double,
d2 char(100),
doc21 document not null,
doc22 document,
# regular keys
key b2_a2         (b2, a2),
# single column keys
key doc21_bool   (doc21.bool as bool),
key doc21_int    (doc21.int as int),
key doc21_double (doc21.double as double),
key doc21_string (doc21.string as string(100)),
key doc21_binary (doc21.binary as binary(100)),
key doc21_nested (doc21.k1.k2.k3.int as int),
key doc22_int    (doc22.int as int),
key doc22_double (doc22.double as double),
# multi-column keys
key doc21_b2 (doc21.int as int, b2),
key doc21_c2 (doc21.double as double, c2),
key doc21_d2 (doc21.int as int, d2),
key b2_doc21 (b2, doc21.int as int)
) engine = innodb;
create table t3 (
a3 int primary key,
b3 int,
c3 double,
d3 char(100),
doc31 document not null,
doc32 document,
# regular keys
key b3_a3         (b3, a3),
# single column keys
key doc31_bool   (doc31.bool as bool),
key doc31_int    (doc31.int as int),
key doc31_double (doc31.double as double),
key doc31_string (doc31.string as string(100)),
key doc31_binary (doc31.binary as binary(100)),
key doc31_nested (doc31.k1.k2.k3.int as int),
key doc32_int    (doc32.int as int),
key doc32_double (doc32.double as double),
# multi-column keys
key doc31_b3 (doc31.int as int, b3),
key doc31_c3 (doc31.double as double, c3),
key doc31_d3 (doc31.int as int, d3),
key b3_doc31 (b3, doc31.int as int)
) engine = innodb;
create table t4 (
a4 int primary key,
b4 int,
c4 double,
d4 char(100),
doc41 document not null,
doc42 document,
# regular keys
key b4        (b4),
key b4_a4     (b4, a4),
# single column keys
key doc41_bool   (doc41.bool as bool),
key doc41_int    (doc41.int as int),
key doc41_double (doc41.double as double),
key doc41_string (doc41.string as string(100)),
key doc41_binary (doc41.binary as binary(100)),
key doc41_nested (doc41.k1.k2.k3.int as int),
key doc42_int    (doc42.int as int),
key doc42_double (doc42.double as double),
# multi-column keys
key doc41_b4 (doc41.int as int, b4),
key doc41_c4 (doc41.double as double, c4),
key doc41_d4 (doc41.int as int, d4),
key b4_doc41 (b4, doc41.int as int),
key b4_c4 (b4, c4)
) engine = innodb;
insert into t1 values
(10, 10, 10.1, 'jjj', '{"bool":false, "int":10, "double":10.1, "string":"jjj", "binary":"jjj", "k1":{"k2":{"k3":{"int":10}}}, "id":10}', '{"int":10, "double":10.1}'),
(11, 11, 11.11, 'kkk', '{"bool":false, "int":11, "double":11.11, "string":"kkk", "binary":"kkk", "k1":{"k2":{"k3":{"int":11}}}, "id":11}', '{"int":11, "double":11.11}'),
(12, 12, 12.12, 'lll', '{"bool":false, "int":12, "double":12.12, "string":"lll", "binary":"lll", "k1":{"k2":{"k3":{"int":12}}}, "id":12}', '{"int":12, "double":12.12}'),
(1, 1, 1.1, 'aaa', '{"bool":true,  "int":1, "double":1.1, "string":"aaa", "binary":"aaa", "k1":{"k2":{"k3":{"int":1}}}, "id":1}', '{"int":1, "double":1.1}'),
(2, 2, 2.2, 'bbb', '{"bool":true,  "int":2, "double":2.2, "string":"bbb", "binary":"bbb", "k1":{"k2":{"k3":{"int":2}}}, "id":2}', '{"int":2, "double":2.2}'),
(3, 3, 3.3, 'ccc', '{"bool":true,  "int":3, "double":3.3, "string":"ccc", "binary":"ccc", "k1":{"k2":{"k3":{"int":3}}}, "id":3}', '{"int":3, "double":3.3}'),
(4, 4, 4.4, 'ddd', '{"bool":true,  "int":4, "double":4.4, "string":"ddd", "binary":"ddd", "k1":{"k2":{"k3":{"int":4}}}, "id":4}', '{"int":4, "double":4.4}'),
(5, 5, 5.5, 'eee', '{"bool":true,  "int":5, "double":5.5, "string":"eee", "binary":"eee", "k1":{"k2":{"k3":{"int":5}}}, "id":5}', '{"int":5, "double":5.5}'),
(6, 6, 6.6, 'fff', '{"bool":false, "int":6, "double":6.6, "string":"fff", "binary":"fff", "k1":{"k2":{"k3":{"int":6}}}, "id":6}', '{"int":6, "double":6.6}'),
(7, 7, 7.7, 'ggg', '{"bool":false, "int":7, "double":7.7, "string":"ggg", "binary":"ggg", "k1":{"k2":{"k3":{"int":7}}}, "id":7}', '{"int":7, "double":7.7}'),
(8, 8, 8.8, 'hhh', '{"bool":false, "int":8, "double":8.8, "string":"hhh", "binary":"hhh", "k1":{"k2":{"k3":{"int":8}}}, "id":8}', '{"int":8, "double":8.8}'),
(9, 9, 9.9, 'iii', '{"bool":false, "int":9, "double":9.9, "string":"iii", "binary":"iii", "k1":{"k2":{"k3":{"int":9}}}, "id":9}', '{"int":9, "double":9.9}');
analyze table t1;
Table	Op	Msg_type	Msg_text
test.t1	analyze	status	OK
insert into t2 values
(10, 10, 10.1, 'jjj', '{"bool":false, "int":10, "double":10.1, "string":"jjj", "binary":"jjj", "k1":{"k2":{"k3":{"int":10}}}, "id":10}', '{"int":10, "double":10.1}'),
(11, 11, 11.11, 'kkk', '{"bool":false, "int":11, "double":11.11, "string":"kkk", "binary":"kkk", "k1":{"k2":{"k3":{"int":11}}}, "id":11}', '{"int":11, "double":11.11}'),
(12, 12, 12.12, 'lll', '{"bool":false, "int":12, "double":12.12, "string":"lll", "binary":"lll", "k1":{"k2":{"k3":{"int":12}}}, "id":12}', '{"int":12, "double":12.12}'),
(1, 1, 1.1, 'aaa', '{"bool":true,  "int":1, "double":1.1, "string":"aaa", "binary":"aaa", "k1":{"k2":{"k3":{"int":1}}}, "id":1}', '{"int":1, "double":1.1}'),
(2, 2, 2.2, 'bbb', '{"bool":true,  "int":2, "double":2.2, "string":"bbb", "binary":"bbb", "k1":{"k2":{"k3":{"int":2}}}, "id":2}', '{"int":2, "double":2.2}'),
(3, 3, 3.3, 'ccc', '{"bool":true,  "int":3, "double":3.3, "string":"ccc", "binary":"ccc", "k1":{"k2":{"k3":{"int":3}}}, "id":3}', '{"int":3, "double":3.3}'),
(4, 4, 4.4, 'ddd', '{"bool":true,  "int":4, "double":4.4, "string":"ddd", "binary":"ddd", "k1":{"k2":{"k3":{"int":4}}}, "id":4}', '{"int":4, "double":4.4}'),
(5, 5, 5.5, 'eee', '{"bool":true,  "int":5, "double":5.5, "string":"eee", "binary":"eee", "k1":{"k2":{"k3":{"int":5}}}, "id":5}', '{"int":5, "double":5.5}'),
(6, 6, 6.6, 'fff', '{"bool":false, "int":6, "double":6.6, "string":"fff", "binary":"fff", "k1":{"k2":{"k3":{"int":6}}}, "id":6}', '{"int":6, "double":6.6}'),
(7, 7, 7.7, 'ggg', '{"bool":false, "int":7, "double":7.7, "string":"ggg", "binary":"ggg", "k1":{"k2":{"k3":{"int":7}}}, "id":7}', '{"int":7, "double":7.7}'),
(8, 8, 8.8, 'hhh', '{"bool":false, "int":8, "double":8.8, "string":"hhh", "binary":"hhh", "k1":{"k2":{"k3":{"int":8}}}, "id":8}', '{"int":8, "double":8.8}'),
(9, 9, 9.9, 'iii', '{"bool":false, "int":9, "double":9.9, "string":"iii", "binary":"iii", "k1":{"k2":{"k3":{"int":9}}}, "id":9}', '{"int":9, "double":9.9}');
analyze table t2;
Table	Op	Msg_type	Msg_text
test.t2	analyze	status	OK
insert into t3 values
(10, 10, 10.1, 'jjj', '{"bool":false, "int":10, "double":10.1, "string":"jjj", "binary":"jjj", "k1":{"k2":{"k3":{"int":10}}}, "id":10}', '{"int":10, "double":10.1}'),
(11, 11, 11.11, 'kkk', '{"bool":false, "int":11, "double":11.11, "string":"kkk", "binary":"kkk", "k1":{"k2":{"k3":{"int":11}}}, "id":11}', '{"int":11, "double":11.11}'),
(12, 12, 12.12, 'lll', '{"bool":false, "int":12, "double":12.12, "string":"lll", "binary":"lll", "k1":{"k2":{"k3":{"int":12}}}, "id":12}', '{"int":12, "double":12.12}'),
(1, 1, 1.1, 'aaa', '{"bool":true,  "int":1, "double":1.1, "string":"aaa", "binary":"aaa", "k1":{"k2":{"k3":{"int":1}}}, "id":1}', '{"int":1, "double":1.1}'),
(2, 2, 2.2, 'bbb', '{"bool":true,  "int":2, "double":2.2, "string":"bbb", "binary":"bbb", "k1":{"k2":{"k3":{"int":2}}}, "id":2}', '{"int":2, "double":2.2}'),
(3, 3, 3.3, 'ccc', '{"bool":true,  "int":3, "double":3.3, "string":"ccc", "binary":"ccc", "k1":{"k2":{"k3":{"int":3}}}, "id":3}', '{"int":3, "double":3.3}'),
(4, 4, 4.4, 'ddd', '{"bool":true,  "int":4, "double":4.4, "string":"ddd", "binary":"ddd", "k1":{"k2":{"k3":{"int":4}}}, "id":4}', '{"int":4, "double":4.4}'),
(5, 5, 5.5, 'eee', '{"bool":true,  "int":5, "double":5.5, "string":"eee", "binary":"eee", "k1":{"k2":{"k3":{"int":5}}}, "id":5}', '{"int":5, "double":5.5}'),
(6, 6, 6.6, 'fff', '{"bool":false, "int":6, "double":6.6, "string":"fff", "binary":"fff", "k1":{"k2":{"k3":{"int":6}}}, "id":6}', '{"int":6, "double":6.6}'),
(7, 7, 7.7, 'ggg', '{"bool":false, "int":7, "double":7.7, "string":"ggg", "binary":"ggg", "k1":{"k2":{"k3":{"int":7}}}, "id":7}', '{"int":7, "double":7.7}'),
(8, 8, 8.8, 'hhh', '{"bool":false, "int":8, "double":8.8, "string":"hhh", "binary":"hhh", "k1":{"k2":{"k3":{"int":8}}}, "id":8}', '{"int":8, "double":8.8}'),
(9, 9, 9.9, 'iii', '{"bool":false, "int":9, "double":9.9, "string":"iii", "binary":"iii", "k1":{"k2":{"k3":{"int":9}}}, "id":9}', '{"int":9, "double":9.9}');
analyze table t3;
Table	Op	Msg_type	Msg_text
test.t3	analyze	status	OK
insert into t4 values
(10, 10, 10.1, 'jjj', '{"bool":false, "int":10, "double":10.1, "string":"jjj", "binary":"jjj", "k1":{"k2":{"k3":{"int":10}}}, "id":10}', '{"int":10, "double":10.1}'),
(12, 12, 12.12, 'lll', '{"bool":false, "int":12, "double":12.12, "string":"lll", "binary":"lll", "k1":{"k2":{"k3":{"int":12}}}, "id":12}', '{"int":12, "double":12.12}'),
(1, 1, 1.1, 'aaa', '{"bool":true,  "int":1, "double":1.1, "string":"aaa", "binary":"aaa", "k1":{"k2":{"k3":{"int":1}}}, "id":1}', '{"int":1, "double":1.1}'),
(3, 3, 3.3, 'ccc', '{"bool":true,  "int":3, "double":3.3, "string":"ccc", "binary":"ccc", "k1":{"k2":{"k3":{"int":3}}}, "id":3}', '{"int":3, "double":3.3}'),
(6, 6, 6.6, 'fff', '{"bool":false, "int":6, "double":6.6, "string":"fff", "binary":"fff", "k1":{"k2":{"k3":{"int":6}}}, "id":6}', '{"int":6, "double":6.6}'),
(7, 7, 7.7, 'ggg', '{"bool":false, "int":7, "double":7.7, "string":"ggg", "binary":"ggg", "k1":{"k2":{"k3":{"int":7}}}, "id":7}', '{"int":7, "double":7.7}');
analyze table t4;
Table	Op	Msg_type	Msg_text
test.t4	analyze	status	OK
explain extended select * from t1 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES
select * from t1 use document keys;
a1	b1	c1	d1	doc11	doc12
1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","binary":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","binary":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	{"bool":true,"int":5,"double":5.5,"string":"eee","binary":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
explain extended select doc11 from t1 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11` AS `doc11` from `test`.`t1` USE DOCUMENT INDEXES
select doc11 from t1 use document keys;
doc11
{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}
{"bool":true,"int":2,"double":2.2,"string":"bbb","binary":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}
{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}
{"bool":true,"int":4,"double":4.4,"string":"ddd","binary":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}
{"bool":true,"int":5,"double":5.5,"string":"eee","binary":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}
{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}
{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}
{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}
{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}
{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}
{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}
{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}
explain extended select doc12 from t1 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES
select doc12 from t1 use document keys;
doc12
{"int":1,"double":1.1}
{"int":2,"double":2.2}
{"int":3,"double":3.3}
{"int":4,"double":4.4}
{"int":5,"double":5.5}
{"int":6,"double":6.6}
{"int":7,"double":7.7}
{"int":8,"double":8.8}
{"int":9,"double":9.9}
{"int":10,"double":10.1}
{"int":11,"double":11.11}
{"int":12,"double":12.12}
######################################################################
###
###   Subqueries
###     -- Semi-join for IN
###        -- Non-correlated -- where_condition involves only columns from t2 and not t1
###
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` > 9))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
`doc11`.`int`
10
11
12
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	b1_a1	b1_a1	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`b2` = `test`.`t1`.`b1`) and (`test`.`t1`.`b1` > 9))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` >= 9) and (`test`.`t1`.`doc11`.`int` < 100))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
`doc11`.`int`
9
10
11
12
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 >= 9 and t2.b2 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	b1_a1	b1_a1	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`b2` = `test`.`t1`.`b1`) and (`test`.`t1`.`b1` >= 9) and (`test`.`t1`.`b1` < 100))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	doc21_int	doc21_int	9	NULL	11	109.09	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	doc11_int	doc11_int	9	test.t2.`doc21`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`) and (`test`.`t2`.`doc21`.`int` between 2 and 12))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
`doc11`.`int`
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	b2_a2	b2_a2	5	NULL	11	109.09	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	b1_a1	b1_a1	5	test.t2.b2	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t1`.`b1` = `test`.`t2`.`b2`) and (`test`.`t2`.`b2` between 2 and 12))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	doc21_int	doc21_int	9	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	doc11_int	doc11_int	9	test.t2.`doc21`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`) and (`test`.`t2`.`doc21`.`int` not in (0,7,3,12,100)))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
`doc11`.`int`
1
2
4
5
6
8
9
10
11
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	b2_a2	b2_a2	5	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	b1_a1	b1_a1	5	test.t2.b2	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t1`.`b1` = `test`.`t2`.`b2`) and (`test`.`t2`.`b2` not in (0,7,3,12,100)))
explain extended
select doc11.int from t1 use document keys where doc11.int in (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (((`test`.`t1`.`doc11`.`int` > 3) and (`test`.`t1`.`doc11`.`int` < 8) and (`test`.`t1`.`doc11`.`int` not between 6 and 9)) or ((`test`.`t1`.`doc11`.`int` between 11 and 15) and (`test`.`t1`.`doc11`.`int` not in (4,5)))))
select doc11.int from t1 use document keys where doc11.int in (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
`doc11`.`int`
4
5
11
12
### USED AS STANDARD
explain extended select b1 from t1 where b1 in (
select b2 from t2
where ((b2 > 3 and b2 < 8) and (b2 not between 6 and 9)) or
((b2 between 11 and 15) and (b2 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	b1_a1	b1_a1	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`b2` = `test`.`t1`.`b1`) and (((`test`.`t1`.`b1` > 3) and (`test`.`t1`.`b1` < 8) and (`test`.`t1`.`b1` not between 6 and 9)) or ((`test`.`t1`.`b1` between 11 and 15) and (`test`.`t1`.`b1` not in (4,5)))))
######################################################################
###
###   Subqueries
###     -- Semi-join for ANY
###        -- Non-correlated -- where_condition involves only columns from t2 and not t1
###
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> any (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`int`) <> `test`.`t2`.`doc21`.`int`) or isnull(`test`.`t2`.`doc21`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> any (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
`doc11`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <> any (select t2.b2 from t2 where t2.b2 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`b2` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int > any (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`int` > (/* select#2 */ select min(`test`.`t2`.`doc21`.`int`) from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` >= 9) and (`test`.`t2`.`doc21`.`int` < 100)))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int > any (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
`doc11`.`int`
10
11
12
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 > any (select t2.b2 from t2 where t2.b2 >= 9 and t2.b2 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` > (/* select#2 */ select min(`test`.`t2`.`b2`) from `test`.`t2` where ((`test`.`t2`.`b2` >= 9) and (`test`.`t2`.`b2` < 100)))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= any (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`int` <= (/* select#2 */ select max(`test`.`t2`.`doc21`.`int`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` between 2 and 12))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= any (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
`doc11`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <= any (select t2.b2 from t2 where t2.b2 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` <= (/* select#2 */ select max(`test`.`t2`.`b2`) from `test`.`t2` where (`test`.`t2`.`b2` between 2 and 12))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int = any (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	doc21_int	doc21_int	9	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	doc11_int	doc11_int	9	test.t2.`doc21`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`) and (`test`.`t2`.`doc21`.`int` not in (0,7,3,12,100)))
select t1.doc11.int from t1 use document keys
where t1.doc11.int = any (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
`doc11`.`int`
1
2
4
5
6
8
9
10
11
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 = any (select t2.b2 from t2 where t2.b2 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	b2_a2	b2_a2	5	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	b1_a1	b1_a1	5	test.t2.b2	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t1`.`b1` = `test`.`t2`.`b2`) and (`test`.`t2`.`b2` not in (0,7,3,12,100)))
explain extended
select doc11.int from t1 use document keys where doc11.int <> any (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((((`test`.`t2`.`doc21`.`int` > 3) and (`test`.`t2`.`doc21`.`int` < 8) and (`test`.`t2`.`doc21`.`int` not between 6 and 9)) or ((`test`.`t2`.`doc21`.`int` between 11 and 15) and (`test`.`t2`.`doc21`.`int` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`int`) <> `test`.`t2`.`doc21`.`int`) or isnull(`test`.`t2`.`doc21`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))
select doc11.int from t1 use document keys where doc11.int <> any (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
`doc11`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select b1 from t1 where b1 <> any (
select b2 from t2
where ((b2 > 3 and b2 < 8) and (b2 not between 6 and 9)) or
((b2 between 11 and 15) and (b2 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((((`test`.`t2`.`b2` > 3) and (`test`.`t2`.`b2` < 8) and (`test`.`t2`.`b2` not between 6 and 9)) or ((`test`.`t2`.`b2` between 11 and 15) and (`test`.`t2`.`b2` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
######################################################################
###
###   Subqueries
###     -- Semi-join for SOME (an alias of ANY)
###        -- Non-correlated -- where_condition involves only columns from t2 and not t1
###
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> some (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`int`) <> `test`.`t2`.`doc21`.`int`) or isnull(`test`.`t2`.`doc21`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> some (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
`doc11`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <> some (select t2.b2 from t2 where t2.b2 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`b2` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int > some (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`int` > (/* select#2 */ select min(`test`.`t2`.`doc21`.`int`) from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` >= 9) and (`test`.`t2`.`doc21`.`int` < 100)))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int > some (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
`doc11`.`int`
10
11
12
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 > some (select t2.b2 from t2 where t2.b2 >= 9 and t2.b2 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` > (/* select#2 */ select min(`test`.`t2`.`b2`) from `test`.`t2` where ((`test`.`t2`.`b2` >= 9) and (`test`.`t2`.`b2` < 100)))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= some (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`int` <= (/* select#2 */ select max(`test`.`t2`.`doc21`.`int`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` between 2 and 12))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= some (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
`doc11`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <= some (select t2.b2 from t2 where t2.b2 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` <= (/* select#2 */ select max(`test`.`t2`.`b2`) from `test`.`t2` where (`test`.`t2`.`b2` between 2 and 12))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int = some (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	doc21_int	doc21_int	9	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	doc11_int	doc11_int	9	test.t2.`doc21`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`) and (`test`.`t2`.`doc21`.`int` not in (0,7,3,12,100)))
select t1.doc11.int from t1 use document keys
where t1.doc11.int = some (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
`doc11`.`int`
1
2
4
5
6
8
9
10
11
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 = some (select t2.b2 from t2 where t2.b2 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	b2_a2	b2_a2	5	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	b1_a1	b1_a1	5	test.t2.b2	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t1`.`b1` = `test`.`t2`.`b2`) and (`test`.`t2`.`b2` not in (0,7,3,12,100)))
explain extended
select doc11.int from t1 use document keys where doc11.int <> some (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((((`test`.`t2`.`doc21`.`int` > 3) and (`test`.`t2`.`doc21`.`int` < 8) and (`test`.`t2`.`doc21`.`int` not between 6 and 9)) or ((`test`.`t2`.`doc21`.`int` between 11 and 15) and (`test`.`t2`.`doc21`.`int` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`int`) <> `test`.`t2`.`doc21`.`int`) or isnull(`test`.`t2`.`doc21`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))
select doc11.int from t1 use document keys where doc11.int <> some (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
`doc11`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select b1 from t1 where b1 <> some (
select b2 from t2
where ((b2 > 3 and b2 < 8) and (b2 not between 6 and 9)) or
((b2 between 11 and 15) and (b2 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((((`test`.`t2`.`b2` > 3) and (`test`.`t2`.`b2` < 8) and (`test`.`t2`.`b2` not between 6 and 9)) or ((`test`.`t2`.`b2` between 11 and 15) and (`test`.`t2`.`b2` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
######################################################################
###
###   Subqueries
###     -- Semi-join for ALL
###        -- Non-correlated -- where_condition involves only columns from t2 and not t1
###
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <> all (select t2.b2 from t2 where t2.b2 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where (not(<in_optimizer>(`test`.`t1`.`b1`,`test`.`t1`.`b1` in ( <materialize> (/* select#2 */ select `test`.`t2`.`b2` from `test`.`t2` where (`test`.`t2`.`b2` > 9) having 1 ), <primary_index_lookup>(`test`.`t1`.`b1` in <temporary table> on <auto_key> where ((`test`.`t1`.`b1` = `materialized-subquery`.`b2`)))))))
explain extended select t1.doc11.int from t1 use document keys where t1.doc11.int <> all (
select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t1`.`doc11`.`int`,`test`.`t1`.`doc11`.`int` in ( <materialize> (/* select#2 */ select `test`.`t2`.`doc21`.`int` from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` > 9) having 1 ), <primary_index_lookup>(`test`.`t1`.`doc11`.`int` in <temporary table> on <auto_key> where ((`test`.`t1`.`doc11`.`int` = `materialized-subquery`.`doc21`.`int`)))))))
FIXME!! (correct query plan with wrong results)
select t1.doc11.int from t1 use document keys where t1.doc11.int <> all (
select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
`doc11`.`int`
1
2
3
4
5
6
7
8
9
11
12
### USED AS STANDARD
explain extended select b1 from t1 where b1 <> all (
select b2 from t2
where ((b2 > 3 and b2 < 8) and (b2 not between 6 and 9)) or
((b2 between 11 and 15) and (b2 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where (not(<in_optimizer>(`test`.`t1`.`b1`,`test`.`t1`.`b1` in ( <materialize> (/* select#2 */ select `test`.`t2`.`b2` from `test`.`t2` where (((`test`.`t2`.`b2` > 3) and (`test`.`t2`.`b2` < 8) and (`test`.`t2`.`b2` not between 6 and 9)) or ((`test`.`t2`.`b2` between 11 and 15) and (`test`.`t2`.`b2` not in (4,5)))) having 1 ), <primary_index_lookup>(`test`.`t1`.`b1` in <temporary table> on <auto_key> where ((`test`.`t1`.`b1` = `materialized-subquery`.`b2`)))))))
explain extended select doc11.int from t1 use document keys where doc11.int <> all (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t1`.`doc11`.`int`,`test`.`t1`.`doc11`.`int` in ( <materialize> (/* select#2 */ select `test`.`t2`.`doc21`.`int` from `test`.`t2` USE DOCUMENT INDEXES where (((`test`.`t2`.`doc21`.`int` > 3) and (`test`.`t2`.`doc21`.`int` < 8) and (`test`.`t2`.`doc21`.`int` not between 6 and 9)) or ((`test`.`t2`.`doc21`.`int` between 11 and 15) and (`test`.`t2`.`doc21`.`int` not in (4,5)))) having 1 ), <primary_index_lookup>(`test`.`t1`.`doc11`.`int` in <temporary table> on <auto_key> where ((`test`.`t1`.`doc11`.`int` = `materialized-subquery`.`doc21`.`int`)))))))
FIXME!! (correct query plan with wrong results)
select doc11.int from t1 use document keys where doc11.int <> all (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
`doc11`.`int`
1
2
3
5
6
7
8
9
10
11
12
######################################################################
###
###   Subqueries
###     -- EXISTS (with / without DISTINCT)
###        -- Correlated
###
### USED AS STANDARD
explain extended select * from t1 where exists (select * from t4 where t1.b1 = t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`))
explain extended select * from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`))
select * from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
a1	b1	c1	d1	doc11	doc12
1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended select distinct * from t1 where exists (select * from t4 where t1.b1 = t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`))
explain extended select distinct * from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`))
select distinct * from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
a1	b1	c1	d1	doc11	doc12
1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended select a1 from t1 where exists (select * from t4 where t1.b1 = t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`))
explain extended select a1 from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`))
select a1 from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
a1
1
3
6
7
10
12
### USED AS STANDARD
explain extended select distinct a1 from t1 where exists (select * from t4 where t1.b1 = t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`))
explain extended select distinct a1 from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`))
select distinct a1 from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
a1
1
3
6
7
10
12
### USED AS STANDARD
explain extended select a1 from t1 where exists (select * from t4 where t1.b1 > t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`))
explain extended select a1 from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`))
select a1 from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int);
a1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select distinct a1 from t1 where exists (select * from t4 where t1.b1 > t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`))
explain extended select distinct a1 from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`))
select distinct a1 from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int);
a1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select * from t1 where not exists (select * from t4 where t1.b1 = t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`))))
explain extended select * from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`))))
select * from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
a1	b1	c1	d1	doc11	doc12
2	2	2.2	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","binary":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
4	4	4.4	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","binary":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	{"bool":true,"int":5,"double":5.5,"string":"eee","binary":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
### USED AS STANDARD
explain extended select distinct * from t1 where not exists (select * from t4 where t1.b1 = t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`))))
explain extended select distinct * from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`))))
select distinct * from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
a1	b1	c1	d1	doc11	doc12
2	2	2.2	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","binary":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
4	4	4.4	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","binary":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	{"bool":true,"int":5,"double":5.5,"string":"eee","binary":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
### USED AS STANDARD
explain extended select a1 from t1 where not exists (select * from t4 where t1.b1 = t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`))))
explain extended select a1 from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`))))
select a1 from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
a1
2
4
5
8
9
11
### USED AS STANDARD
explain extended select distinct a1 from t1 where not exists (select * from t4 where t1.b1 = t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`))))
explain extended select distinct a1 from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`))))
select distinct a1 from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int);
a1
2
4
5
8
9
11
### USED AS STANDARD
explain extended select a1 from t1 where not exists (select * from t4 where t1.b1 > t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`))))
explain extended select a1 from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`))))
select a1 from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int);
a1
1
### USED AS STANDARD
explain extended select distinct a1 from t1 where not exists (select * from t4 where t1.b1 > t4.b4);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`))))
explain extended select distinct a1 from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`))))
select distinct a1 from t1 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int);
a1
1
### USED AS STANDARD
explain extended select * from t1 where exists (select * from t4 where t1.b1 = t4.b4) and t1.b1 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	b1_a1	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`)) and (`test`.`t1`.`b1` >= 6))
explain extended select * from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t1.doc11.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	doc11_int	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6))
select * from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t1.doc11.int >= 6;
a1	b1	c1	d1	doc11	doc12
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended select distinct * from t1 where exists (select * from t4 where t1.b1 = t4.b4) and t1.b1 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	b1_a1	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`)) and (`test`.`t1`.`b1` >= 6))
explain extended select distinct * from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t1.doc11.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	doc11_int	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6))
select distinct * from t1 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t1.doc11.int >= 6;
a1	b1	c1	d1	doc11	doc12
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended select a1 from t1, t4 where exists (select * from t4 where t1.b1 = t4.b4) and t4.b4 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	b4,b4_a4,b4_c4	b4	5	NULL	4	100.00	Using where; Using index
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` join `test`.`t4` where (exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`)) and (`test`.`t4`.`b4` >= 6))
explain extended select a1 from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t4.doc41.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	doc41_int	doc41_int	9	NULL	4	100.00	Using where; Using index
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`)) and (`test`.`t4`.`doc41`.`int` >= 6))
select a1 from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t4.doc41.int >= 6;
a1
1
1
1
1
3
3
3
3
6
6
6
6
7
7
7
7
10
10
10
10
12
12
12
12
### USED AS STANDARD
explain extended select distinct a1 from t1, t4 where exists (select * from t4 where t1.b1 = t4.b4) and t4.b4 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	b4,b4_a4,b4_c4	b4	5	NULL	4	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` join `test`.`t4` where (exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`)) and (`test`.`t4`.`b4` >= 6))
explain extended select distinct a1 from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t4.doc41.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	doc41_int	doc41_int	9	NULL	4	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`)) and (`test`.`t4`.`doc41`.`int` >= 6))
select distinct a1 from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t4.doc41.int >= 6;
a1
1
3
6
7
10
12
### USED AS STANDARD
explain extended select a1 from t1, t4 where not exists (select * from t4 where t1.b1 = t4.b4) and t4.b4 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	b4,b4_a4,b4_c4	b4	5	NULL	4	100.00	Using where; Using index
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` join `test`.`t4` where ((not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`)))) and (`test`.`t4`.`b4` >= 6))
explain extended select a1 from t1 use document keys, t4 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t4.doc41.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	doc41_int	doc41_int	9	NULL	4	100.00	Using where; Using index
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`)))) and (`test`.`t4`.`doc41`.`int` >= 6))
select a1 from t1 use document keys, t4 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t4.doc41.int >= 6;
a1
2
2
2
2
4
4
4
4
5
5
5
5
8
8
8
8
9
9
9
9
11
11
11
11
### USED AS STANDARD
explain extended select distinct a1 from t1, t4 where not exists (select * from t4 where t1.b1 = t4.b4) and t4.b4 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	b4,b4_a4,b4_c4	b4	5	NULL	4	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ref	b4,b4_a4,b4_c4	b4	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` join `test`.`t4` where ((not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` = `test`.`t4`.`b4`)))) and (`test`.`t4`.`b4` >= 6))
explain extended select distinct a1 from t1 use document keys, t4 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t4.doc41.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	doc41_int	doc41_int	9	NULL	4	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	index	PRIMARY,b1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_binary,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ref	doc41_int	doc41_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t4`.`doc41`.`int`)))) and (`test`.`t4`.`doc41`.`int` >= 6))
select distinct a1 from t1 use document keys, t4 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int = t4.doc41.int) and t4.doc41.int >= 6;
a1
2
4
5
8
9
11
### USED AS STANDARD
explain extended select * from t1, t4 where exists (select * from t4 where t1.b1 > t4.b4) and t1.b1 >= 6 and t4.b4 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	50.00	Using where
1	PRIMARY	t1	ALL	b1_a1	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12`,`test`.`t4`.`a4` AS `a4`,`test`.`t4`.`b4` AS `b4`,`test`.`t4`.`c4` AS `c4`,`test`.`t4`.`d4` AS `d4`,`test`.`t4`.`doc41` AS `doc41`,`test`.`t4`.`doc42` AS `doc42` from `test`.`t1` join `test`.`t4` where (exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`)) and (`test`.`t1`.`b1` >= 6) and (`test`.`t4`.`b4` < 8))
explain extended select * from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	ALL	doc41_int	NULL	NULL	NULL	6	50.00	Using where
1	PRIMARY	t1	ALL	doc11_int	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12`,`test`.`t4`.`a4` AS `a4`,`test`.`t4`.`b4` AS `b4`,`test`.`t4`.`c4` AS `c4`,`test`.`t4`.`d4` AS `d4`,`test`.`t4`.`doc41` AS `doc41`,`test`.`t4`.`doc42` AS `doc42` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t4`.`doc41`.`int` < 8))
select * from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
a1	b1	c1	d1	doc11	doc12	a4	b4	c4	d4	doc41	doc42
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
### USED AS STANDARD
explain extended select distinct * from t1, t4 where exists (select * from t4 where t1.b1 > t4.b4) and t1.b1 >= 6 and t4.b4 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	50.00	Using where; Using temporary
1	PRIMARY	t1	ALL	b1_a1	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12`,`test`.`t4`.`a4` AS `a4`,`test`.`t4`.`b4` AS `b4`,`test`.`t4`.`c4` AS `c4`,`test`.`t4`.`d4` AS `d4`,`test`.`t4`.`doc41` AS `doc41`,`test`.`t4`.`doc42` AS `doc42` from `test`.`t1` join `test`.`t4` where (exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`)) and (`test`.`t1`.`b1` >= 6) and (`test`.`t4`.`b4` < 8))
explain extended select distinct * from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	ALL	doc41_int	NULL	NULL	NULL	6	50.00	Using where; Using temporary
1	PRIMARY	t1	ALL	doc11_int	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12`,`test`.`t4`.`a4` AS `a4`,`test`.`t4`.`b4` AS `b4`,`test`.`t4`.`c4` AS `c4`,`test`.`t4`.`d4` AS `d4`,`test`.`t4`.`doc41` AS `doc41`,`test`.`t4`.`doc42` AS `doc42` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t4`.`doc41`.`int` < 8))
select distinct * from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
a1	b1	c1	d1	doc11	doc12	a4	b4	c4	d4	doc41	doc42
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
8	8	8.8	hhh	{"bool":false,"int":8,"double":8.8,"string":"hhh","binary":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
9	9	9.9	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","binary":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
10	10	10.1	jjj	{"bool":false,"int":10,"double":10.1,"string":"jjj","binary":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
11	11	11.11	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","binary":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	1	1	1.1	aaa	{"bool":true,"int":1,"double":1.1,"string":"aaa","binary":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	3	3	3.3	ccc	{"bool":true,"int":3,"double":3.3,"string":"ccc","binary":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	6	6	6.6	fff	{"bool":false,"int":6,"double":6.6,"string":"fff","binary":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
12	12	12.12	lll	{"bool":false,"int":12,"double":12.12,"string":"lll","binary":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	7	7	7.7	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","binary":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
### USED AS STANDARD
explain extended select a4 from t1, t4 where exists (select * from t4 where t1.b1 > t4.b4) and t1.b1 >= 6 and t4.b4 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	b4,b4_a4,b4_c4	b4	5	NULL	3	100.00	Using where; Using index
1	PRIMARY	t1	range	b1_a1	b1_a1	5	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t4`.`a4` AS `a4` from `test`.`t1` join `test`.`t4` where (exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`)) and (`test`.`t1`.`b1` >= 6) and (`test`.`t4`.`b4` < 8))
explain extended select a4 from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	doc41_int	doc41_int	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t4`.`a4` AS `a4` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t4`.`doc41`.`int` < 8))
select a4 from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
a4
1
3
6
7
1
3
6
7
1
3
6
7
1
3
6
7
1
3
6
7
1
3
6
7
1
3
6
7
### USED AS STANDARD
explain extended select distinct a4 from t1, t4 where exists (select * from t4 where t1.b1 > t4.b4) and t1.b1 >= 6 and t4.b4 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	PRIMARY,b4,b4_a4,doc41_bool,doc41_int,doc41_double,doc41_string,doc41_binary,doc41_nested,doc42_int,doc42_double,doc41_b4,doc41_c4,doc41_d4,b4_doc41,b4_c4	b4	5	NULL	3	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	range	b1_a1	b1_a1	5	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t4`.`a4` AS `a4` from `test`.`t1` join `test`.`t4` where (exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`)) and (`test`.`t1`.`b1` >= 6) and (`test`.`t4`.`b4` < 8))
explain extended select distinct a4 from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	PRIMARY,b4,b4_a4,doc41_bool,doc41_int,doc41_double,doc41_string,doc41_binary,doc41_nested,doc42_int,doc42_double,doc41_b4,doc41_c4,doc41_d4,b4_doc41,b4_c4	doc41_int	9	NULL	3	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t4`.`a4` AS `a4` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t4`.`doc41`.`int` < 8))
select distinct a4 from t1 use document keys, t4 use document keys where exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
a4
1
3
6
7
### USED AS STANDARD
explain extended select a4 from t1, t4 where not exists (select * from t4 where t1.b1 > t4.b4) and t1.b1 >= 6 and t4.b4 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	b4,b4_a4,b4_c4	b4	5	NULL	3	100.00	Using where; Using index
1	PRIMARY	t1	range	b1_a1	b1_a1	5	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t4`.`a4` AS `a4` from `test`.`t1` join `test`.`t4` where ((not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`)))) and (`test`.`t1`.`b1` >= 6) and (`test`.`t4`.`b4` < 8))
explain extended select a4 from t1 use document keys, t4 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	doc41_int	doc41_int	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t4`.`a4` AS `a4` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`)))) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t4`.`doc41`.`int` < 8))
select a4 from t1 use document keys, t4 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
a4
### USED AS STANDARD
explain extended select distinct a4 from t1, t4 where not exists (select * from t4 where t1.b1 > t4.b4) and t1.b1 >= 6 and t4.b4 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	PRIMARY,b4,b4_a4,doc41_bool,doc41_int,doc41_double,doc41_string,doc41_binary,doc41_nested,doc42_int,doc42_double,doc41_b4,doc41_c4,doc41_d4,b4_doc41,b4_c4	b4	5	NULL	3	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	range	b1_a1	b1_a1	5	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	b4,b4_a4,b4_c4	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x8006)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t4`.`a4` AS `a4` from `test`.`t1` join `test`.`t4` where ((not(exists(/* select#2 */ select 1 from `test`.`t4` where (`test`.`t1`.`b1` > `test`.`t4`.`b4`)))) and (`test`.`t1`.`b1` >= 6) and (`test`.`t4`.`b4` < 8))
explain extended select distinct a4 from t1 use document keys, t4 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t4	range	PRIMARY,b4,b4_a4,doc41_bool,doc41_int,doc41_double,doc41_string,doc41_binary,doc41_nested,doc42_int,doc42_double,doc41_b4,doc41_c4,doc41_d4,b4_doc41,b4_c4	doc41_int	9	NULL	3	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t4	ALL	doc41_int	NULL	NULL	NULL	6	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t4`.`a4` AS `a4` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t4` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t4` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t4`.`doc41`.`int`)))) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t4`.`doc41`.`int` < 8))
select distinct a4 from t1 use document keys, t4 use document keys where not exists (
select * from t4 use document keys where t1.doc11.int > t4.doc41.int) and t1.doc11.int >= 6 and t4.doc41.int < 8;
a4
######################################################################
###
###   min()
###
explain extended
select min(t1.doc11.int) from t1 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select min(`test`.`t1`.`doc11`.`int`) AS `min(t1.doc11.int)` from `test`.`t1` USE DOCUMENT INDEXES
select min(t1.doc11.int) from t1 use document keys;
min(t1.doc11.int)
1
### USED AS STANDARD
explain extended select min(t1.b1) from t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select min(`test`.`t1`.`b1`) AS `min(t1.b1)` from `test`.`t1`
explain extended
select min(t1.doc11.int) from t1 use document keys where t1.doc11.int > 5;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select min(`test`.`t1`.`doc11`.`int`) AS `min(t1.doc11.int)` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > 5)
select min(t1.doc11.int) from t1 use document keys where t1.doc11.int > 5;
min(t1.doc11.int)
6
### USED AS STANDARD
explain extended select min(t1.b1) from t1 where t1.b1 > 5;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select min(`test`.`t1`.`b1`) AS `min(t1.b1)` from `test`.`t1` where (`test`.`t1`.`b1` > 5)
######################################################################
###
###   max()
###
explain extended
select max(t1.doc11.int) from t1 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select max(`test`.`t1`.`doc11`.`int`) AS `max(t1.doc11.int)` from `test`.`t1` USE DOCUMENT INDEXES
select max(t1.doc11.int) from t1 use document keys;
max(t1.doc11.int)
12
### USED AS STANDARD
explain extended select max(t1.b1) from t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select max(`test`.`t1`.`b1`) AS `max(t1.b1)` from `test`.`t1`
explain extended
select max(t1.doc11.int) from t1 use document keys where t1.doc11.int > 5;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select max(`test`.`t1`.`doc11`.`int`) AS `max(t1.doc11.int)` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > 5)
select max(t1.doc11.int) from t1 use document keys where t1.doc11.int > 5;
max(t1.doc11.int)
12
### USED AS STANDARD
explain extended select max(t1.b1) from t1 where t1.b1 > 5;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select max(`test`.`t1`.`b1`) AS `max(t1.b1)` from `test`.`t1` where (`test`.`t1`.`b1` > 5)
drop table t1, t2, t3, t4;
include/rpl_end.inc

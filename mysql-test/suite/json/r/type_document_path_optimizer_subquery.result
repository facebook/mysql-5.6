include/master-slave.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the master info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START SLAVE; see the 'START SLAVE Syntax' in the MySQL Manual for more information.
[connection master]
drop table if exists t1, t2, t3, t6, t7, t8;
create table t1 (
a1 int primary key,
b1 int,
c1 double,
d1 char(10),
str1 mediumtext,
doc11 document,
doc12 document default null,
# regular keys
key b1_a1        (b1, a1),
key str1_a1      (str1(3)),
# single column keys
key doc11_bool   (doc11.bool as bool),
key doc11_int    (doc11.int as int),
key doc11_double (doc11.double as double),
key doc11_string (doc11.string as string(3)),
key doc11_nested (doc11.k1.k2.k3.int as int),
key doc12_int    (doc12.int as int),
key doc12_double (doc12.double as double),
# multi-column keys
key doc11_b1 (doc11.int as int, b1),
key doc11_c1 (doc11.double as double, c1),
key doc11_d1 (doc11.int as int, d1),
key b1_doc11 (b1, doc11.int as int)
) engine = innodb;
create table t2 (
a2 int primary key,
b2 int,
c2 double,
d2 char(10),
str2 mediumtext,
doc21 document,
doc22 document,
# regular keys
key b2_a2        (b2, a2),
key str2_a2      (str2(2)),
# single column keys
key doc21_bool   (doc21.bool as bool),
key doc21_int    (doc21.int as int),
key doc21_double (doc21.double as double),
key doc21_string (doc21.string as string(2)),
key doc21_nested (doc21.k1.k2.k3.int as int),
key doc22_int    (doc22.int as int),
key doc22_double (doc22.double as double),
# multi-column keys
key doc21_b2 (doc21.int as int, b2),
key doc21_c2 (doc21.double as double, c2),
key doc21_d2 (doc21.int as int, d2),
key b2_doc21 (b2, doc21.int as int)
) engine = innodb;
create table t3 (
a3 int primary key,
b3 int,
c3 double,
d3 char(10),
str3 mediumtext,
doc31 document,
doc32 document,
# regular keys
key b3_a3        (b3, a3),
key str3_a3      (str3(3)),
# single column keys
key doc31_bool   (doc31.bool as bool),
key doc31_int    (doc31.int as int),
key doc31_double (doc31.double as double),
key doc31_string (doc31.string as string(3)),
key doc31_nested (doc31.k1.k2.k3.int as int),
key doc32_int    (doc32.int as int),
key doc32_double (doc32.double as double),
# multi-column keys
key doc31_b3 (doc31.int as int, b3),
key doc31_c3 (doc31.double as double, c3),
key doc31_d3 (doc31.int as int, d3),
key b3_doc31 (b3, doc31.int as int)
) engine = innodb;
create table t6 (
a6 int primary key,
b6 int,
c6 double,
d6 char(10),
str6 mediumtext,
doc61 document,
doc62 document,
# regular keys
key b6_a6        (b6, a6),
key str6_a6      (str6(10)),
# single column keys
key doc61_bool   (doc61.bool as bool),
key doc61_int    (doc61.int as int),
key doc61_double (doc61.double as double),
key doc61_string (doc61.string as string(10)),
key doc61_nested (doc61.k1.k2.k3.int as int),
key doc62_int    (doc62.int as int),
key doc62_double (doc62.double as double),
# multi-column keys
key doc61_b6 (doc61.int as int, b6),
key doc61_c6 (doc61.double as double, c6),
key doc61_d6 (doc61.int as int, d6),
key b6_doc61 (b6, doc61.int as int)
) engine = innodb;
create table t7 (
a7 int primary key,
b7 int,
c7 double,
d7 char(10),
str7 mediumtext,
doc71 document,
doc72 document,
# regular keys
key b7_a7        (b7, a7),
key str7_a7      (str7(10)),
# single column keys
key doc71_bool   (doc71.bool as bool),
key doc71_int    (doc71.int as int),
key doc71_double (doc71.double as double),
key doc71_string (doc71.string as string(10)),
key doc71_nested (doc71.k1.k2.k3.int as int),
key doc72_int    (doc72.int as int),
key doc72_double (doc72.double as double),
# multi-column keys
key doc71_b7 (doc71.int as int, b7),
key doc71_c7 (doc71.double as double, c7),
key doc71_d7 (doc71.int as int, d7),
key b7_doc71 (b7, doc71.int as int)
) engine = innodb;
create table t8 (
a8 int primary key,
b8 int,
c8 double,
d8 char(10),
str8 mediumtext,
doc81 document,
doc82 document,
# regular keys
key b8_a8        (b8, a8),
key str8_a8      (str8(10)),
# single column keys
key doc81_bool   (doc81.bool as bool),
key doc81_int    (doc81.int as int),
key doc81_double (doc81.double as double),
key doc81_string (doc81.string as string(10)),
key doc81_nested (doc81.k1.k2.k3.int as int),
key doc82_int    (doc82.int as int),
key doc82_double (doc82.double as double),
# multi-column keys
key doc81_b8 (doc81.int as int, b8),
key doc81_c8 (doc81.double as double, c8),
key doc81_d8 (doc81.int as int, d8),
key b8_doc81 (b8, doc81.int as int)
) engine = innodb;
insert into t1 values
(10, 10, 10.1,  'jjj', 'jjj', '{"bool":false,     "int":10,      "double":"10.1", "string":"",        "k1":{"k2":{"k3":{"int":10}}},"id":10}', '{"int":10, "double":10.1}'),
(11, 11, 11.11, 'kkk', 'kkk', '{"bool":0,         "int":"11.111","double":true,   "string":"k",       "k1":{"k2":{"k3":{"int":11}}},"id":11}', '{"__t":11, "double":11.11}'),
(1,  1,  1.1,   'aaa', 'aaa', '{"bool":true,      "__t":1,       "double":1,      "string":"aaaaaaa", "k1":{"k2":{"k3":{"int":1}}}, "id":1}',  '{"int":1,  "double":1.1}'),
(2,  2,  2.2,   'bbb', 'bbb', '{"bool":"bbb",     "int":true,    "double":"2.2",  "string":2.2,       "k1":{"k2":{"k3":{"int":2}}}, "id":2}',  '{"int":2,  "___ble":2.2}'),
(3,  3,  3.3,   'ccc', 'ccc', '{"__ol":true,      "int":3,       "double":3.3,    "string":true,      "k1":{"k2":{"k3":{"int":3}}}, "id":3}',  '{"i__":3,  "dou___":3.3}'),
(5,  5,  5.5,   'eee', 'eee', '{"bool":false,     "int":5,       "double":5.5,    "string":"eee",     "k1":{"k2":{"k3":{"int":5}}}, "id":5}',  '{"int":5,  "double":5.5}'),
(8,  8,  8.8,   'hhh', 'hhh', '{"bool":123456789, "int":8,       "double":8.8,    "string":"hhh",     "k1":{"k2":{"k3":{"int":8}}}, "id":8}',  '{"int":8,  "double":8.8}'),
(9,  9,  9.9,   'iii', 'iii', '{"bool":null,      "int":null,    "double":null,   "string":null,      "k1":null}', null);
insert into t1 (a1, b1, c1, d1, str1, doc11) values
(12, 12, 12.12, 'lll', 'lll', '{"bool":2.5,       "int":false,   "double":false,  "string":12,        "k1":{"k2":{"k3":{"int":12}}},"id":12}'),
(4,  4,  4.4,   'ddd', 'ddd', '{"bool":"ddddddd", "int":"44444", "___ble":4.4,    "string":false,     "k1":{"k2":{"k3":{"int":4}}}, "id":4}'),
(7,  7,  7.7,   'ggg', 'ggg', '{"bool":"",        "int":7.777,   "double":false,  "___ing":"gg",      "k1":{"k2":{"k3":{"int":7}}}, "id":7}');
insert into t1 (a1, b1, c1, d1, str1) values
(6,  6,  6.6,   'fff', 'fff');
analyze table t1;
Table	Op	Msg_type	Msg_text
test.t1	analyze	status	OK
insert into t2 values
(10, 10, 10.1,  'jjj', 'jjj', '{"bool":false,     "int":10,      "double":"10.1", "string":"",        "k1":{"k2":{"k3":{"int":10}}},"id":10}', '{"int":10, "double":10.1}'),
(11, 11, 11.11, 'kkk', 'kkk', '{"bool":0,         "int":"11.111","double":true,   "string":"k",       "k1":{"k2":{"k3":{"int":11}}},"id":11}', '{"__t":11, "double":11.11}'),
(12, 12, 12.12, 'lll', 'lll', null,                                                                                                            null),
(1,  1,  1.1,   'aaa', 'aaa', '{"__ol":true,      "int":1,       "double":1,      "string":"aaaaaaa", "k1":{"k2":{"k3":{"int":1}}}, "id":1}',  '{"int":1,  "double":1.1}'),
(2,  2,  2.2,   'bbb', 'bbb', '{"bool":"bbb",     "int":true,    "double":"2.2",  "string":2.2,       "k1":{"k2":{"k3":{"int":2}}}, "id":2}',  '{"int":2,  "___ble":2.2}'),
(3,  3,  3.3,   'ccc', 'ccc', '{"bool":true,      "__t":3,       "___ble":3.3,    "string":true,      "k1":{"k2":{"k3":{"int":3}}}, "id":3}',  '{"i__":3,  "dou___":3.3}'),
(4,  4,  4.4,   'ddd', 'ddd', '{"bool":"ddddddd", "int":4,       "double":null,   "string":false,     "k1":{"k2":{"k3":{"int":4}}}, "id":4}',  null),
(5,  5,  5.5,   'eee', 'eee', null,                                                                                                            '{"int":5,  "double":5.5}'),
(6,  6,  6.6,   'fff', 'fff', '{"bool":false,     "int":"66666", "double":6,      "string":null,      "k1":{"k2":{"k3":{"int":6}}}, "id":6}',  '{"int":6,  "double":6.6}'),
(7,  7,  7.7,   'ggg', 'ggg', '{"bool":false,     "int":7,       "double":false,  "___ing":"g",       "k1":{"k2":{"k3":{"int":7}}}, "id":7}',  null),
(8,  8,  8.8,   'hhh', 'hhh', '{"bool":123456789, "int":null,    "double":8.8,    "string":"hhh",     "k1":{"k2":{"k3":{"int":8}}}, "id":8}',  '{"int":8,  "double":8.8}'),
(9,  9,  9.9,   'iii', 'iii', '{"bool":false,     "int":9,       "double":9.9,    "string":"iii",     "k1":{"k2":{"k3":{"int":9}}}, "id":9}',  '{"int":9,  "double":9.9}');
analyze table t2;
Table	Op	Msg_type	Msg_text
test.t2	analyze	status	OK
insert into t3 values
(1,  1,  1.1,   'aaa', 'aaa', '{"bool":true,      "int":1,       "double":1.1,    "string":"aaa",     "k1":{"k2":{"k3":{"int":1}}}, "id":1}',  '{"int":1,  "double":1.1}'),
(2,  2,  2.2,   'bbb', 'bbb', '{"bool":false,     "int":2,       "double":2.2,    "string":"bbb",     "k1":{"k2":{"k3":{"int":2}}}, "id":2}',  '{"int":2,  "double":2.2}'),
(8,  8,  8.8,   'hhh', 'hhh', '{"bool":true,      "int":8,       "double":8.8,    "string":"hhh",     "k1":{"k2":{"k3":{"int":8}}}, "id":8}',  '{"int":8,  "double":8.8}'),
(10, 10, 10.1,  'jjj', 'jjj', '{"bool":false,     "int":10,      "double":10.1,   "string":"jjj",     "k1":{"k2":{"k3":{"int":10}}},"id":10}', '{"int":10, "double":10.1}');
insert into t3 (a3, b3, c3, d3, str3) values
(11, 11, 11.11, 'kkk', 'kkk'),
(12, 12, 12.12, 'lll', 'lll'),
(3,  3,  3.3,   'ccc', 'ccc'),
(4,  4,  4.4,   'ddd', 'ddd'),
(5,  5,  5.5,   'eee', 'eee'),
(6,  6,  6.6,   'fff', 'fff'),
(7,  7,  7.7,   'ggg', 'ggg'),
(9,  9,  9.9,   'iii', 'iii');
analyze table t3;
Table	Op	Msg_type	Msg_text
test.t3	analyze	status	OK
insert into t6 values
(10, 10, 10.10, 'jjj', 'jjj', '{"bool":true,   "int":10,  "double":10.10,  "string":"jjj",   "k1":{"k2":{"k3":{"int":10}}},"id":10}', '{"int":10, "double":10.10}'),
(11, 11, 11.11, 'kkk', 'kkk', '{"bool":false,  "int":11,  "double":11.11,  "string":"kkk",   "k1":{"k2":{"k3":{"int":11}}},"id":11}', '{"int":11, "double":11.11}'),
(12, 12, 12.12, 'lll', 'lll', '{"bool":true,   "int":12,  "double":12.12,  "string":"lll",   "k1":{"k2":{"k3":{"int":12}}},"id":12}', '{"int":12, "double":12.12}'),
(1,  1,  1.1,   'aaa', 'aaa', '{"bool":false,  "int":1,   "double":1.1,    "string":"aaa",   "k1":{"k2":{"k3":{"int":1}}}, "id":1}',  '{"int":1,  "double":1.1}'),
(2,  2,  2.2,   'bbb', 'bbb', '{"bool":true,   "int":2,   "double":2.2,    "string":"bbb",   "k1":{"k2":{"k3":{"int":2}}}, "id":2}',  '{"int":2,  "double":2.2}'),
(3,  3,  3.3,   'ccc', 'ccc', '{"bool":false,  "int":3,   "double":3.3,    "string":"ccc",   "k1":{"k2":{"k3":{"int":3}}}, "id":3}',  '{"int":3,  "double":3.3}'),
(4,  4,  4.4,   'ddd', 'ddd', '{"bool":true,   "int":4,   "double":4.4,    "string":"ddd",   "k1":{"k2":{"k3":{"int":4}}}, "id":4}',  '{"int":4,  "double":4.4}'),
(5,  5,  5.5,   'eee', 'eee', '{"bool":false,  "int":5,   "double":5.5,    "string":"eee",   "k1":{"k2":{"k3":{"int":5}}}, "id":5}',  '{"int":5,  "double":5.5}'),
(6,  6,  6.6,   'fff', 'fff', '{"bool":true,   "int":6,   "double":6.6,    "string":"fff",   "k1":{"k2":{"k3":{"int":6}}}, "id":6}',  '{"int":6,  "double":6.6}'),
(7,  7,  7.7,   'ggg', 'ggg', '{"bool":false,  "int":7,   "double":7.7,    "string":"ggg",   "k1":{"k2":{"k3":{"int":7}}}, "id":7}',  '{"int":7,  "double":7.7}'),
(8,  8,  8.8,   'hhh', 'hhh', '{"bool":true,   "int":8,   "double":8.8,    "string":"hhh",   "k1":{"k2":{"k3":{"int":8}}}, "id":8}',  '{"int":8,  "double":8.8}'),
(9,  9,  9.9,   'iii', 'iii', '{"bool":false,  "int":9,   "double":9.9,    "string":"iii",   "k1":{"k2":{"k3":{"int":9}}}, "id":9}',  '{"int":9,  "double":9.9}');
analyze table t6;
Table	Op	Msg_type	Msg_text
test.t6	analyze	status	OK
insert into t7 values
(10, 10, 10.10, 'jjj', 'jjj', '{"bool":true,   "int":10,  "double":10.10,  "string":"jjj",   "k1":{"k2":{"k3":{"int":10}}},"id":10}', '{"int":10, "double":10.10}'),
(11, 11, 11.11, 'kkk', 'kkk', '{"bool":false,  "int":11,  "double":11.11,  "string":"kkk",   "k1":{"k2":{"k3":{"int":11}}},"id":11}', '{"int":11, "double":11.11}'),
(12, 12, 12.12, 'lll', 'lll', '{"bool":true,   "int":12,  "double":12.12,  "string":"lll",   "k1":{"k2":{"k3":{"int":12}}},"id":12}', '{"int":12, "double":12.12}'),
(1,  1,  1.1,   'aaa', 'aaa', '{"bool":false,  "int":1,   "double":1.1,    "string":"aaa",   "k1":{"k2":{"k3":{"int":1}}}, "id":1}',  '{"int":1,  "double":1.1}'),
(2,  2,  2.2,   'bbb', 'bbb', '{"bool":true,   "int":2,   "double":2.2,    "string":"bbb",   "k1":{"k2":{"k3":{"int":2}}}, "id":2}',  '{"int":2,  "double":2.2}'),
(3,  3,  3.3,   'ccc', 'ccc', '{"bool":false,  "int":3,   "double":3.3,    "string":"ccc",   "k1":{"k2":{"k3":{"int":3}}}, "id":3}',  '{"int":3,  "double":3.3}'),
(4,  4,  4.4,   'ddd', 'ddd', '{"bool":true,   "int":4,   "double":4.4,    "string":"ddd",   "k1":{"k2":{"k3":{"int":4}}}, "id":4}',  '{"int":4,  "double":4.4}'),
(5,  5,  5.5,   'eee', 'eee', '{"bool":false,  "int":5,   "double":5.5,    "string":"eee",   "k1":{"k2":{"k3":{"int":5}}}, "id":5}',  '{"int":5,  "double":5.5}'),
(6,  6,  6.6,   'fff', 'fff', '{"bool":true,   "int":6,   "double":6.6,    "string":"fff",   "k1":{"k2":{"k3":{"int":6}}}, "id":6}',  '{"int":6,  "double":6.6}'),
(7,  7,  7.7,   'ggg', 'ggg', '{"bool":false,  "int":7,   "double":7.7,    "string":"ggg",   "k1":{"k2":{"k3":{"int":7}}}, "id":7}',  '{"int":7,  "double":7.7}'),
(8,  8,  8.8,   'hhh', 'hhh', '{"bool":true,   "int":8,   "double":8.8,    "string":"hhh",   "k1":{"k2":{"k3":{"int":8}}}, "id":8}',  '{"int":8,  "double":8.8}'),
(9,  9,  9.9,   'iii', 'iii', '{"bool":false,  "int":9,   "double":9.9,    "string":"iii",   "k1":{"k2":{"k3":{"int":9}}}, "id":9}',  '{"int":9,  "double":9.9}');
analyze table t7;
Table	Op	Msg_type	Msg_text
test.t7	analyze	status	OK
insert into t8 values
(10, 10, 10.10, 'jjj', 'jjj', '{"bool":true,   "int":10,  "double":10.10,  "string":"jjj",   "k1":{"k2":{"k3":{"int":10}}},"id":10}', '{"int":10, "double":10.10}'),
(11, 11, 11.11, 'kkk', 'kkk', '{"bool":false,  "int":11,  "double":11.11,  "string":"kkk",   "k1":{"k2":{"k3":{"int":11}}},"id":11}', '{"int":11, "double":11.11}'),
(12, 12, 12.12, 'lll', 'lll', '{"bool":true,   "int":12,  "double":12.12,  "string":"lll",   "k1":{"k2":{"k3":{"int":12}}},"id":12}', '{"int":12, "double":12.12}'),
(1,  1,  1.1,   'aaa', 'aaa', '{"bool":false,  "int":1,   "double":1.1,    "string":"aaa",   "k1":{"k2":{"k3":{"int":1}}}, "id":1}',  '{"int":1,  "double":1.1}'),
(2,  2,  2.2,   'bbb', 'bbb', '{"bool":true,   "int":2,   "double":2.2,    "string":"bbb",   "k1":{"k2":{"k3":{"int":2}}}, "id":2}',  '{"int":2,  "double":2.2}'),
(3,  3,  3.3,   'ccc', 'ccc', '{"bool":false,  "int":3,   "double":3.3,    "string":"ccc",   "k1":{"k2":{"k3":{"int":3}}}, "id":3}',  '{"int":3,  "double":3.3}'),
(4,  4,  4.4,   'ddd', 'ddd', '{"bool":true,   "int":4,   "double":4.4,    "string":"ddd",   "k1":{"k2":{"k3":{"int":4}}}, "id":4}',  '{"int":4,  "double":4.4}'),
(5,  5,  5.5,   'eee', 'eee', '{"bool":false,  "int":5,   "double":5.5,    "string":"eee",   "k1":{"k2":{"k3":{"int":5}}}, "id":5}',  '{"int":5,  "double":5.5}'),
(6,  6,  6.6,   'fff', 'fff', '{"bool":true,   "int":6,   "double":6.6,    "string":"fff",   "k1":{"k2":{"k3":{"int":6}}}, "id":6}',  '{"int":6,  "double":6.6}'),
(7,  7,  7.7,   'ggg', 'ggg', '{"bool":false,  "int":7,   "double":7.7,    "string":"ggg",   "k1":{"k2":{"k3":{"int":7}}}, "id":7}',  '{"int":7,  "double":7.7}'),
(8,  8,  8.8,   'hhh', 'hhh', '{"bool":true,   "int":8,   "double":8.8,    "string":"hhh",   "k1":{"k2":{"k3":{"int":8}}}, "id":8}',  '{"int":8,  "double":8.8}'),
(9,  9,  9.9,   'iii', 'iii', '{"bool":false,  "int":9,   "double":9.9,    "string":"iii",   "k1":{"k2":{"k3":{"int":9}}}, "id":9}',  '{"int":9,  "double":9.9}');
analyze table t8;
Table	Op	Msg_type	Msg_text
test.t8	analyze	status	OK
explain extended select * from t1 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES
select * from t1 use document keys;
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
explain extended select doc11 from t1 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11` AS `doc11` from `test`.`t1` USE DOCUMENT INDEXES
select doc11 from t1 use document keys;
doc11
{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}
{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}
{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}
{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}
{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}
NULL
{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}
{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}
{"bool":null,"int":null,"double":null,"string":null,"k1":null}
{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}
{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}
{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}
explain extended select doc12 from t1 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES
select doc12 from t1 use document keys;
doc12
{"int":1,"double":1.1}
{"int":2,"___ble":2.2}
{"i__":3,"dou___":3.3}
NULL
{"int":5,"double":5.5}
NULL
NULL
{"int":8,"double":8.8}
NULL
{"int":10,"double":10.1}
{"__t":11,"double":11.11}
NULL
######################################################################
###
### To verify the bug fix in subselect_indexsubquery_engine::exec() in item_subselect.cc
### When building the string key for a boolean vaule, use '1'/'0' in stead of NULL
###
drop table if exists t11, t12, t13;
create table t11 (
a11 int primary key,
doc11 document,
key doc11_string (doc11.string as string(3))
) engine = innodb;
create table t12 (
a12 int primary key,
doc12 document,
key doc12_string (doc12.string as string(3))
) engine = innodb;
create table t13 (
a13 int primary key,
doc13 document,
key doc13_string (doc13.string as string(3))
) engine = innodb;
insert into t11 values (1, '{"string":"aaa"}');
insert into t12 values (1, '{"string":true}');
insert into t13 values (1, '{"string":false}');
explain extended
select t11.doc11.string from t11 use document keys
where t11.doc11.string <> all (select t12.doc12.string from t12 use document keys where t12.doc12.string > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t11	ALL	NULL	NULL	NULL	NULL	1	100.00	Using where
2	DEPENDENT SUBQUERY	t12	index_subquery	doc12_string	doc12_string	6	func	2	100.00	Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t11`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t11` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t11`.`doc11`.`string`,<exists>(<index_lookup>(<cache>(`test`.`t11`.`doc11`.`string`) in t12 on doc12_string checking NULL where (`test`.`t12`.`doc12`.`string` > 'eee') having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t12`.`doc12`.`string`), true))))))
select t11.doc11.string from t11 use document keys
where t11.doc11.string <> all (select t12.doc12.string from t12 use document keys where t12.doc12.string > "eee");
`doc11`.`string`
aaa
select t11.doc11.string from t11 use document keys
where t11.doc11.string <> all (select t13.doc13.string from t13 use document keys where t13.doc13.string > "eee");
`doc11`.`string`
aaa
drop table t11, t12, t13;
######################################################################
###
###   Subqueries
###     -- Semi-join for IN
###        -- Non-correlated -- where_condition involves only columns from t7 and not t6
###
###
### Bool: t6 and t7
###
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 in (select t7.b7 from t7 where t7.b7 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	index	b6_a6	b6_a6	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	<subquery2>	eq_ref	<auto_key>	<auto_key>	5	test.t6.b6	1	100.00	NULL
2	MATERIALIZED	t7	index	b7_a7	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`<subquery2>`.`b7` = `test`.`t6`.`b6`) and (`test`.`t7`.`b7` is true))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool in (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	index	doc71_bool	doc71_bool	2	NULL	12	33.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	doc61_bool	doc61_bool	2	test.t7.`doc71`.`bool`	3	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t6`.`doc61`.`bool` = `test`.`t7`.`doc71`.`bool`) and (`test`.`t7`.`doc71`.`bool` is true))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool in (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
`doc61`.`bool`
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool in (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is false);
`doc61`.`bool`
false
false
false
false
false
false
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool in (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	index	doc71_bool	doc71_bool	2	NULL	12	33.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	doc61_bool	doc61_bool	2	test.t7.`doc71`.`bool`	3	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t6`.`doc61`.`bool` = `test`.`t7`.`doc71`.`bool`) and (`test`.`t7`.`doc71`.`bool` is not true))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool in (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is not true);
`doc61`.`bool`
false
false
false
false
false
false
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool not in (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index_subquery	doc71_bool	doc71_bool	2	func	6	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t6`.`doc61`.`bool`,<exists>(<index_lookup>(<cache>(`test`.`t6`.`doc61`.`bool`) in t7 on doc71_bool checking NULL where (`test`.`t7`.`doc71`.`bool` is true) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`bool`), true))))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool not in (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
`doc61`.`bool`
false
false
false
false
false
false
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool not in (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index_subquery	doc71_bool	doc71_bool	2	func	6	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t6`.`doc61`.`bool`,<exists>(<index_lookup>(<cache>(`test`.`t6`.`doc61`.`bool`) in t7 on doc71_bool checking NULL where (`test`.`t7`.`doc71`.`bool` is not true) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`bool`), true))))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool not in (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is not true);
`doc61`.`bool`
true
true
true
true
true
true
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	index	doc61_int	doc61_int	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`int` = `test`.`t6`.`doc61`.`int`) and (`test`.`t6`.`doc61`.`int` is true))
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int is true);
`doc61`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
select t6.doc61.int from t6 use document keys
where t6.doc61.int not in (select t7.doc71.int from t7 use document keys where t7.doc71.int is not true);
`doc61`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
explain extended
select t6.doc61.double from t6 use document keys
where t6.doc61.double in (select t7.doc71.double from t7 use document keys where t7.doc71.double is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	index	doc61_double	doc61_double	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	t7	ref	doc71_double	doc71_double	9	test.t6.`doc61`.`double`	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`double` AS "`doc61`.`double`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`double` = `test`.`t6`.`doc61`.`double`) and (`test`.`t6`.`doc61`.`double` is true))
select t6.doc61.double from t6 use document keys
where t6.doc61.double in (select t7.doc71.double from t7 use document keys where t7.doc71.double is true);
`doc61`.`double`
1.1
2.2
3.3
4.4
5.5
6.6
7.7
8.8
9.9
10.1
select t6.doc61.double from t6 use document keys
where t6.doc61.double not in (select t7.doc71.double from t7 use document keys where t7.doc71.double is not true);
`doc61`.`double`
1.1
2.2
3.3
4.4
5.5
6.6
7.7
8.8
9.9
10.1
11.11
12.12
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string in (select t7.doc71.string from t7 use document keys where t7.doc71.string is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	ALL	doc61_string	NULL	NULL	NULL	12	100.00	Using where
1	SIMPLE	t7	ref	doc71_string	doc71_string	13	test.t6.`doc61`.`string`	1	100.00	Using where; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`string` = `test`.`t6`.`doc61`.`string`) and (`test`.`t7`.`doc71`.`string` is false))
select t6.doc61.string from t6 use document keys
where t6.doc61.string in (select t7.doc71.string from t7 use document keys where t7.doc71.string is false);
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
iii
jjj
kkk
lll
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaa'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ccc'
Warning	1292	Truncated incorrect DOUBLE value: 'ddd'
Warning	1292	Truncated incorrect DOUBLE value: 'eee'
Warning	1292	Truncated incorrect DOUBLE value: 'fff'
Warning	1292	Truncated incorrect DOUBLE value: 'ggg'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'iii'
Warning	1292	Truncated incorrect DOUBLE value: 'jjj'
Warning	1292	Truncated incorrect DOUBLE value: 'kkk'
Warning	1292	Truncated incorrect DOUBLE value: 'lll'
###
### Bool: t1 and t2
###
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	b1_a1	b1_a1	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`b2` = `test`.`t1`.`b1`) and (`test`.`t1`.`b1` > 9))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` > 9))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
`doc11`.`int`
10
11
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	index	b1_a1	b1_a1	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	<subquery2>	eq_ref	<auto_key>	<auto_key>	5	test.t1.b1	1	100.00	NULL
2	MATERIALIZED	t2	index	b2_a2	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`<subquery2>`.`b2` = `test`.`t1`.`b1`) and (`test`.`t2`.`b2` is true))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool in (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	index	doc21_bool	doc21_bool	2	NULL	12	50.00	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	doc11_bool	doc11_bool	2	test.t2.`doc21`.`bool`	2	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t1`.`doc11`.`bool` = `test`.`t2`.`doc21`.`bool`) and (`test`.`t2`.`doc21`.`bool` is true))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool in (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
`doc11`.`bool`
true
true
true
true
true
true
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool in (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is false);
`doc11`.`bool`
false
false
false
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool in (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	index	doc21_bool	doc21_bool	2	NULL	12	50.00	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	doc11_bool	doc11_bool	2	test.t2.`doc21`.`bool`	2	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t1`.`doc11`.`bool` = `test`.`t2`.`doc21`.`bool`) and (`test`.`t2`.`doc21`.`bool` is not true))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool in (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
`doc11`.`bool`
false
false
false
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool not in (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index_subquery	doc21_bool	doc21_bool	2	func	4	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t1`.`doc11`.`bool`,<exists>(<index_lookup>(<cache>(`test`.`t1`.`doc11`.`bool`) in t2 on doc21_bool checking NULL where (`test`.`t2`.`doc21`.`bool` is true) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`bool`), true))))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool not in (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
`doc11`.`bool`
false
false
false
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool not in (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index_subquery	doc21_bool	doc21_bool	2	func	4	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t1`.`doc11`.`bool`,<exists>(<index_lookup>(<cache>(`test`.`t1`.`doc11`.`bool`) in t2 on doc21_bool checking NULL where (`test`.`t2`.`doc21`.`bool` is not true) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`bool`), true))))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool not in (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
`doc11`.`bool`
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	index	doc11_int	doc11_int	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` is true))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int is true);
`doc11`.`int`
1
7
10
11
select t1.doc11.int from t1 use document keys
where t1.doc11.int not in (select t2.doc21.int from t2 use document keys where t2.doc21.int is not true);
`doc11`.`int`
explain extended
select t1.doc11.double from t1 use document keys
where t1.doc11.double in (select t2.doc21.double from t2 use document keys where t2.doc21.double is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	index	doc11_double	doc11_double	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_double	doc21_double	9	test.t1.`doc11`.`double`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`double` AS "`doc11`.`double`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`double` = `test`.`t1`.`doc11`.`double`) and (`test`.`t1`.`doc11`.`double` is true))
select t1.doc11.double from t1 use document keys
where t1.doc11.double in (select t2.doc21.double from t2 use document keys where t2.doc21.double is true);
`doc11`.`double`
1
1
2.2
8.8
10.1
select t1.doc11.double from t1 use document keys
where t1.doc11.double not in (select t2.doc21.double from t2 use document keys where t2.doc21.double is not true);
`doc11`.`double`
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string in (select t2.doc21.string from t2 use document keys where t2.doc21.string is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	doc11_string	NULL	NULL	NULL	12	100.00	Using where
1	SIMPLE	t2	ref	doc21_string	doc21_string	5	test.t1.`doc11`.`string`	1	100.00	Using where; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`string` = `test`.`t1`.`doc11`.`string`) and (`test`.`t2`.`doc21`.`string` is false))
select t1.doc11.string from t1 use document keys
where t1.doc11.string in (select t2.doc21.string from t2 use document keys where t2.doc21.string is false);
`doc11`.`string`
aaaaaaa
hhh

k
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaaaaaa'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'k'
###
### Range: t6 and t7
###
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 in (select t7.b7 from t7 where t7.b7 <= 3);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	range	b6_a6	b6_a6	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t7`.`b7` = `test`.`t6`.`b6`) and (`test`.`t6`.`b6` <= 3))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int <= 3);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	range	doc61_int	doc61_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`int` = `test`.`t6`.`doc61`.`int`) and (`test`.`t6`.`doc61`.`int` <= 3))
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int <= 3);
`doc61`.`int`
1
2
3
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 in (select t7.b7 from t7 where t7.b7 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	range	b6_a6	b6_a6	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t7`.`b7` = `test`.`t6`.`b6`) and (`test`.`t6`.`b6` > 9))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	range	doc61_int	doc61_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`int` = `test`.`t6`.`doc61`.`int`) and (`test`.`t6`.`doc61`.`int` > 9))
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9);
`doc61`.`int`
10
11
12
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 in (select t7.b7 from t7 where t7.b7 >= 9 and t7.b7 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	range	b6_a6	b6_a6	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t7`.`b7` = `test`.`t6`.`b6`) and (`test`.`t6`.`b6` >= 9) and (`test`.`t6`.`b6` < 100))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int >= 9 and t7.doc71.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	range	doc61_int	doc61_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`int` = `test`.`t6`.`doc61`.`int`) and (`test`.`t6`.`doc61`.`int` >= 9) and (`test`.`t6`.`doc61`.`int` < 100))
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int >= 9 and t7.doc71.int < 100);
`doc61`.`int`
9
10
11
12
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 in (select t7.b7 from t7 where t7.b7 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	range	b7_a7	b7_a7	5	NULL	11	109.09	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	b6_a6	b6_a6	5	test.t7.b7	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t6`.`b6` = `test`.`t7`.`b7`) and (`test`.`t7`.`b7` between 2 and 12))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	range	doc71_int	doc71_int	9	NULL	11	109.09	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	doc61_int	doc61_int	9	test.t7.`doc71`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`) and (`test`.`t7`.`doc71`.`int` between 2 and 12))
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int between 2 and 12);
`doc61`.`int`
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 in (select t7.b7 from t7 where t7.b7 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	range	b7_a7	b7_a7	5	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	b6_a6	b6_a6	5	test.t7.b7	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t6`.`b6` = `test`.`t7`.`b7`) and (`test`.`t7`.`b7` not in (0,7,3,12,100)))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	range	doc71_int	doc71_int	9	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	doc61_int	doc61_int	9	test.t7.`doc71`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`) and (`test`.`t7`.`doc71`.`int` not in (0,7,3,12,100)))
select t6.doc61.int from t6 use document keys
where t6.doc61.int in (select t7.doc71.int from t7 use document keys where t7.doc71.int not in (0, 7, 3, 12, 100));
`doc61`.`int`
1
2
4
5
6
8
9
10
11
### USED AS STANDARD
explain extended select b6 from t6 where b6 in (
select b7 from t7
where ((b7 > 3 and b7 < 8) and (b7 not between 6 and 9)) or
((b7 between 11 and 15) and (b7 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	range	b6_a6	b6_a6	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t7`.`b7` = `test`.`t6`.`b6`) and (((`test`.`t6`.`b6` > 3) and (`test`.`t6`.`b6` < 8) and (`test`.`t6`.`b6` not between 6 and 9)) or ((`test`.`t6`.`b6` between 11 and 15) and (`test`.`t6`.`b6` not in (4,5)))))
explain extended
select doc61.int from t6 use document keys where doc61.int in (
select doc71.int from t7 use document keys
where ((doc71.int > 3 and doc71.int < 8) and (doc71.int not between 6 and 9)) or
((doc71.int between 11 and 15) and (doc71.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	range	doc61_int	doc61_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`int` = `test`.`t6`.`doc61`.`int`) and (((`test`.`t6`.`doc61`.`int` > 3) and (`test`.`t6`.`doc61`.`int` < 8) and (`test`.`t6`.`doc61`.`int` not between 6 and 9)) or ((`test`.`t6`.`doc61`.`int` between 11 and 15) and (`test`.`t6`.`doc61`.`int` not in (4,5)))))
select doc61.int from t6 use document keys where doc61.int in (
select doc71.int from t7 use document keys
where ((doc71.int > 3 and doc71.int < 8) and (doc71.int not between 6 and 9)) or
((doc71.int between 11 and 15) and (doc71.int not in (4, 5))));
`doc61`.`int`
4
5
11
12
### USED AS STANDARD
explain extended select t6.c6 from t6 where t6.c6 in (select t7.c7 from t7 where t7.c7 > 9.9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	SIMPLE	<subquery2>	eq_ref	<auto_key>	<auto_key>	9	test.t6.c6	1	100.00	NULL
2	MATERIALIZED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`c6` AS `c6` from `test`.`t6` semi join (`test`.`t7`) where ((`<subquery2>`.`c7` = `test`.`t6`.`c6`) and (`test`.`t7`.`c7` > 9.9))
select t6.c6 from t6 where t6.c6 in (select t7.c7 from t7 where t7.c7 > 9.9);
c6
10.1
11.11
12.12
### FIXME: double: different plan
explain extended
select t6.doc61.double from t6 use document keys
where t6.doc61.double in (select t7.doc71.double from t7 use document keys where t7.doc71.double > 9.9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	range	doc61_double	doc61_double	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t7	ref	doc71_double	doc71_double	9	test.t6.`doc61`.`double`	1	100.00	Using index; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`double` AS "`doc61`.`double`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`double` = `test`.`t6`.`doc61`.`double`) and (`test`.`t6`.`doc61`.`double` > 9.9))
select t6.doc61.double from t6 use document keys
where t6.doc61.double in (select t7.doc71.double from t7 use document keys where t7.doc71.double > 9.9);
`doc61`.`double`
10.1
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 in (select t7.str7 from t7 where t7.str7 > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	ALL	str6_a6	NULL	NULL	NULL	12	66.67	Using where
1	SIMPLE	t7	ref	str7_a7	str7_a7	13	test.t6.str6	1	100.00	Using where; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t7`.`str7` = `test`.`t6`.`str6`) and (`test`.`t6`.`str6` > 'eee'))
select t6.str6 from t6 where t6.str6 in (select t7.str7 from t7 where t7.str7 > "eee");
str6
fff
ggg
hhh
iii
jjj
kkk
lll
### FIXME: string: different plan
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string in (select t7.doc71.string from t7 use document keys where t7.doc71.string > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	ALL	doc61_string	NULL	NULL	NULL	12	58.33	Using where
1	SIMPLE	t7	ref	doc71_string	doc71_string	13	test.t6.`doc61`.`string`	1	100.00	FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`string` = `test`.`t6`.`doc61`.`string`) and (`test`.`t6`.`doc61`.`string` > 'eee'))
select t6.doc61.string from t6 use document keys
where t6.doc61.string in (select t7.doc71.string from t7 use document keys where t7.doc71.string > "eee");
`doc61`.`string`
fff
ggg
hhh
iii
jjj
kkk
lll
###
### Range: t1 and t2
###
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 <= 3);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	b1_a1	b1_a1	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`b2` = `test`.`t1`.`b1`) and (`test`.`t1`.`b1` <= 3))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int <= 3);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` <= 3))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int <= 3);
`doc11`.`int`
1
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	b1_a1	b1_a1	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`b2` = `test`.`t1`.`b1`) and (`test`.`t1`.`b1` > 9))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` > 9))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
`doc11`.`int`
10
11
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 >= 9 and t2.b2 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	b1_a1	b1_a1	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`b2` = `test`.`t1`.`b1`) and (`test`.`t1`.`b1` >= 9) and (`test`.`t1`.`b1` < 100))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	1	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` >= 9) and (`test`.`t1`.`doc11`.`int` < 100))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
`doc11`.`int`
10
11
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	b2_a2	b2_a2	5	NULL	11	109.09	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	b1_a1	b1_a1	5	test.t2.b2	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t1`.`b1` = `test`.`t2`.`b2`) and (`test`.`t2`.`b2` between 2 and 12))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	6	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` between 2 and 12))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
`doc11`.`int`
7
10
11
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 in (select t2.b2 from t2 where t2.b2 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	b2_a2	b2_a2	5	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	b1_a1	b1_a1	5	test.t2.b2	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t1`.`b1` = `test`.`t2`.`b2`) and (`test`.`t2`.`b2` not in (0,7,3,12,100)))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	7	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` not in (0,7,3,12,100)))
select t1.doc11.int from t1 use document keys
where t1.doc11.int in (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
`doc11`.`int`
1
10
11
### USED AS STANDARD
explain extended select b1 from t1 where b1 in (
select b2 from t2
where ((b2 > 3 and b2 < 8) and (b2 not between 6 and 9)) or
((b2 between 11 and 15) and (b2 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	b1_a1	b1_a1	5	NULL	3	100.00	Using where; Using index
1	SIMPLE	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`b2` = `test`.`t1`.`b1`) and (((`test`.`t1`.`b1` > 3) and (`test`.`t1`.`b1` < 8) and (`test`.`t1`.`b1` not between 6 and 9)) or ((`test`.`t1`.`b1` between 11 and 15) and (`test`.`t1`.`b1` not in (4,5)))))
explain extended
select doc11.int from t1 use document keys where doc11.int in (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	index	doc11_int	doc11_int	9	NULL	12	16.67	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (((`test`.`t1`.`doc11`.`int` > 3) and (`test`.`t1`.`doc11`.`int` < 8) and (`test`.`t1`.`doc11`.`int` not between 6 and 9)) or ((`test`.`t1`.`doc11`.`int` between 11 and 15) and (`test`.`t1`.`doc11`.`int` not in (4,5)))))
select doc11.int from t1 use document keys where doc11.int in (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
`doc11`.`int`
11
### USED AS STANDARD
explain extended select t1.c1 from t1 where t1.c1 in (select t2.c2 from t2 where t2.c2 > 9.9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	SIMPLE	<subquery2>	eq_ref	<auto_key>	<auto_key>	9	test.t1.c1	1	100.00	NULL
2	MATERIALIZED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`c1` AS `c1` from `test`.`t1` semi join (`test`.`t2`) where ((`<subquery2>`.`c2` = `test`.`t1`.`c1`) and (`test`.`t2`.`c2` > 9.9))
select t1.c1 from t1 where t1.c1 in (select t2.c2 from t2 where t2.c2 > 9.9);
c1
10.1
11.11
12.12
### FIXME: double: different plan
explain extended
select t1.doc11.double from t1 use document keys
where t1.doc11.double in (select t2.doc21.double from t2 use document keys where t2.doc21.double > 9.9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_double	doc11_double	9	NULL	1	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_double	doc21_double	9	test.t1.`doc11`.`double`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`double` AS "`doc11`.`double`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`double` = `test`.`t1`.`doc11`.`double`) and (`test`.`t1`.`doc11`.`double` > 9.9))
select t1.doc11.double from t1 use document keys
where t1.doc11.double in (select t2.doc21.double from t2 use document keys where t2.doc21.double > 9.9);
`doc11`.`double`
10.1
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 in (select t2.str2 from t2 where t2.str2 > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	str1_a1	NULL	NULL	NULL	12	66.67	Using where
1	SIMPLE	t2	ref	str2_a2	str2_a2	5	test.t1.str1	1	100.00	Using where; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`str2` = `test`.`t1`.`str1`) and (`test`.`t1`.`str1` > 'eee'))
select t1.str1 from t1 where t1.str1 in (select t2.str2 from t2 where t2.str2 > "eee");
str1
fff
ggg
hhh
iii
jjj
kkk
lll
### FIXME: string: different plan
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string in (select t2.doc21.string from t2 use document keys where t2.doc21.string > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_string	doc11_string	6	NULL	2	100.00	Using where
1	SIMPLE	t2	ref	doc21_string	doc21_string	5	test.t1.`doc11`.`string`	1	100.00	FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`string` = `test`.`t1`.`doc11`.`string`) and (`test`.`t1`.`doc11`.`string` > 'eee'))
select t1.doc11.string from t1 use document keys
where t1.doc11.string in (select t2.doc21.string from t2 use document keys where t2.doc21.string > "eee");
`doc11`.`string`
hhh
k
######################################################################
###
###   Subqueries
###     -- Semi-join for ANY
###        -- Non-correlated -- where_condition involves only columns from t7 and not t6
###
###
### Bool: t6 and t7
###
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 = any (select t7.b7 from t7 where t7.b7 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	index	b6_a6	b6_a6	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	<subquery2>	eq_ref	<auto_key>	<auto_key>	5	test.t6.b6	1	100.00	NULL
2	MATERIALIZED	t7	index	b7_a7	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`<subquery2>`.`b7` = `test`.`t6`.`b6`) and (`test`.`t7`.`b7` is true))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool = any (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	index	doc71_bool	doc71_bool	2	NULL	12	33.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	doc61_bool	doc61_bool	2	test.t7.`doc71`.`bool`	3	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t6`.`doc61`.`bool` = `test`.`t7`.`doc71`.`bool`) and (`test`.`t7`.`doc71`.`bool` is true))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool = any (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
`doc61`.`bool`
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <> any (select t7.b7 from t7 where t7.b7 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>(<in_optimizer>(`test`.`t6`.`b6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((`test`.`t7`.`b7` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`b6`) <> `test`.`t7`.`b7`) or isnull(`test`.`t7`.`b7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`b7`), true))))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <> any (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t6`.`doc61`.`bool`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`bool` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`bool`) <> `test`.`t7`.`doc71`.`bool`) or isnull(`test`.`t7`.`doc71`.`bool`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`bool`), true))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <> any (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
`doc61`.`bool`
false
false
false
false
false
false
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 > any (select t7.b7 from t7 where t7.b7 is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>((`test`.`t6`.`b6` > (/* select#2 */ select min(`test`.`t7`.`b7`) from `test`.`t7` where (`test`.`t7`.`b7` is not true))))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool > any (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>((`test`.`t6`.`doc61`.`bool` > (/* select#2 */ select min(`test`.`t7`.`doc71`.`bool`) from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` is not true))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool > any (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is not true);
`doc61`.`bool`
true
true
true
true
true
true
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <= any (select t7.b7 from t7 where t7.b7 is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>((`test`.`t6`.`b6` <= (/* select#2 */ select max(`test`.`t7`.`b7`) from `test`.`t7` where (`test`.`t7`.`b7` is false))))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <= any (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>((`test`.`t6`.`doc61`.`bool` <= (/* select#2 */ select max(`test`.`t7`.`doc71`.`bool`) from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` is false))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <= any (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is false);
`doc61`.`bool`
false
false
false
false
false
false
###
### Bool: t1 and t2
###
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 = any (select t2.b2 from t2 where t2.b2 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	index	b1_a1	b1_a1	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	<subquery2>	eq_ref	<auto_key>	<auto_key>	5	test.t1.b1	1	100.00	NULL
2	MATERIALIZED	t2	index	b2_a2	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`<subquery2>`.`b2` = `test`.`t1`.`b1`) and (`test`.`t2`.`b2` is true))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool = any (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	index	doc21_bool	doc21_bool	2	NULL	12	50.00	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	doc11_bool	doc11_bool	2	test.t2.`doc21`.`bool`	2	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t1`.`doc11`.`bool` = `test`.`t2`.`doc21`.`bool`) and (`test`.`t2`.`doc21`.`bool` is true))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool = any (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
`doc11`.`bool`
true
true
true
true
true
true
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <> any (select t2.b2 from t2 where t2.b2 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`b2` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <> any (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`bool`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`bool` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`bool`) <> `test`.`t2`.`doc21`.`bool`) or isnull(`test`.`t2`.`doc21`.`bool`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`bool`), true))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <> any (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
`doc11`.`bool`
false
false
false
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 > any (select t2.b2 from t2 where t2.b2 is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` > (/* select#2 */ select min(`test`.`t2`.`b2`) from `test`.`t2` where (`test`.`t2`.`b2` is not true))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool > any (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`bool` > (/* select#2 */ select min(`test`.`t2`.`doc21`.`bool`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is not true))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool > any (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
`doc11`.`bool`
true
true
true
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <= any (select t2.b2 from t2 where t2.b2 is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` <= (/* select#2 */ select max(`test`.`t2`.`b2`) from `test`.`t2` where (`test`.`t2`.`b2` is false))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <= any (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`bool` <= (/* select#2 */ select max(`test`.`t2`.`doc21`.`bool`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is false))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <= any (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is false);
`doc11`.`bool`
false
false
false
###
### Range: t6 and t7
###
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <> any (select t7.b7 from t7 where t7.b7 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	range	b7_a7	b7_a7	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>(<in_optimizer>(`test`.`t6`.`b6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((`test`.`t7`.`b7` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`b6`) <> `test`.`t7`.`b7`) or isnull(`test`.`t7`.`b7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`b7`), true))))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int <> any (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	range	doc71_int	doc71_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t6`.`doc61`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`int` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`int`) <> `test`.`t7`.`doc71`.`int`) or isnull(`test`.`t7`.`doc71`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`int`), true))))
select t6.doc61.int from t6 use document keys
where t6.doc61.int <> any (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9);
`doc61`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 > any (select t7.b7 from t7 where t7.b7 >= 9 and t7.b7 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>((`test`.`t6`.`b6` > (/* select#2 */ select min(`test`.`t7`.`b7`) from `test`.`t7` where ((`test`.`t7`.`b7` >= 9) and (`test`.`t7`.`b7` < 100)))))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int > any (select t7.doc71.int from t7 use document keys where t7.doc71.int >= 9 and t7.doc71.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>((`test`.`t6`.`doc61`.`int` > (/* select#2 */ select min(`test`.`t7`.`doc71`.`int`) from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`int` >= 9) and (`test`.`t7`.`doc71`.`int` < 100)))))
select t6.doc61.int from t6 use document keys
where t6.doc61.int > any (select t7.doc71.int from t7 use document keys where t7.doc71.int >= 9 and t7.doc71.int < 100);
`doc61`.`int`
10
11
12
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <= any (select t7.b7 from t7 where t7.b7 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>((`test`.`t6`.`b6` <= (/* select#2 */ select max(`test`.`t7`.`b7`) from `test`.`t7` where (`test`.`t7`.`b7` between 2 and 12))))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int <= any (select t7.doc71.int from t7 use document keys where t7.doc71.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>((`test`.`t6`.`doc61`.`int` <= (/* select#2 */ select max(`test`.`t7`.`doc71`.`int`) from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`int` between 2 and 12))))
select t6.doc61.int from t6 use document keys
where t6.doc61.int <= any (select t7.doc71.int from t7 use document keys where t7.doc71.int between 2 and 12);
`doc61`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 = any (select t7.b7 from t7 where t7.b7 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	range	b7_a7	b7_a7	5	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	b6_a6	b6_a6	5	test.t7.b7	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t6`.`b6` = `test`.`t7`.`b7`) and (`test`.`t7`.`b7` not in (0,7,3,12,100)))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int = any (select t7.doc71.int from t7 use document keys where t7.doc71.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	range	doc71_int	doc71_int	9	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	doc61_int	doc61_int	9	test.t7.`doc71`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`) and (`test`.`t7`.`doc71`.`int` not in (0,7,3,12,100)))
select t6.doc61.int from t6 use document keys
where t6.doc61.int = any (select t7.doc71.int from t7 use document keys where t7.doc71.int not in (0, 7, 3, 12, 100));
`doc61`.`int`
1
2
4
5
6
8
9
10
11
### USED AS STANDARD
explain extended select b6 from t6 where b6 <> any (
select b7 from t7
where ((b7 > 3 and b7 < 8) and (b7 not between 6 and 9)) or
((b7 between 11 and 15) and (b7 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	range	b7_a7	b7_a7	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>(<in_optimizer>(`test`.`t6`.`b6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((((`test`.`t7`.`b7` > 3) and (`test`.`t7`.`b7` < 8) and (`test`.`t7`.`b7` not between 6 and 9)) or ((`test`.`t7`.`b7` between 11 and 15) and (`test`.`t7`.`b7` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`b6`) <> `test`.`t7`.`b7`) or isnull(`test`.`t7`.`b7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`b7`), true))))
explain extended
select doc61.int from t6 use document keys where doc61.int <> any (
select doc71.int from t7 use document keys
where ((doc71.int > 3 and doc71.int < 8) and (doc71.int not between 6 and 9)) or
((doc71.int between 11 and 15) and (doc71.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	range	doc71_int	doc71_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t6`.`doc61`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((((`test`.`t7`.`doc71`.`int` > 3) and (`test`.`t7`.`doc71`.`int` < 8) and (`test`.`t7`.`doc71`.`int` not between 6 and 9)) or ((`test`.`t7`.`doc71`.`int` between 11 and 15) and (`test`.`t7`.`doc71`.`int` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`int`) <> `test`.`t7`.`doc71`.`int`) or isnull(`test`.`t7`.`doc71`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`int`), true))))
select doc61.int from t6 use document keys where doc61.int <> any (
select doc71.int from t7 use document keys
where ((doc71.int > 3 and doc71.int < 8) and (doc71.int not between 6 and 9)) or
((doc71.int between 11 and 15) and (doc71.int not in (4, 5))));
`doc61`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 <> any (select t7.str7 from t7 where t7.str7 > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ALL	str7_a7	NULL	NULL	NULL	12	66.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where <nop>(<in_optimizer>(`test`.`t6`.`str6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((`test`.`t7`.`str7` > 'eee') and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`str6`) <> `test`.`t7`.`str7`) or isnull(`test`.`t7`.`str7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`str7`), true))))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string <> any (select t7.doc71.string from t7 use document keys where t7.doc71.string > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ALL	doc71_string	NULL	NULL	NULL	12	58.33	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t6`.`doc61`.`string`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`string` > 'eee') and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`string`) <> `test`.`t7`.`doc71`.`string`) or isnull(`test`.`t7`.`doc71`.`string`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`string`), true))))
select t6.doc61.string from t6 use document keys
where t6.doc61.string <> any (select t7.doc71.string from t7 use document keys where t7.doc71.string > "eee");
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
iii
jjj
kkk
lll
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 > any (select t7.str7 from t7 where t7.str7 >= "hhh" and t7.str7 < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t7	ALL	str7_a7	NULL	NULL	NULL	12	41.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where <nop>((`test`.`t6`.`str6` > (/* select#2 */ select min(`test`.`t7`.`str7`) from `test`.`t7` where ((`test`.`t7`.`str7` >= 'hhh') and (`test`.`t7`.`str7` < 'zzz')))))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string > any (select t7.doc71.string from t7 use document keys where t7.doc71.string >= "hhh" and t7.doc71.string < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>((`test`.`t6`.`doc61`.`string` > (/* select#2 */ select min(`test`.`t7`.`doc71`.`string`) from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`string` >= 'hhh') and (`test`.`t7`.`doc71`.`string` < 'zzz')))))
select t6.doc61.string from t6 use document keys
where t6.doc61.string > any (select t7.doc71.string from t7 use document keys where t7.doc71.string >= "hhh" and t7.doc71.string < "zzz");
`doc61`.`string`
iii
jjj
kkk
lll
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 <= any (select t7.str7 from t7 where t7.str7 between "hhh" and "kkk");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t7	ALL	str7_a7	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where <nop>((`test`.`t6`.`str6` <= (/* select#2 */ select max(`test`.`t7`.`str7`) from `test`.`t7` where (`test`.`t7`.`str7` between 'hhh' and 'kkk'))))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string <= any (select t7.doc71.string from t7 use document keys where t7.doc71.string between "hhh" and "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>((`test`.`t6`.`doc61`.`string` <= (/* select#2 */ select max(`test`.`t7`.`doc71`.`string`) from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`string` between 'hhh' and 'zzz'))))
select t6.doc61.string from t6 use document keys
where t6.doc61.string <= any (select t7.doc71.string from t7 use document keys where t7.doc71.string between "hhh" and "zzz");
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
iii
jjj
kkk
lll
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 = any (select t7.str7 from t7 where t7.str7 not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	ALL	str6_a6	NULL	NULL	NULL	12	100.00	Using where
1	SIMPLE	t7	ref	str7_a7	str7_a7	13	test.t6.str6	1	100.00	Using where; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t7`.`str7` = `test`.`t6`.`str6`) and (`test`.`t6`.`str6` not in ('aaa','hhh','ccc','jjj','zzz')))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string = any (select t7.doc71.string from t7 use document keys where t7.doc71.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	ALL	doc61_string	NULL	NULL	NULL	12	66.67	Using where
1	SIMPLE	t7	ref	doc71_string	doc71_string	13	test.t6.`doc61`.`string`	1	100.00	FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`string` = `test`.`t6`.`doc61`.`string`) and (`test`.`t6`.`doc61`.`string` not in ('aaa','hhh','ccc','jjj','zzz')))
select t6.doc61.string from t6 use document keys
where t6.doc61.string = any (select t7.doc71.string from t7 use document keys where t7.doc71.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
`doc61`.`string`
bbb
ddd
eee
fff
ggg
iii
kkk
lll
### USED AS STANDARD
explain extended select str6 from t6 where str6 <> any (
select str7 from t7
where ((str7 > "eee" and str7 < "hhh") and (str7 not between "ggg" and "iii")) or
((str7 between "kkk" and "zzz") and (str7 not in ("ddd", "fff"))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ALL	str7_a7	NULL	NULL	NULL	12	41.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where <nop>(<in_optimizer>(`test`.`t6`.`str6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((((`test`.`t7`.`str7` > 'eee') and (`test`.`t7`.`str7` < 'hhh') and (`test`.`t7`.`str7` not between 'ggg' and 'iii')) or ((`test`.`t7`.`str7` between 'kkk' and 'zzz') and (`test`.`t7`.`str7` not in ('ddd','fff')))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`str6`) <> `test`.`t7`.`str7`) or isnull(`test`.`t7`.`str7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`str7`), true))))
explain extended
select doc61.string from t6 use document keys where doc61.string <> any (
select doc71.string from t7 use document keys
where ((doc71.string > "eee" and doc71.string < "hhh") and (doc71.string not between "ggg" and "iii")) or
((doc71.string between "kkk" and "zzz") and (doc71.string not in ("ddd", "fff"))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ALL	doc71_string	NULL	NULL	NULL	12	25.00	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t6`.`doc61`.`string`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((((`test`.`t7`.`doc71`.`string` > 'eee') and (`test`.`t7`.`doc71`.`string` < 'hhh') and (`test`.`t7`.`doc71`.`string` not between 'ggg' and 'iii')) or ((`test`.`t7`.`doc71`.`string` between 'kkk' and 'zzz') and (`test`.`t7`.`doc71`.`string` not in ('ddd','fff')))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`string`) <> `test`.`t7`.`doc71`.`string`) or isnull(`test`.`t7`.`doc71`.`string`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`string`), true))))
select doc61.string from t6 use document keys where doc61.string <> any (
select doc71.string from t7 use document keys
where ((doc71.string > "eee" and doc71.string < "hhh") and (doc71.string not between "ggg" and "iii")) or
((doc71.string between "kkk" and "zzz") and (doc71.string not in ("ddd", "fff"))));
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
iii
jjj
kkk
lll
###
### Range: t1 and t2
###
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <> any (select t2.b2 from t2 where t2.b2 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`b2` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> any (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`int`) <> `test`.`t2`.`doc21`.`int`) or isnull(`test`.`t2`.`doc21`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> any (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
`doc11`.`int`
0
1
3
5
7
8
10
11
44444
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 > any (select t2.b2 from t2 where t2.b2 >= 9 and t2.b2 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` > (/* select#2 */ select min(`test`.`t2`.`b2`) from `test`.`t2` where ((`test`.`t2`.`b2` >= 9) and (`test`.`t2`.`b2` < 100)))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int > any (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`int` > (/* select#2 */ select min(`test`.`t2`.`doc21`.`int`) from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` >= 9) and (`test`.`t2`.`doc21`.`int` < 100)))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int > any (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
`doc11`.`int`
10
11
44444
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <= any (select t2.b2 from t2 where t2.b2 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` <= (/* select#2 */ select max(`test`.`t2`.`b2`) from `test`.`t2` where (`test`.`t2`.`b2` between 2 and 12))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= any (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`int` <= (/* select#2 */ select max(`test`.`t2`.`doc21`.`int`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` between 2 and 12))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= any (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
`doc11`.`int`
0
1
3
5
7
8
10
11
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 = any (select t2.b2 from t2 where t2.b2 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	b2_a2	b2_a2	5	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	b1_a1	b1_a1	5	test.t2.b2	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t1`.`b1` = `test`.`t2`.`b2`) and (`test`.`t2`.`b2` not in (0,7,3,12,100)))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int = any (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	7	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` not in (0,7,3,12,100)))
select t1.doc11.int from t1 use document keys
where t1.doc11.int = any (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
`doc11`.`int`
1
10
11
### USED AS STANDARD
explain extended select b1 from t1 where b1 <> any (
select b2 from t2
where ((b2 > 3 and b2 < 8) and (b2 not between 6 and 9)) or
((b2 between 11 and 15) and (b2 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((((`test`.`t2`.`b2` > 3) and (`test`.`t2`.`b2` < 8) and (`test`.`t2`.`b2` not between 6 and 9)) or ((`test`.`t2`.`b2` between 11 and 15) and (`test`.`t2`.`b2` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select doc11.int from t1 use document keys where doc11.int <> any (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index	doc21_int	doc21_int	9	NULL	12	16.67	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((((`test`.`t2`.`doc21`.`int` > 3) and (`test`.`t2`.`doc21`.`int` < 8) and (`test`.`t2`.`doc21`.`int` not between 6 and 9)) or ((`test`.`t2`.`doc21`.`int` between 11 and 15) and (`test`.`t2`.`doc21`.`int` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`int`) <> `test`.`t2`.`doc21`.`int`) or isnull(`test`.`t2`.`doc21`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))
select doc11.int from t1 use document keys where doc11.int <> any (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
`doc11`.`int`
0
1
3
5
7
8
10
11
44444
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 <> any (select t2.str2 from t2 where t2.str2 > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ALL	str2_a2	NULL	NULL	NULL	12	66.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`str1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`str2` > 'eee') and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`str1`) <> `test`.`t2`.`str2`) or isnull(`test`.`t2`.`str2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`str2`), true))))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string <> any (select t2.doc21.string from t2 use document keys where t2.doc21.string > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	range	doc21_string	doc21_string	5	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`string`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`string` > 'eee') and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`string`) <> `test`.`t2`.`doc21`.`string`) or isnull(`test`.`t2`.`doc21`.`string`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`string`), true))))
select t1.doc11.string from t1 use document keys
where t1.doc11.string <> any (select t2.doc21.string from t2 use document keys where t2.doc21.string > "eee");
`doc11`.`string`
aaaaaaa
2.2
true
false
eee
hhh

k
12
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 > any (select t2.str2 from t2 where t2.str2 >= "hhh" and t2.str2 < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t2	ALL	str2_a2	NULL	NULL	NULL	12	41.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where <nop>((`test`.`t1`.`str1` > (/* select#2 */ select min(`test`.`t2`.`str2`) from `test`.`t2` where ((`test`.`t2`.`str2` >= 'hhh') and (`test`.`t2`.`str2` < 'zzz')))))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string > any (select t2.doc21.string from t2 use document keys where t2.doc21.string >= "hhh" and t2.doc21.string < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`string` > (/* select#2 */ select min(`test`.`t2`.`doc21`.`string`) from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`string` >= 'hhh') and (`test`.`t2`.`doc21`.`string` < 'zzz')))))
select t1.doc11.string from t1 use document keys
where t1.doc11.string > any (select t2.doc21.string from t2 use document keys where t2.doc21.string >= "hhh" and t2.doc21.string < "zzz");
`doc11`.`string`
true
k
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 <= any (select t2.str2 from t2 where t2.str2 between "hhh" and "kkk");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t2	ALL	str2_a2	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where <nop>((`test`.`t1`.`str1` <= (/* select#2 */ select max(`test`.`t2`.`str2`) from `test`.`t2` where (`test`.`t2`.`str2` between 'hhh' and 'kkk'))))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string <= any (select t2.doc21.string from t2 use document keys where t2.doc21.string between "hhh" and "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`string` <= (/* select#2 */ select max(`test`.`t2`.`doc21`.`string`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`string` between 'hhh' and 'zzz'))))
select t1.doc11.string from t1 use document keys
where t1.doc11.string <= any (select t2.doc21.string from t2 use document keys where t2.doc21.string between "hhh" and "zzz");
`doc11`.`string`
aaaaaaa
2.2
false
eee
hhh

k
12
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 = any (select t2.str2 from t2 where t2.str2 not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	str1_a1	NULL	NULL	NULL	12	100.00	Using where
1	SIMPLE	t2	ref	str2_a2	str2_a2	5	test.t1.str1	1	100.00	Using where; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`str2` = `test`.`t1`.`str1`) and (`test`.`t1`.`str1` not in ('aaa','hhh','ccc','jjj','zzz')))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string = any (select t2.doc21.string from t2 use document keys where t2.doc21.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	doc11_string	NULL	NULL	NULL	12	75.00	Using where
1	SIMPLE	t2	ref	doc21_string	doc21_string	5	test.t1.`doc11`.`string`	1	100.00	FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`string` = `test`.`t1`.`doc11`.`string`) and (`test`.`t1`.`doc11`.`string` not in ('aaa','hhh','ccc','jjj','zzz')))
select t1.doc11.string from t1 use document keys
where t1.doc11.string = any (select t2.doc21.string from t2 use document keys where t2.doc21.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
`doc11`.`string`
aaaaaaa
2.2

k
### USED AS STANDARD
explain extended select str1 from t1 where str1 <> any (
select str2 from t2
where ((str2 > "eee" and str2 < "hhh") and (str2 not between "ggg" and "iii")) or
((str2 between "kkk" and "zzz") and (str2 not in ("ddd", "fff"))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ALL	str2_a2	NULL	NULL	NULL	12	41.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`str1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((((`test`.`t2`.`str2` > 'eee') and (`test`.`t2`.`str2` < 'hhh') and (`test`.`t2`.`str2` not between 'ggg' and 'iii')) or ((`test`.`t2`.`str2` between 'kkk' and 'zzz') and (`test`.`t2`.`str2` not in ('ddd','fff')))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`str1`) <> `test`.`t2`.`str2`) or isnull(`test`.`t2`.`str2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`str2`), true))))
explain extended
select doc11.string from t1 use document keys where doc11.string <> any (
select doc21.string from t2 use document keys
where ((doc21.string > "eee" and doc21.string < "hhh") and (doc21.string not between "ggg" and "iii")) or
((doc21.string between "kkk" and "zzz") and (doc21.string not in ("ddd", "fff"))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	range	doc21_string	doc21_string	5	NULL	2	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`string`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((((`test`.`t2`.`doc21`.`string` > 'eee') and (`test`.`t2`.`doc21`.`string` < 'hhh') and (`test`.`t2`.`doc21`.`string` not between 'ggg' and 'iii')) or ((`test`.`t2`.`doc21`.`string` between 'kkk' and 'zzz') and (`test`.`t2`.`doc21`.`string` not in ('ddd','fff')))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`string`) <> `test`.`t2`.`doc21`.`string`) or isnull(`test`.`t2`.`doc21`.`string`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`string`), true))))
select doc11.string from t1 use document keys where doc11.string <> any (
select doc21.string from t2 use document keys
where ((doc21.string > "eee" and doc21.string < "hhh") and (doc21.string not between "ggg" and "iii")) or
((doc21.string between "kkk" and "zzz") and (doc21.string not in ("ddd", "fff"))));
`doc11`.`string`
######################################################################
###
###   Subqueries
###     -- Semi-join for SOME (an alias of ANY)
###        -- Non-correlated -- where_condition involves only columns from t7 and not t6
###
###
### Bool: t6 and t7
###
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 = some (select t7.b7 from t7 where t7.b7 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	index	b6_a6	b6_a6	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	<subquery2>	eq_ref	<auto_key>	<auto_key>	5	test.t6.b6	1	100.00	NULL
2	MATERIALIZED	t7	index	b7_a7	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`<subquery2>`.`b7` = `test`.`t6`.`b6`) and (`test`.`t7`.`b7` is true))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool = some (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	index	doc71_bool	doc71_bool	2	NULL	12	33.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	doc61_bool	doc61_bool	2	test.t7.`doc71`.`bool`	3	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t6`.`doc61`.`bool` = `test`.`t7`.`doc71`.`bool`) and (`test`.`t7`.`doc71`.`bool` is true))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool = some (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
`doc61`.`bool`
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <> some (select t7.b7 from t7 where t7.b7 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>(<in_optimizer>(`test`.`t6`.`b6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((`test`.`t7`.`b7` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`b6`) <> `test`.`t7`.`b7`) or isnull(`test`.`t7`.`b7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`b7`), true))))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <> some (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t6`.`doc61`.`bool`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`bool` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`bool`) <> `test`.`t7`.`doc71`.`bool`) or isnull(`test`.`t7`.`doc71`.`bool`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`bool`), true))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <> some (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
`doc61`.`bool`
false
false
false
false
false
false
###
### Bool: t1 and t2
###
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 = some (select t2.b2 from t2 where t2.b2 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	index	b1_a1	b1_a1	9	NULL	12	100.00	Using where; Using index
1	SIMPLE	<subquery2>	eq_ref	<auto_key>	<auto_key>	5	test.t1.b1	1	100.00	NULL
2	MATERIALIZED	t2	index	b2_a2	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`<subquery2>`.`b2` = `test`.`t1`.`b1`) and (`test`.`t2`.`b2` is true))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool = some (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	index	doc21_bool	doc21_bool	2	NULL	12	50.00	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	doc11_bool	doc11_bool	2	test.t2.`doc21`.`bool`	2	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t1`.`doc11`.`bool` = `test`.`t2`.`doc21`.`bool`) and (`test`.`t2`.`doc21`.`bool` is true))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool = some (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
`doc11`.`bool`
true
true
true
true
true
true
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <> some (select t2.b2 from t2 where t2.b2 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`b2` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <> some (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`bool`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`bool` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`bool`) <> `test`.`t2`.`doc21`.`bool`) or isnull(`test`.`t2`.`doc21`.`bool`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`bool`), true))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <> some (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
`doc11`.`bool`
false
false
false
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 > some (select t2.b2 from t2 where t2.b2 is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` > (/* select#2 */ select min(`test`.`t2`.`b2`) from `test`.`t2` where (`test`.`t2`.`b2` is not true))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool > some (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`bool` > (/* select#2 */ select min(`test`.`t2`.`doc21`.`bool`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is not true))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool > some (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
`doc11`.`bool`
true
true
true
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <= some (select t2.b2 from t2 where t2.b2 is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` <= (/* select#2 */ select max(`test`.`t2`.`b2`) from `test`.`t2` where (`test`.`t2`.`b2` is false))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <= some (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`bool` <= (/* select#2 */ select max(`test`.`t2`.`doc21`.`bool`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is false))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <= some (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is false);
`doc11`.`bool`
false
false
false
###
### Range: t6 and t7
###
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <> some (select t7.b7 from t7 where t7.b7 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	range	b7_a7	b7_a7	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>(<in_optimizer>(`test`.`t6`.`b6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((`test`.`t7`.`b7` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`b6`) <> `test`.`t7`.`b7`) or isnull(`test`.`t7`.`b7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`b7`), true))))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int <> some (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	range	doc71_int	doc71_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t6`.`doc61`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`int` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`int`) <> `test`.`t7`.`doc71`.`int`) or isnull(`test`.`t7`.`doc71`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`int`), true))))
select t6.doc61.int from t6 use document keys
where t6.doc61.int <> some (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9);
`doc61`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <= some (select t7.b7 from t7 where t7.b7 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <nop>((`test`.`t6`.`b6` <= (/* select#2 */ select max(`test`.`t7`.`b7`) from `test`.`t7` where (`test`.`t7`.`b7` between 2 and 12))))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int <= some (select t7.doc71.int from t7 use document keys where t7.doc71.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>((`test`.`t6`.`doc61`.`int` <= (/* select#2 */ select max(`test`.`t7`.`doc71`.`int`) from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`int` between 2 and 12))))
select t6.doc61.int from t6 use document keys
where t6.doc61.int <= some (select t7.doc71.int from t7 use document keys where t7.doc71.int between 2 and 12);
`doc61`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 = some (select t7.b7 from t7 where t7.b7 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	range	b7_a7	b7_a7	5	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	b6_a6	b6_a6	5	test.t7.b7	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t6`.`b6` = `test`.`t7`.`b7`) and (`test`.`t7`.`b7` not in (0,7,3,12,100)))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int = some (select t7.doc71.int from t7 use document keys where t7.doc71.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t7	range	doc71_int	doc71_int	9	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t6	ref	doc61_int	doc61_int	9	test.t7.`doc71`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`) and (`test`.`t7`.`doc71`.`int` not in (0,7,3,12,100)))
select t6.doc61.int from t6 use document keys
where t6.doc61.int = some (select t7.doc71.int from t7 use document keys where t7.doc71.int not in (0, 7, 3, 12, 100));
`doc61`.`int`
1
2
4
5
6
8
9
10
11
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 > some (select t7.str7 from t7 where t7.str7 >= "hhh" and t7.b7 < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t7	range	b7_a7,str7_a7	b7_a7	5	NULL	1	100.00	Using index condition; Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'zzz'
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where <nop>((`test`.`t6`.`str6` > (/* select#2 */ select min(`test`.`t7`.`str7`) from `test`.`t7` where ((`test`.`t7`.`str7` >= 'hhh') and (`test`.`t7`.`b7` < 'zzz')))))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string > some (select t7.doc71.string from t7 use document keys where t7.doc71.string >= "hhh" and t7.doc71.string < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>((`test`.`t6`.`doc61`.`string` > (/* select#2 */ select min(`test`.`t7`.`doc71`.`string`) from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`string` >= 'hhh') and (`test`.`t7`.`doc71`.`string` < 'zzz')))))
select t6.doc61.string from t6 use document keys
where t6.doc61.string > some (select t7.doc71.string from t7 use document keys where t7.doc71.string >= "hhh" and t7.doc71.string < "zzz");
`doc61`.`string`
iii
jjj
kkk
lll
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 <= some (select t7.str7 from t7 where t7.str7 between "hhh" and "kkk");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t7	ALL	str7_a7	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where <nop>((`test`.`t6`.`str6` <= (/* select#2 */ select max(`test`.`t7`.`str7`) from `test`.`t7` where (`test`.`t7`.`str7` between 'hhh' and 'kkk'))))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string <= some (select t7.doc71.string from t7 use document keys where t7.doc71.string between "hhh" and "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where <nop>((`test`.`t6`.`doc61`.`string` <= (/* select#2 */ select max(`test`.`t7`.`doc71`.`string`) from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`string` between 'hhh' and 'zzz'))))
select t6.doc61.string from t6 use document keys
where t6.doc61.string <= some (select t7.doc71.string from t7 use document keys where t7.doc71.string between "hhh" and "zzz");
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
iii
jjj
kkk
lll
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 = some (select t7.str7 from t7 where t7.str7 not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	ALL	str6_a6	NULL	NULL	NULL	12	100.00	Using where
1	SIMPLE	t7	ref	str7_a7	str7_a7	13	test.t6.str6	1	100.00	Using where; FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` semi join (`test`.`t7`) where ((`test`.`t7`.`str7` = `test`.`t6`.`str6`) and (`test`.`t6`.`str6` not in ('aaa','hhh','ccc','jjj','zzz')))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string = some (select t7.doc71.string from t7 use document keys where t7.doc71.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t6	ALL	doc61_string	NULL	NULL	NULL	12	66.67	Using where
1	SIMPLE	t7	ref	doc71_string	doc71_string	13	test.t6.`doc61`.`string`	1	100.00	FirstMatch(t6)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES semi join (`test`.`t7` USE DOCUMENT INDEXES) where ((`test`.`t7`.`doc71`.`string` = `test`.`t6`.`doc61`.`string`) and (`test`.`t6`.`doc61`.`string` not in ('aaa','hhh','ccc','jjj','zzz')))
select t6.doc61.string from t6 use document keys
where t6.doc61.string = some (select t7.doc71.string from t7 use document keys where t7.doc71.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
`doc61`.`string`
bbb
ddd
eee
fff
ggg
iii
kkk
lll
###
### Range: t1 and t2
###
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <> some (select t2.b2 from t2 where t2.b2 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`b2` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> some (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` > 9) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`int`) <> `test`.`t2`.`doc21`.`int`) or isnull(`test`.`t2`.`doc21`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> some (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
`doc11`.`int`
0
1
3
5
7
8
10
11
44444
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 > some (select t2.b2 from t2 where t2.b2 >= 9 and t2.b2 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` > (/* select#2 */ select min(`test`.`t2`.`b2`) from `test`.`t2` where ((`test`.`t2`.`b2` >= 9) and (`test`.`t2`.`b2` < 100)))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int > some (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`int` > (/* select#2 */ select min(`test`.`t2`.`doc21`.`int`) from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` >= 9) and (`test`.`t2`.`doc21`.`int` < 100)))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int > some (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
`doc11`.`int`
10
11
44444
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <= some (select t2.b2 from t2 where t2.b2 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>((`test`.`t1`.`b1` <= (/* select#2 */ select max(`test`.`t2`.`b2`) from `test`.`t2` where (`test`.`t2`.`b2` between 2 and 12))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= some (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`int` <= (/* select#2 */ select max(`test`.`t2`.`doc21`.`int`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` between 2 and 12))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= some (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
`doc11`.`int`
0
1
3
5
7
8
10
11
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 = some (select t2.b2 from t2 where t2.b2 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t2	range	b2_a2	b2_a2	5	NULL	9	133.33	Using where; Using index; LooseScan
1	SIMPLE	t1	ref	b1_a1	b1_a1	5	test.t2.b2	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t1`.`b1` = `test`.`t2`.`b2`) and (`test`.`t2`.`b2` not in (0,7,3,12,100)))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int = some (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	range	doc11_int	doc11_int	9	NULL	7	100.00	Using where; Using index
1	SIMPLE	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` not in (0,7,3,12,100)))
select t1.doc11.int from t1 use document keys
where t1.doc11.int = some (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
`doc11`.`int`
1
10
11
### USED AS STANDARD
explain extended select b1 from t1 where b1 <> some (
select b2 from t2
where ((b2 > 3 and b2 < 8) and (b2 not between 6 and 9)) or
((b2 between 11 and 15) and (b2 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <nop>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((((`test`.`t2`.`b2` > 3) and (`test`.`t2`.`b2` < 8) and (`test`.`t2`.`b2` not between 6 and 9)) or ((`test`.`t2`.`b2` between 11 and 15) and (`test`.`t2`.`b2` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select doc11.int from t1 use document keys where doc11.int <> some (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index	doc21_int	doc21_int	9	NULL	12	16.67	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((((`test`.`t2`.`doc21`.`int` > 3) and (`test`.`t2`.`doc21`.`int` < 8) and (`test`.`t2`.`doc21`.`int` not between 6 and 9)) or ((`test`.`t2`.`doc21`.`int` between 11 and 15) and (`test`.`t2`.`doc21`.`int` not in (4,5)))) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`int`) <> `test`.`t2`.`doc21`.`int`) or isnull(`test`.`t2`.`doc21`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))
select doc11.int from t1 use document keys where doc11.int <> some (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
`doc11`.`int`
0
1
3
5
7
8
10
11
44444
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 > some (select t2.str2 from t2 where t2.str2 >= "hhh" and t2.str2 < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t2	ALL	str2_a2	NULL	NULL	NULL	12	41.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where <nop>((`test`.`t1`.`str1` > (/* select#2 */ select min(`test`.`t2`.`str2`) from `test`.`t2` where ((`test`.`t2`.`str2` >= 'hhh') and (`test`.`t2`.`str2` < 'zzz')))))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string > some (select t2.doc21.string from t2 use document keys where t2.doc21.string >= "hhh" and t2.doc21.string < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`string` > (/* select#2 */ select min(`test`.`t2`.`doc21`.`string`) from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`string` >= 'hhh') and (`test`.`t2`.`doc21`.`string` < 'zzz')))))
select t1.doc11.string from t1 use document keys
where t1.doc11.string > some (select t2.doc21.string from t2 use document keys where t2.doc21.string >= "hhh" and t2.doc21.string < "zzz");
`doc11`.`string`
true
k
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 <= some (select t2.str2 from t2 where t2.str2 between "hhh" and "kkk");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t2	ALL	str2_a2	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where <nop>((`test`.`t1`.`str1` <= (/* select#2 */ select max(`test`.`t2`.`str2`) from `test`.`t2` where (`test`.`t2`.`str2` between 'hhh' and 'kkk'))))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string <= some (select t2.doc21.string from t2 use document keys where t2.doc21.string between "hhh" and "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where <nop>((`test`.`t1`.`doc11`.`string` <= (/* select#2 */ select max(`test`.`t2`.`doc21`.`string`) from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`string` between 'hhh' and 'zzz'))))
select t1.doc11.string from t1 use document keys
where t1.doc11.string <= some (select t2.doc21.string from t2 use document keys where t2.doc21.string between "hhh" and "zzz");
`doc11`.`string`
aaaaaaa
2.2
false
eee
hhh

k
12
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 = some (select t2.str2 from t2 where t2.str2 not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	str1_a1	NULL	NULL	NULL	12	100.00	Using where
1	SIMPLE	t2	ref	str2_a2	str2_a2	5	test.t1.str1	1	100.00	Using where; FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` semi join (`test`.`t2`) where ((`test`.`t2`.`str2` = `test`.`t1`.`str1`) and (`test`.`t1`.`str1` not in ('aaa','hhh','ccc','jjj','zzz')))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string = some (select t2.doc21.string from t2 use document keys where t2.doc21.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	t1	ALL	doc11_string	NULL	NULL	NULL	12	75.00	Using where
1	SIMPLE	t2	ref	doc21_string	doc21_string	5	test.t1.`doc11`.`string`	1	100.00	FirstMatch(t1)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES semi join (`test`.`t2` USE DOCUMENT INDEXES) where ((`test`.`t2`.`doc21`.`string` = `test`.`t1`.`doc11`.`string`) and (`test`.`t1`.`doc11`.`string` not in ('aaa','hhh','ccc','jjj','zzz')))
select t1.doc11.string from t1 use document keys
where t1.doc11.string = some (select t2.doc21.string from t2 use document keys where t2.doc21.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
`doc11`.`string`
aaaaaaa
2.2

k
######################################################################
###
###   Subqueries
###     -- Semi-join for ALL
###        -- Non-correlated -- where_condition involves only columns from t7 and not t6
###
###
### Bool: t6 and t7
###
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 = all (select t7.b7 from t7 where t7.b7 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <not>(<in_optimizer>(`test`.`t6`.`b6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((`test`.`t7`.`b7` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`b6`) <> `test`.`t7`.`b7`) or isnull(`test`.`t7`.`b7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`b7`), true))))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool = all (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where <not>(<in_optimizer>(`test`.`t6`.`doc61`.`bool`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`bool` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`bool`) <> `test`.`t7`.`doc71`.`bool`) or isnull(`test`.`t7`.`doc71`.`bool`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`bool`), true))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool = all (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
`doc61`.`bool`
true
true
true
true
true
true
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <> all (select t7.b7 from t7 where t7.b7 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	index	b7_a7	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where (not(<in_optimizer>(`test`.`t6`.`b6`,`test`.`t6`.`b6` in ( <materialize> (/* select#2 */ select `test`.`t7`.`b7` from `test`.`t7` where (`test`.`t7`.`b7` is true) having 1 ), <primary_index_lookup>(`test`.`t6`.`b6` in <temporary table> on <auto_key> where ((`test`.`t6`.`b6` = `materialized-subquery`.`b7`)))))))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <> all (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index_subquery	doc71_bool	doc71_bool	2	func	6	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t6`.`doc61`.`bool`,<exists>(<index_lookup>(<cache>(`test`.`t6`.`doc61`.`bool`) in t7 on doc71_bool checking NULL where (`test`.`t7`.`doc71`.`bool` is true) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`bool`), true))))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <> all (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is true);
`doc61`.`bool`
false
false
false
false
false
false
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 > all (select t7.b7 from t7 where t7.b7 is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <not>((`test`.`t6`.`b6` <= <max>(/* select#2 */ select `test`.`t7`.`b7` from `test`.`t7` where (`test`.`t7`.`b7` is not true))))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool > all (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where <not>((`test`.`t6`.`doc61`.`bool` <= <max>(/* select#2 */ select `test`.`t7`.`doc71`.`bool` from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` is not true))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool > all (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is not true);
`doc61`.`bool`
true
true
true
true
true
true
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <= all (select t7.b7 from t7 where t7.b7 is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <not>((`test`.`t6`.`b6` > <min>(/* select#2 */ select `test`.`t7`.`b7` from `test`.`t7` where (`test`.`t7`.`b7` is false))))
explain extended
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <= all (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`bool` AS "`doc61`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES where <not>((`test`.`t6`.`doc61`.`bool` > <min>(/* select#2 */ select `test`.`t7`.`doc71`.`bool` from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` is false))))
select t6.doc61.bool from t6 use document keys
where t6.doc61.bool <= all (select t7.doc71.bool from t7 use document keys where t7.doc71.bool is false);
`doc61`.`bool`
false
false
false
false
false
false
###
### Bool: t1 and t2
###
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 = all (select t2.b2 from t2 where t2.b2 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <not>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`b2` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool = all (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where <not>(<in_optimizer>(`test`.`t1`.`doc11`.`bool`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`bool` is true) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`bool`) <> `test`.`t2`.`doc21`.`bool`) or isnull(`test`.`t2`.`doc21`.`bool`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`bool`), true))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool = all (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
`doc11`.`bool`
true
true
true
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <> all (select t2.b2 from t2 where t2.b2 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	b2_a2	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where (not(<in_optimizer>(`test`.`t1`.`b1`,`test`.`t1`.`b1` in ( <materialize> (/* select#2 */ select `test`.`t2`.`b2` from `test`.`t2` where (`test`.`t2`.`b2` is true) having 1 ), <primary_index_lookup>(`test`.`t1`.`b1` in <temporary table> on <auto_key> where ((`test`.`t1`.`b1` = `materialized-subquery`.`b2`)))))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <> all (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index_subquery	doc21_bool	doc21_bool	2	func	4	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t1`.`doc11`.`bool`,<exists>(<index_lookup>(<cache>(`test`.`t1`.`doc11`.`bool`) in t2 on doc21_bool checking NULL where (`test`.`t2`.`doc21`.`bool` is true) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`bool`), true))))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <> all (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is true);
`doc11`.`bool`
false
false
false
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 > all (select t2.b2 from t2 where t2.b2 is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <not>((`test`.`t1`.`b1` <= <max>(/* select#2 */ select `test`.`t2`.`b2` from `test`.`t2` where (`test`.`t2`.`b2` is not true))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool > all (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where <not>((`test`.`t1`.`doc11`.`bool` <= <max>(/* select#2 */ select `test`.`t2`.`doc21`.`bool` from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is not true))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool > all (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is not true);
`doc11`.`bool`
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <= all (select t2.b2 from t2 where t2.b2 is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <not>((`test`.`t1`.`b1` > <min>(/* select#2 */ select `test`.`t2`.`b2` from `test`.`t2` where (`test`.`t2`.`b2` is false))))
explain extended
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <= all (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_bool	2	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`bool` AS "`doc11`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES where <not>((`test`.`t1`.`doc11`.`bool` > <min>(/* select#2 */ select `test`.`t2`.`doc21`.`bool` from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is false))))
select t1.doc11.bool from t1 use document keys
where t1.doc11.bool <= all (select t2.doc21.bool from t2 use document keys where t2.doc21.bool is false);
`doc11`.`bool`
false
false
false
###
### Range: t6 and t7
###
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <> all (select t7.b7 from t7 where t7.b7 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	range	b7_a7	b7_a7	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where (not(<in_optimizer>(`test`.`t6`.`b6`,`test`.`t6`.`b6` in ( <materialize> (/* select#2 */ select `test`.`t7`.`b7` from `test`.`t7` where (`test`.`t7`.`b7` > 9) having 1 ), <primary_index_lookup>(`test`.`t6`.`b6` in <temporary table> on <auto_key> where ((`test`.`t6`.`b6` = `materialized-subquery`.`b7`)))))))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int <> all (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index_subquery	doc71_int	doc71_int	9	func	2	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t6`.`doc61`.`int`,<exists>(<index_lookup>(<cache>(`test`.`t6`.`doc61`.`int`) in t7 on doc71_int checking NULL where (`test`.`t7`.`doc71`.`int` > 9) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`int`), true))))))
select t6.doc61.int from t6 use document keys
where t6.doc61.int <> all (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9);
`doc61`.`int`
1
2
3
4
5
6
7
8
9
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 > all (select t7.b7 from t7 where t7.b7 >= 9 and t7.b7 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	range	b7_a7	b7_a7	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <not>((`test`.`t6`.`b6` <= <max>(/* select#2 */ select `test`.`t7`.`b7` from `test`.`t7` where ((`test`.`t7`.`b7` >= 9) and (`test`.`t7`.`b7` < 100)))))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int > all (select t7.doc71.int from t7 use document keys where t7.doc71.int >= 9 and t7.doc71.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	range	doc71_int	doc71_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where <not>((`test`.`t6`.`doc61`.`int` <= <max>(/* select#2 */ select `test`.`t7`.`doc71`.`int` from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`int` >= 9) and (`test`.`t7`.`doc71`.`int` < 100)))))
select t6.doc61.int from t6 use document keys
where t6.doc61.int > all (select t7.doc71.int from t7 use document keys where t7.doc71.int >= 9 and t7.doc71.int < 100);
`doc61`.`int`
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 <= all (select t7.b7 from t7 where t7.b7 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	range	b7_a7	b7_a7	5	NULL	11	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <not>((`test`.`t6`.`b6` > <min>(/* select#2 */ select `test`.`t7`.`b7` from `test`.`t7` where (`test`.`t7`.`b7` between 2 and 12))))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int <= all (select t7.doc71.int from t7 use document keys where t7.doc71.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	range	doc71_int	doc71_int	9	NULL	11	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where <not>((`test`.`t6`.`doc61`.`int` > <min>(/* select#2 */ select `test`.`t7`.`doc71`.`int` from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`int` between 2 and 12))))
select t6.doc61.int from t6 use document keys
where t6.doc61.int <= all (select t7.doc71.int from t7 use document keys where t7.doc71.int between 2 and 12);
`doc61`.`int`
1
2
### USED AS STANDARD
explain extended select t6.b6 from t6 where t6.b6 = all (select t7.b7 from t7 where t7.b7 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	range	b7_a7	b7_a7	5	NULL	9	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where <not>(<in_optimizer>(`test`.`t6`.`b6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((`test`.`t7`.`b7` not in (0,7,3,12,100)) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`b6`) <> `test`.`t7`.`b7`) or isnull(`test`.`t7`.`b7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`b7`), true))))
explain extended
select t6.doc61.int from t6 use document keys
where t6.doc61.int = all (select t7.doc71.int from t7 use document keys where t7.doc71.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	range	doc71_int	doc71_int	9	NULL	9	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where <not>(<in_optimizer>(`test`.`t6`.`doc61`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`int` not in (0,7,3,12,100)) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`int`) <> `test`.`t7`.`doc71`.`int`) or isnull(`test`.`t7`.`doc71`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`int`), true))))
select t6.doc61.int from t6 use document keys
where t6.doc61.int = all (select t7.doc71.int from t7 use document keys where t7.doc71.int not in (0, 7, 3, 12, 100));
`doc61`.`int`
### USED AS STANDARD
explain extended select b6 from t6 where b6 <> all (
select b7 from t7
where ((b7 > 3 and b7 < 8) and (b7 not between 6 and 9)) or
((b7 between 11 and 15) and (b7 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t7	range	b7_a7	b7_a7	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`b6` AS `b6` from `test`.`t6` where (not(<in_optimizer>(`test`.`t6`.`b6`,`test`.`t6`.`b6` in ( <materialize> (/* select#2 */ select `test`.`t7`.`b7` from `test`.`t7` where (((`test`.`t7`.`b7` > 3) and (`test`.`t7`.`b7` < 8) and (`test`.`t7`.`b7` not between 6 and 9)) or ((`test`.`t7`.`b7` between 11 and 15) and (`test`.`t7`.`b7` not in (4,5)))) having 1 ), <primary_index_lookup>(`test`.`t6`.`b6` in <temporary table> on <auto_key> where ((`test`.`t6`.`b6` = `materialized-subquery`.`b7`)))))))
explain extended
select doc61.int from t6 use document keys where doc61.int <> all (
select doc71.int from t7 use document keys
where ((doc71.int > 3 and doc71.int < 8) and (doc71.int not between 6 and 9)) or
((doc71.int between 11 and 15) and (doc71.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	index_subquery	doc71_int	doc71_int	9	func	2	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`int` AS "`doc61`.`int`" from `test`.`t6` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t6`.`doc61`.`int`,<exists>(<index_lookup>(<cache>(`test`.`t6`.`doc61`.`int`) in t7 on doc71_int checking NULL where (((`test`.`t7`.`doc71`.`int` > 3) and (`test`.`t7`.`doc71`.`int` < 8) and (`test`.`t7`.`doc71`.`int` not between 6 and 9)) or ((`test`.`t7`.`doc71`.`int` between 11 and 15) and (`test`.`t7`.`doc71`.`int` not in (4,5)))) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`int`), true))))))
select doc61.int from t6 use document keys where doc61.int <> all (
select doc71.int from t7 use document keys
where ((doc71.int > 3 and doc71.int < 8) and (doc71.int not between 6 and 9)) or
((doc71.int between 11 and 15) and (doc71.int not in (4, 5))));
`doc61`.`int`
1
2
3
6
7
8
9
10
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 <> all (select t7.str7 from t7 where t7.str7 > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	index_subquery	str7_a7	str7_a7	13	func	2	100.00	Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where (not(<in_optimizer>(`test`.`t6`.`str6`,<exists>(<index_lookup>(<cache>(`test`.`t6`.`str6`) in t7 on str7_a7 checking NULL where (`test`.`t7`.`str7` > 'eee') having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`str7`), true))))))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string <> all (select t7.doc71.string from t7 use document keys where t7.doc71.string > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	index_subquery	doc71_string	doc71_string	13	func	2	100.00	Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t6`.`doc61`.`string`,<exists>(<index_lookup>(<cache>(`test`.`t6`.`doc61`.`string`) in t7 on doc71_string checking NULL where (`test`.`t7`.`doc71`.`string` > 'eee') having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`string`), true))))))
select t6.doc61.string from t6 use document keys
where t6.doc61.string <> all (select t7.doc71.string from t7 use document keys where t7.doc71.string > "eee");
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 > all (select t7.str7 from t7 where t7.str7 >= "hhh" and t7.b7 < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t7	range	b7_a7,str7_a7	b7_a7	5	NULL	1	100.00	Using index condition; Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'zzz'
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where <not>((`test`.`t6`.`str6` <= <max>(/* select#2 */ select `test`.`t7`.`str7` from `test`.`t7` where ((`test`.`t7`.`str7` >= 'hhh') and (`test`.`t7`.`b7` < 'zzz')))))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string > all (select t7.doc71.string from t7 use document keys where t7.doc71.string >= "hhh" and t7.doc71.string < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t7	ALL	doc71_string	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where <not>((`test`.`t6`.`doc61`.`string` <= <max>(/* select#2 */ select `test`.`t7`.`doc71`.`string` from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`string` >= 'hhh') and (`test`.`t7`.`doc71`.`string` < 'zzz')))))
select t6.doc61.string from t6 use document keys
where t6.doc61.string > all (select t7.doc71.string from t7 use document keys where t7.doc71.string >= "hhh" and t7.doc71.string < "zzz");
`doc61`.`string`
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 <= all (select t7.str7 from t7 where t7.str7 between "hhh" and "kkk");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t7	ALL	str7_a7	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where <not>((`test`.`t6`.`str6` > <min>(/* select#2 */ select `test`.`t7`.`str7` from `test`.`t7` where (`test`.`t7`.`str7` between 'hhh' and 'kkk'))))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string <= all (select t7.doc71.string from t7 use document keys where t7.doc71.string between "hhh" and "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t7	ALL	doc71_string	NULL	NULL	NULL	12	41.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where <not>((`test`.`t6`.`doc61`.`string` > <min>(/* select#2 */ select `test`.`t7`.`doc71`.`string` from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`string` between 'hhh' and 'zzz'))))
select t6.doc61.string from t6 use document keys
where t6.doc61.string <= all (select t7.doc71.string from t7 use document keys where t7.doc71.string between "hhh" and "zzz");
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
### USED AS STANDARD
explain extended select t6.str6 from t6 where t6.str6 = all (select t7.str7 from t7 where t7.str7 not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ALL	str7_a7	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where <not>(<in_optimizer>(`test`.`t6`.`str6`,<exists>(/* select#2 */ select 1 from `test`.`t7` where ((`test`.`t7`.`str7` not in ('aaa','hhh','ccc','jjj','zzz')) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`str6`) <> `test`.`t7`.`str7`) or isnull(`test`.`t7`.`str7`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`str7`), true))))
explain extended
select t6.doc61.string from t6 use document keys
where t6.doc61.string = all (select t7.doc71.string from t7 use document keys where t7.doc71.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ALL	doc71_string	NULL	NULL	NULL	12	66.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where <not>(<in_optimizer>(`test`.`t6`.`doc61`.`string`,<exists>(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where ((`test`.`t7`.`doc71`.`string` not in ('aaa','hhh','ccc','jjj','zzz')) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t6`.`doc61`.`string`) <> `test`.`t7`.`doc71`.`string`) or isnull(`test`.`t7`.`doc71`.`string`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`string`), true))))
select t6.doc61.string from t6 use document keys
where t6.doc61.string = all (select t7.doc71.string from t7 use document keys where t7.doc71.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
`doc61`.`string`
### USED AS STANDARD
explain extended select str6 from t6 where str6 <> all (
select str7 from t7
where ((str7 > "eee" and str7 < "hhh") and (str7 not between "ggg" and "iii")) or
((str7 between "kkk" and "zzz") and (str7 not in ("ddd", "fff"))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	index_subquery	str7_a7	str7_a7	13	func	2	100.00	Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`str6` AS `str6` from `test`.`t6` where (not(<in_optimizer>(`test`.`t6`.`str6`,<exists>(<index_lookup>(<cache>(`test`.`t6`.`str6`) in t7 on str7_a7 checking NULL where (((`test`.`t7`.`str7` > 'eee') and (`test`.`t7`.`str7` < 'hhh') and (`test`.`t7`.`str7` not between 'ggg' and 'iii')) or ((`test`.`t7`.`str7` between 'kkk' and 'zzz') and (`test`.`t7`.`str7` not in ('ddd','fff')))) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`str7`), true))))))
explain extended
select doc61.string from t6 use document keys where doc61.string <> all (
select doc71.string from t7 use document keys
where ((doc71.string > "eee" and doc71.string < "hhh") and (doc71.string not between "ggg" and "iii")) or
((doc71.string between "kkk" and "zzz") and (doc71.string not in ("ddd", "fff"))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	index_subquery	doc71_string	doc71_string	13	func	2	100.00	Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`doc61`.`string` AS "`doc61`.`string`" from `test`.`t6` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t6`.`doc61`.`string`,<exists>(<index_lookup>(<cache>(`test`.`t6`.`doc61`.`string`) in t7 on doc71_string checking NULL where (((`test`.`t7`.`doc71`.`string` > 'eee') and (`test`.`t7`.`doc71`.`string` < 'hhh') and (`test`.`t7`.`doc71`.`string` not between 'ggg' and 'iii')) or ((`test`.`t7`.`doc71`.`string` between 'kkk' and 'zzz') and (`test`.`t7`.`doc71`.`string` not in ('ddd','fff')))) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t7`.`doc71`.`string`), true))))))
select doc61.string from t6 use document keys where doc61.string <> all (
select doc71.string from t7 use document keys
where ((doc71.string > "eee" and doc71.string < "hhh") and (doc71.string not between "ggg" and "iii")) or
((doc71.string between "kkk" and "zzz") and (doc71.string not in ("ddd", "fff"))));
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
ggg
hhh
iii
jjj
###
### Range: t1 and t2
###
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <> all (select t2.b2 from t2 where t2.b2 > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where (not(<in_optimizer>(`test`.`t1`.`b1`,`test`.`t1`.`b1` in ( <materialize> (/* select#2 */ select `test`.`t2`.`b2` from `test`.`t2` where (`test`.`t2`.`b2` > 9) having 1 ), <primary_index_lookup>(`test`.`t1`.`b1` in <temporary table> on <auto_key> where ((`test`.`t1`.`b1` = `materialized-subquery`.`b2`)))))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> all (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index_subquery	doc21_int	doc21_int	9	func	2	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(<index_lookup>(<cache>(`test`.`t1`.`doc11`.`int`) in t2 on doc21_int checking NULL where (`test`.`t2`.`doc21`.`int` > 9) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <> all (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9);
`doc11`.`int`
NULL
NULL
NULL
0
1
3
5
7
8
44444
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 > all (select t2.b2 from t2 where t2.b2 >= 9 and t2.b2 < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <not>((`test`.`t1`.`b1` <= <max>(/* select#2 */ select `test`.`t2`.`b2` from `test`.`t2` where ((`test`.`t2`.`b2` >= 9) and (`test`.`t2`.`b2` < 100)))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int > all (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	2	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <not>((`test`.`t1`.`doc11`.`int` <= <max>(/* select#2 */ select `test`.`t2`.`doc21`.`int` from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` >= 9) and (`test`.`t2`.`doc21`.`int` < 100)))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int > all (select t2.doc21.int from t2 use document keys where t2.doc21.int >= 9 and t2.doc21.int < 100);
`doc11`.`int`
44444
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 <= all (select t2.b2 from t2 where t2.b2 between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	11	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <not>((`test`.`t1`.`b1` > <min>(/* select#2 */ select `test`.`t2`.`b2` from `test`.`t2` where (`test`.`t2`.`b2` between 2 and 12))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= all (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	5	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <not>((`test`.`t1`.`doc11`.`int` > <min>(/* select#2 */ select `test`.`t2`.`doc21`.`int` from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` between 2 and 12))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int <= all (select t2.doc21.int from t2 use document keys where t2.doc21.int between 2 and 12);
`doc11`.`int`
0
1
3
### USED AS STANDARD
explain extended select t1.b1 from t1 where t1.b1 = all (select t2.b2 from t2 where t2.b2 not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	9	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where <not>(<in_optimizer>(`test`.`t1`.`b1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`b2` not in (0,7,3,12,100)) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`b1`) <> `test`.`t2`.`b2`) or isnull(`test`.`t2`.`b2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`b2`), true))))
explain extended
select t1.doc11.int from t1 use document keys
where t1.doc11.int = all (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	range	doc21_int	doc21_int	9	NULL	7	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where <not>(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`int` not in (0,7,3,12,100)) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`int`) <> `test`.`t2`.`doc21`.`int`) or isnull(`test`.`t2`.`doc21`.`int`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))
select t1.doc11.int from t1 use document keys
where t1.doc11.int = all (select t2.doc21.int from t2 use document keys where t2.doc21.int not in (0, 7, 3, 12, 100));
`doc11`.`int`
### USED AS STANDARD
explain extended select b1 from t1 where b1 <> all (
select b2 from t2
where ((b2 > 3 and b2 < 8) and (b2 not between 6 and 9)) or
((b2 between 11 and 15) and (b2 not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	SUBQUERY	t2	range	b2_a2	b2_a2	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`b1` AS `b1` from `test`.`t1` where (not(<in_optimizer>(`test`.`t1`.`b1`,`test`.`t1`.`b1` in ( <materialize> (/* select#2 */ select `test`.`t2`.`b2` from `test`.`t2` where (((`test`.`t2`.`b2` > 3) and (`test`.`t2`.`b2` < 8) and (`test`.`t2`.`b2` not between 6 and 9)) or ((`test`.`t2`.`b2` between 11 and 15) and (`test`.`t2`.`b2` not in (4,5)))) having 1 ), <primary_index_lookup>(`test`.`t1`.`b1` in <temporary table> on <auto_key> where ((`test`.`t1`.`b1` = `materialized-subquery`.`b2`)))))))
explain extended
select doc11.int from t1 use document keys where doc11.int <> all (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	index_subquery	doc21_int	doc21_int	9	func	2	100.00	Using index; Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`int` AS "`doc11`.`int`" from `test`.`t1` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t1`.`doc11`.`int`,<exists>(<index_lookup>(<cache>(`test`.`t1`.`doc11`.`int`) in t2 on doc21_int checking NULL where (((`test`.`t2`.`doc21`.`int` > 3) and (`test`.`t2`.`doc21`.`int` < 8) and (`test`.`t2`.`doc21`.`int` not between 6 and 9)) or ((`test`.`t2`.`doc21`.`int` between 11 and 15) and (`test`.`t2`.`doc21`.`int` not in (4,5)))) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`int`), true))))))
select doc11.int from t1 use document keys where doc11.int <> all (
select doc21.int from t2 use document keys
where ((doc21.int > 3 and doc21.int < 8) and (doc21.int not between 6 and 9)) or
((doc21.int between 11 and 15) and (doc21.int not in (4, 5))));
`doc11`.`int`
NULL
NULL
NULL
0
1
3
5
7
8
10
44444
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 <> all (select t2.str2 from t2 where t2.str2 > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	index_subquery	str2_a2	str2_a2	5	func	2	100.00	Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where (not(<in_optimizer>(`test`.`t1`.`str1`,<exists>(<index_lookup>(<cache>(`test`.`t1`.`str1`) in t2 on str2_a2 checking NULL where (`test`.`t2`.`str2` > 'eee') having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`str2`), true))))))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string <> all (select t2.doc21.string from t2 use document keys where t2.doc21.string > "eee");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	index_subquery	doc21_string	doc21_string	5	func	2	100.00	Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t1`.`doc11`.`string`,<exists>(<index_lookup>(<cache>(`test`.`t1`.`doc11`.`string`) in t2 on doc21_string checking NULL where (`test`.`t2`.`doc21`.`string` > 'eee') having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`string`), true))))))
select t1.doc11.string from t1 use document keys
where t1.doc11.string <> all (select t2.doc21.string from t2 use document keys where t2.doc21.string > "eee");
`doc11`.`string`
aaaaaaa
2.2
true
false
eee

12
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 > all (select t2.str2 from t2 where t2.str2 >= "hhh" and t2.str2 < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t2	ALL	str2_a2	NULL	NULL	NULL	12	41.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where <not>((`test`.`t1`.`str1` <= <max>(/* select#2 */ select `test`.`t2`.`str2` from `test`.`t2` where ((`test`.`t2`.`str2` >= 'hhh') and (`test`.`t2`.`str2` < 'zzz')))))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string > all (select t2.doc21.string from t2 use document keys where t2.doc21.string >= "hhh" and t2.doc21.string < "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t2	range	doc21_string	doc21_string	5	NULL	2	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where <not>((`test`.`t1`.`doc11`.`string` <= <max>(/* select#2 */ select `test`.`t2`.`doc21`.`string` from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`string` >= 'hhh') and (`test`.`t2`.`doc21`.`string` < 'zzz')))))
select t1.doc11.string from t1 use document keys
where t1.doc11.string > all (select t2.doc21.string from t2 use document keys where t2.doc21.string >= "hhh" and t2.doc21.string < "zzz");
`doc11`.`string`
true
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 <= all (select t2.str2 from t2 where t2.str2 between "hhh" and "kkk");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t2	ALL	str2_a2	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where <not>((`test`.`t1`.`str1` > <min>(/* select#2 */ select `test`.`t2`.`str2` from `test`.`t2` where (`test`.`t2`.`str2` between 'hhh' and 'kkk'))))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string <= all (select t2.doc21.string from t2 use document keys where t2.doc21.string between "hhh" and "zzz");
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	SUBQUERY	t2	range	doc21_string	doc21_string	5	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where <not>((`test`.`t1`.`doc11`.`string` > <min>(/* select#2 */ select `test`.`t2`.`doc21`.`string` from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`string` between 'hhh' and 'zzz'))))
select t1.doc11.string from t1 use document keys
where t1.doc11.string <= all (select t2.doc21.string from t2 use document keys where t2.doc21.string between "hhh" and "zzz");
`doc11`.`string`
aaaaaaa
2.2
false
eee
hhh

12
### USED AS STANDARD
explain extended select t1.str1 from t1 where t1.str1 = all (select t2.str2 from t2 where t2.str2 not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ALL	str2_a2	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where <not>(<in_optimizer>(`test`.`t1`.`str1`,<exists>(/* select#2 */ select 1 from `test`.`t2` where ((`test`.`t2`.`str2` not in ('aaa','hhh','ccc','jjj','zzz')) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`str1`) <> `test`.`t2`.`str2`) or isnull(`test`.`t2`.`str2`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`str2`), true))))
explain extended
select t1.doc11.string from t1 use document keys
where t1.doc11.string = all (select t2.doc21.string from t2 use document keys where t2.doc21.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ALL	doc21_string	NULL	NULL	NULL	12	66.67	Using where
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where <not>(<in_optimizer>(`test`.`t1`.`doc11`.`string`,<exists>(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where ((`test`.`t2`.`doc21`.`string` not in ('aaa','hhh','ccc','jjj','zzz')) and <if>(outer_field_is_not_null, ((<cache>(`test`.`t1`.`doc11`.`string`) <> `test`.`t2`.`doc21`.`string`) or isnull(`test`.`t2`.`doc21`.`string`)), true)) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`string`), true))))
select t1.doc11.string from t1 use document keys
where t1.doc11.string = all (select t2.doc21.string from t2 use document keys where t2.doc21.string not in ("aaa", "hhh", "ccc", "jjj", "zzz"));
`doc11`.`string`
### USED AS STANDARD
explain extended select str1 from t1 where str1 <> all (
select str2 from t2
where ((str2 > "eee" and str2 < "hhh") and (str2 not between "ggg" and "iii")) or
((str2 between "kkk" and "zzz") and (str2 not in ("ddd", "fff"))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	index_subquery	str2_a2	str2_a2	5	func	2	100.00	Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`str1` AS `str1` from `test`.`t1` where (not(<in_optimizer>(`test`.`t1`.`str1`,<exists>(<index_lookup>(<cache>(`test`.`t1`.`str1`) in t2 on str2_a2 checking NULL where (((`test`.`t2`.`str2` > 'eee') and (`test`.`t2`.`str2` < 'hhh') and (`test`.`t2`.`str2` not between 'ggg' and 'iii')) or ((`test`.`t2`.`str2` between 'kkk' and 'zzz') and (`test`.`t2`.`str2` not in ('ddd','fff')))) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`str2`), true))))))
explain extended
select doc11.string from t1 use document keys where doc11.string <> all (
select doc21.string from t2 use document keys
where ((doc21.string > "eee" and doc21.string < "hhh") and (doc21.string not between "ggg" and "iii")) or
((doc21.string between "kkk" and "zzz") and (doc21.string not in ("ddd", "fff"))));
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	index_subquery	doc21_string	doc21_string	5	func	2	100.00	Using where; Full scan on NULL key
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`doc11`.`string` AS "`doc11`.`string`" from `test`.`t1` USE DOCUMENT INDEXES where (not(<in_optimizer>(`test`.`t1`.`doc11`.`string`,<exists>(<index_lookup>(<cache>(`test`.`t1`.`doc11`.`string`) in t2 on doc21_string checking NULL where (((`test`.`t2`.`doc21`.`string` > 'eee') and (`test`.`t2`.`doc21`.`string` < 'hhh') and (`test`.`t2`.`doc21`.`string` not between 'ggg' and 'iii')) or ((`test`.`t2`.`doc21`.`string` between 'kkk' and 'zzz') and (`test`.`t2`.`doc21`.`string` not in ('ddd','fff')))) having <if>(outer_field_is_not_null, <is_not_null_test>(`test`.`t2`.`doc21`.`string`), true))))))
select doc11.string from t1 use document keys where doc11.string <> all (
select doc21.string from t2 use document keys
where ((doc21.string > "eee" and doc21.string < "hhh") and (doc21.string not between "ggg" and "iii")) or
((doc21.string between "kkk" and "zzz") and (doc21.string not in ("ddd", "fff"))));
`doc11`.`string`
aaaaaaa
2.2
true
false
eee
hhh

k
12
######################################################################
###
###   Subqueries
###     -- EXISTS (with / without DISTINCT)
###        -- Correlated
###
###
### Bool: t6 and t7
###
### USED AS STANDARD
explain extended select * from t6 where exists (select * from t7 where t7.b7 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where 1
explain extended select * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` is true))
select * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.bool is true);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
explain extended select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` is true))
select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.bool is true);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
explain extended select * from t6 use document keys where not exists (
select * from t7 use document keys where t7.doc71.bool is not false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Impossible WHERE noticed after reading const tables
2	SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` is not false))))
select * from t6 use document keys where not exists (
select * from t7 use document keys where t7.doc71.bool is not false);
a6	b6	c6	d6	str6	doc61	doc62
explain extended select distinct * from t6 use document keys where not exists (
select * from t7 use document keys where t7.doc71.bool is not false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Impossible WHERE noticed after reading const tables
2	SUBQUERY	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` is not false))))
select distinct * from t6 use document keys where not exists (
select * from t7 use document keys where t7.doc71.bool is not false);
a6	b6	c6	d6	str6	doc61	doc62
explain extended select * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.int is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t7	index	NULL	doc71_int	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`int` is true))
select * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.int is true);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
explain extended select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.int is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t7	index	NULL	doc71_int	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`int` is true))
select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.int is true);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
explain extended select * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.double is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t7	index	NULL	doc71_double	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`double` is true))
select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.double is true);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
explain extended select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.double is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t7	index	NULL	doc71_double	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`double` is true))
select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.double is true);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
explain extended select * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.string is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Impossible WHERE noticed after reading const tables
2	SUBQUERY	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaa'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ccc'
Warning	1292	Truncated incorrect DOUBLE value: 'ddd'
Warning	1292	Truncated incorrect DOUBLE value: 'eee'
Warning	1292	Truncated incorrect DOUBLE value: 'fff'
Warning	1292	Truncated incorrect DOUBLE value: 'ggg'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'iii'
Warning	1292	Truncated incorrect DOUBLE value: 'jjj'
Warning	1292	Truncated incorrect DOUBLE value: 'kkk'
Warning	1292	Truncated incorrect DOUBLE value: 'lll'
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`string` is true))
select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.string is true);
a6	b6	c6	d6	str6	doc61	doc62
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaa'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ccc'
Warning	1292	Truncated incorrect DOUBLE value: 'ddd'
Warning	1292	Truncated incorrect DOUBLE value: 'eee'
Warning	1292	Truncated incorrect DOUBLE value: 'fff'
Warning	1292	Truncated incorrect DOUBLE value: 'ggg'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'iii'
Warning	1292	Truncated incorrect DOUBLE value: 'jjj'
Warning	1292	Truncated incorrect DOUBLE value: 'kkk'
Warning	1292	Truncated incorrect DOUBLE value: 'lll'
explain extended select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.string is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Impossible WHERE noticed after reading const tables
2	SUBQUERY	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaa'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ccc'
Warning	1292	Truncated incorrect DOUBLE value: 'ddd'
Warning	1292	Truncated incorrect DOUBLE value: 'eee'
Warning	1292	Truncated incorrect DOUBLE value: 'fff'
Warning	1292	Truncated incorrect DOUBLE value: 'ggg'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'iii'
Warning	1292	Truncated incorrect DOUBLE value: 'jjj'
Warning	1292	Truncated incorrect DOUBLE value: 'kkk'
Warning	1292	Truncated incorrect DOUBLE value: 'lll'
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`string` is true))
select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t7.doc71.string is true);
a6	b6	c6	d6	str6	doc61	doc62
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaa'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ccc'
Warning	1292	Truncated incorrect DOUBLE value: 'ddd'
Warning	1292	Truncated incorrect DOUBLE value: 'eee'
Warning	1292	Truncated incorrect DOUBLE value: 'fff'
Warning	1292	Truncated incorrect DOUBLE value: 'ggg'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'iii'
Warning	1292	Truncated incorrect DOUBLE value: 'jjj'
Warning	1292	Truncated incorrect DOUBLE value: 'kkk'
Warning	1292	Truncated incorrect DOUBLE value: 'lll'
explain extended select * from t6 use document keys where not exists (
select * from t7 use document keys where t7.doc71.string is not false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaa'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ccc'
Warning	1292	Truncated incorrect DOUBLE value: 'ddd'
Warning	1292	Truncated incorrect DOUBLE value: 'eee'
Warning	1292	Truncated incorrect DOUBLE value: 'fff'
Warning	1292	Truncated incorrect DOUBLE value: 'ggg'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'iii'
Warning	1292	Truncated incorrect DOUBLE value: 'jjj'
Warning	1292	Truncated incorrect DOUBLE value: 'kkk'
Warning	1292	Truncated incorrect DOUBLE value: 'lll'
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`string` is not false))))
select distinct * from t6 use document keys where not exists (
select * from t7 use document keys where t7.doc71.string is not false);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaa'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ccc'
Warning	1292	Truncated incorrect DOUBLE value: 'ddd'
Warning	1292	Truncated incorrect DOUBLE value: 'eee'
Warning	1292	Truncated incorrect DOUBLE value: 'fff'
Warning	1292	Truncated incorrect DOUBLE value: 'ggg'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'iii'
Warning	1292	Truncated incorrect DOUBLE value: 'jjj'
Warning	1292	Truncated incorrect DOUBLE value: 'kkk'
Warning	1292	Truncated incorrect DOUBLE value: 'lll'
explain extended select distinct * from t6 use document keys where not exists (
select * from t7 use document keys where t7.doc71.string is not false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaa'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ccc'
Warning	1292	Truncated incorrect DOUBLE value: 'ddd'
Warning	1292	Truncated incorrect DOUBLE value: 'eee'
Warning	1292	Truncated incorrect DOUBLE value: 'fff'
Warning	1292	Truncated incorrect DOUBLE value: 'ggg'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'iii'
Warning	1292	Truncated incorrect DOUBLE value: 'jjj'
Warning	1292	Truncated incorrect DOUBLE value: 'kkk'
Warning	1292	Truncated incorrect DOUBLE value: 'lll'
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`string` is not false))))
select distinct * from t6 use document keys where not exists (
select * from t7 use document keys where t7.doc71.string is not false);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaa'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ccc'
Warning	1292	Truncated incorrect DOUBLE value: 'ddd'
Warning	1292	Truncated incorrect DOUBLE value: 'eee'
Warning	1292	Truncated incorrect DOUBLE value: 'fff'
Warning	1292	Truncated incorrect DOUBLE value: 'ggg'
Warning	1292	Truncated incorrect DOUBLE value: 'hhh'
Warning	1292	Truncated incorrect DOUBLE value: 'iii'
Warning	1292	Truncated incorrect DOUBLE value: 'jjj'
Warning	1292	Truncated incorrect DOUBLE value: 'kkk'
Warning	1292	Truncated incorrect DOUBLE value: 'lll'
###
### Bool: t1 and t2
###
### USED AS STANDARD
explain extended select * from t1 where exists (select * from t2 where t2.b2 is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t2	index	NULL	b2_a2	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where 1
explain extended select * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is true))
select * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.bool is true);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
explain extended select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.bool is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is true))
select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.bool is true);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
explain extended select * from t1 use document keys where not exists (
select * from t2 use document keys where t2.doc21.bool is not false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Impossible WHERE noticed after reading const tables
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is not false))))
select * from t1 use document keys where not exists (
select * from t2 use document keys where t2.doc21.bool is not false);
a1	b1	c1	d1	str1	doc11	doc12
explain extended select distinct * from t1 use document keys where not exists (
select * from t2 use document keys where t2.doc21.bool is not false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Impossible WHERE noticed after reading const tables
2	SUBQUERY	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` is not false))))
select distinct * from t1 use document keys where not exists (
select * from t2 use document keys where t2.doc21.bool is not false);
a1	b1	c1	d1	str1	doc11	doc12
explain extended select * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.int is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t2	index	NULL	doc21_int	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` is true))
select * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.int is true);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
explain extended select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.int is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t2	index	NULL	doc21_int	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` is true))
select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.int is true);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
explain extended select * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.double is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t2	index	NULL	doc21_double	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`double` is true))
select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.double is true);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
explain extended select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.double is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t2	index	NULL	doc21_double	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`double` is true))
select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.double is true);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
explain extended select * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.string is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaaaaaa'
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`string` is true))
select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.string is true);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaaaaaa'
explain extended select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.string is true);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	SUBQUERY	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaaaaaa'
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`string` is true))
select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t2.doc21.string is true);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaaaaaa'
explain extended select * from t1 use document keys where not exists (
select * from t2 use document keys where t2.doc21.string is not false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Impossible WHERE noticed after reading const tables
2	SUBQUERY	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaaaaaa'
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`string` is not false))))
select distinct * from t1 use document keys where not exists (
select * from t2 use document keys where t2.doc21.string is not false);
a1	b1	c1	d1	str1	doc11	doc12
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaaaaaa'
explain extended select distinct * from t1 use document keys where not exists (
select * from t2 use document keys where t2.doc21.string is not false);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Impossible WHERE noticed after reading const tables
2	SUBQUERY	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaaaaaa'
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`string` is not false))))
select distinct * from t1 use document keys where not exists (
select * from t2 use document keys where t2.doc21.string is not false);
a1	b1	c1	d1	str1	doc11	doc12
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'aaaaaaa'
###
### Range: t6 and t7
###
### USED AS STANDARD
explain extended select * from t6 where exists (select * from t7 where t6.b6 = t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`))
explain extended select * from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`))
select * from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended select distinct * from t6 where exists (select * from t7 where t6.b6 = t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`))
explain extended select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`))
select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
a6	b6	c6	d6	str6	doc61	doc62
1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended select a6 from t6 where exists (select * from t7 where t6.b6 = t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` where exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`))
explain extended select a6 from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`))
select a6 from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
a6
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select distinct a6 from t6 where exists (select * from t7 where t6.b6 = t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` where exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`))
explain extended select distinct a6 from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`))
select distinct a6 from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
a6
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select a6 from t6 where exists (select * from t7 where t6.b6 > t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` where exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`))
explain extended select a6 from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`))
select a6 from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int);
a6
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select distinct a6 from t6 where exists (select * from t7 where t6.b6 > t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` where exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`))
explain extended select distinct a6 from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`))
select distinct a6 from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int);
a6
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select * from t6 where not exists (select * from t7 where t6.b6 = t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`))))
explain extended select * from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`))))
select * from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
a6	b6	c6	d6	str6	doc61	doc62
### USED AS STANDARD
explain extended select distinct * from t6 where not exists (select * from t7 where t6.b6 = t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`))))
explain extended select distinct * from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`))))
select distinct * from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
a6	b6	c6	d6	str6	doc61	doc62
### USED AS STANDARD
explain extended select a6 from t6 where not exists (select * from t7 where t6.b6 = t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` where (not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`))))
explain extended select a6 from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`))))
select a6 from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
a6
### USED AS STANDARD
explain extended select distinct a6 from t6 where not exists (select * from t7 where t6.b6 = t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` where (not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`))))
explain extended select distinct a6 from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`))))
select distinct a6 from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int);
a6
### USED AS STANDARD
explain extended select a6 from t6 where not exists (select * from t7 where t6.b6 > t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` where (not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`))))
explain extended select a6 from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`))))
select a6 from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int);
a6
1
### USED AS STANDARD
explain extended select distinct a6 from t6 where not exists (select * from t7 where t6.b6 > t7.b7);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	b6_a6	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` where (not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`))))
explain extended select distinct a6 from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	doc61_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`))))
select distinct a6 from t6 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int);
a6
1
### USED AS STANDARD
explain extended select * from t6 where exists (select * from t7 where t6.b6 = t7.b7) and t6.b6 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	b6_a6	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`)) and (`test`.`t6`.`b6` >= 6))
explain extended select * from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t6.doc61.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	doc61_int	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`)) and (`test`.`t6`.`doc61`.`int` >= 6))
select * from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t6.doc61.int >= 6;
a6	b6	c6	d6	str6	doc61	doc62
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended select distinct * from t6 where exists (select * from t7 where t6.b6 = t7.b7) and t6.b6 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	b6_a6	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`)) and (`test`.`t6`.`b6` >= 6))
explain extended select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t6.doc61.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	doc61_int	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`)) and (`test`.`t6`.`doc61`.`int` >= 6))
select distinct * from t6 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t6.doc61.int >= 6;
a6	b6	c6	d6	str6	doc61	doc62
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended select a6 from t6, t7 where exists (select * from t7 where t6.b6 = t7.b7) and t7.b7 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	b7_a7	b7_a7	5	NULL	7	100.00	Using where; Using index
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` join `test`.`t7` where (exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`)) and (`test`.`t7`.`b7` >= 6))
explain extended select a6 from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t7.doc71.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	doc71_int	doc71_int	9	NULL	7	100.00	Using where; Using index
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`)) and (`test`.`t7`.`doc71`.`int` >= 6))
select a6 from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t7.doc71.int >= 6;
a6
1
1
1
1
1
1
1
2
2
2
2
2
2
2
3
3
3
3
3
3
3
4
4
4
4
4
4
4
5
5
5
5
5
5
5
6
6
6
6
6
6
6
7
7
7
7
7
7
7
8
8
8
8
8
8
8
9
9
9
9
9
9
9
10
10
10
10
10
10
10
11
11
11
11
11
11
11
12
12
12
12
12
12
12
### USED AS STANDARD
explain extended select distinct a6 from t6, t7 where exists (select * from t7 where t6.b6 = t7.b7) and t7.b7 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	b7_a7	b7_a7	5	NULL	7	100.00	Using where; Using index; Using temporary
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	b6_a6	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` join `test`.`t7` where (exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`)) and (`test`.`t7`.`b7` >= 6))
explain extended select distinct a6 from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t7.doc71.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	doc71_int	doc71_int	9	NULL	7	100.00	Using where; Using index; Using temporary
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	doc61_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`)) and (`test`.`t7`.`doc71`.`int` >= 6))
select distinct a6 from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t7.doc71.int >= 6;
a6
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended select a6 from t6, t7 where not exists (select * from t7 where t6.b6 = t7.b7) and t7.b7 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	b7_a7	b7_a7	5	NULL	7	100.00	Using where; Using index
1	PRIMARY	t6	index	NULL	b6_a6	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` join `test`.`t7` where ((not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`)))) and (`test`.`t7`.`b7` >= 6))
explain extended select a6 from t6 use document keys, t7 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t7.doc71.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	doc71_int	doc71_int	9	NULL	7	100.00	Using where; Using index
1	PRIMARY	t6	index	NULL	doc61_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`)))) and (`test`.`t7`.`doc71`.`int` >= 6))
select a6 from t6 use document keys, t7 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t7.doc71.int >= 6;
a6
### USED AS STANDARD
explain extended select distinct a6 from t6, t7 where not exists (select * from t7 where t6.b6 = t7.b7) and t7.b7 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	b7_a7	b7_a7	5	NULL	7	100.00	Using where; Using index; Using temporary
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	b6_a6	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ref	b7_a7	b7_a7	5	test.t6.b6	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` join `test`.`t7` where ((not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` = `test`.`t7`.`b7`)))) and (`test`.`t7`.`b7` >= 6))
explain extended select distinct a6 from t6 use document keys, t7 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t7.doc71.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	doc71_int	doc71_int	9	NULL	7	100.00	Using where; Using index; Using temporary
1	PRIMARY	t6	index	PRIMARY,b6_a6,str6_a6,doc61_bool,doc61_int,doc61_double,doc61_string,doc61_nested,doc62_int,doc62_double,doc61_b6,doc61_c6,doc61_d6,b6_doc61	doc61_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ref	doc71_int	doc71_int	9	test.t6.`doc61`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` = `test`.`t7`.`doc71`.`int`)))) and (`test`.`t7`.`doc71`.`int` >= 6))
select distinct a6 from t6 use document keys, t7 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int = t7.doc71.int) and t7.doc71.int >= 6;
a6
### USED AS STANDARD
explain extended select * from t6, t7 where exists (select * from t7 where t6.b6 > t7.b7) and t6.b6 >= 6 and t7.b7 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	ALL	b7_a7	NULL	NULL	NULL	12	50.00	Using where
1	PRIMARY	t6	ALL	b6_a6	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t6` join `test`.`t7` where (exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`)) and (`test`.`t6`.`b6` >= 6) and (`test`.`t7`.`b7` < 8))
explain extended select * from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	ALL	doc71_int	NULL	NULL	NULL	12	50.00	Using where
1	PRIMARY	t6	ALL	doc61_int	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`)) and (`test`.`t6`.`doc61`.`int` >= 6) and (`test`.`t7`.`doc71`.`int` < 8))
select * from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
a6	b6	c6	d6	str6	doc61	doc62	a7	b7	c7	d7	str7	doc71	doc72
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
### USED AS STANDARD
explain extended select distinct * from t6, t7 where exists (select * from t7 where t6.b6 > t7.b7) and t6.b6 >= 6 and t7.b7 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	ALL	b7_a7	NULL	NULL	NULL	12	50.00	Using where; Using temporary
1	PRIMARY	t6	ALL	b6_a6	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t6` join `test`.`t7` where (exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`)) and (`test`.`t6`.`b6` >= 6) and (`test`.`t7`.`b7` < 8))
explain extended select distinct * from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	ALL	doc71_int	NULL	NULL	NULL	12	50.00	Using where; Using temporary
1	PRIMARY	t6	ALL	doc61_int	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`)) and (`test`.`t6`.`doc61`.`int` >= 6) and (`test`.`t7`.`doc71`.`int` < 8))
select distinct * from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
a6	b6	c6	d6	str6	doc61	doc62	a7	b7	c7	d7	str7	doc71	doc72
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
9	9	9.9	iii	iii	{"bool":false,"int":9,"double":9.9,"string":"iii","k1":{"k2":{"k3":{"int":9}}},"id":9}	{"int":9,"double":9.9}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	1	1	1.1	aaa	aaa	{"bool":false,"int":1,"double":1.1,"string":"aaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	3	3	3.3	ccc	ccc	{"bool":false,"int":3,"double":3.3,"string":"ccc","k1":{"k2":{"k3":{"int":3}}},"id":3}	{"int":3,"double":3.3}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":7.7,"string":"ggg","k1":{"k2":{"k3":{"int":7}}},"id":7}	{"int":7,"double":7.7}
### USED AS STANDARD
explain extended select a7 from t6, t7 where exists (select * from t7 where t6.b6 > t7.b7) and t6.b6 >= 6 and t7.b7 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	b7_a7	b7_a7	5	NULL	6	100.00	Using where; Using index
1	PRIMARY	t6	range	b6_a6	b6_a6	5	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t7`.`a7` AS `a7` from `test`.`t6` join `test`.`t7` where (exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`)) and (`test`.`t6`.`b6` >= 6) and (`test`.`t7`.`b7` < 8))
explain extended select a7 from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	doc71_int	doc71_int	9	NULL	6	100.00	Using where; Using index
1	PRIMARY	t6	range	doc61_int	doc61_int	9	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t7`.`a7` AS `a7` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`)) and (`test`.`t6`.`doc61`.`int` >= 6) and (`test`.`t7`.`doc71`.`int` < 8))
select a7 from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
a7
1
2
3
4
5
6
7
1
2
3
4
5
6
7
1
2
3
4
5
6
7
1
2
3
4
5
6
7
1
2
3
4
5
6
7
1
2
3
4
5
6
7
1
2
3
4
5
6
7
### USED AS STANDARD
explain extended select distinct a7 from t6, t7 where exists (select * from t7 where t6.b6 > t7.b7) and t6.b6 >= 6 and t7.b7 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	PRIMARY,b7_a7,str7_a7,doc71_bool,doc71_int,doc71_double,doc71_string,doc71_nested,doc72_int,doc72_double,doc71_b7,doc71_c7,doc71_d7,b7_doc71	b7_a7	5	NULL	6	100.00	Using where; Using index; Using temporary
1	PRIMARY	t6	range	b6_a6	b6_a6	5	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t7`.`a7` AS `a7` from `test`.`t6` join `test`.`t7` where (exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`)) and (`test`.`t6`.`b6` >= 6) and (`test`.`t7`.`b7` < 8))
explain extended select distinct a7 from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	PRIMARY,b7_a7,str7_a7,doc71_bool,doc71_int,doc71_double,doc71_string,doc71_nested,doc72_int,doc72_double,doc71_b7,doc71_c7,doc71_d7,b7_doc71	doc71_int	9	NULL	6	100.00	Using where; Using index; Using temporary
1	PRIMARY	t6	range	doc61_int	doc61_int	9	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t7`.`a7` AS `a7` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`)) and (`test`.`t6`.`doc61`.`int` >= 6) and (`test`.`t7`.`doc71`.`int` < 8))
select distinct a7 from t6 use document keys, t7 use document keys where exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
a7
1
2
3
4
5
6
7
### USED AS STANDARD
explain extended select a7 from t6, t7 where not exists (select * from t7 where t6.b6 > t7.b7) and t6.b6 >= 6 and t7.b7 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	b7_a7	b7_a7	5	NULL	6	100.00	Using where; Using index
1	PRIMARY	t6	range	b6_a6	b6_a6	5	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t7`.`a7` AS `a7` from `test`.`t6` join `test`.`t7` where ((not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`)))) and (`test`.`t6`.`b6` >= 6) and (`test`.`t7`.`b7` < 8))
explain extended select a7 from t6 use document keys, t7 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	doc71_int	doc71_int	9	NULL	6	100.00	Using where; Using index
1	PRIMARY	t6	range	doc61_int	doc61_int	9	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t7`.`a7` AS `a7` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`)))) and (`test`.`t6`.`doc61`.`int` >= 6) and (`test`.`t7`.`doc71`.`int` < 8))
select a7 from t6 use document keys, t7 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
a7
### USED AS STANDARD
explain extended select distinct a7 from t6, t7 where not exists (select * from t7 where t6.b6 > t7.b7) and t6.b6 >= 6 and t7.b7 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	PRIMARY,b7_a7,str7_a7,doc71_bool,doc71_int,doc71_double,doc71_string,doc71_nested,doc72_int,doc72_double,doc71_b7,doc71_c7,doc71_d7,b7_doc71	b7_a7	5	NULL	6	100.00	Using where; Using index; Using temporary
1	PRIMARY	t6	range	b6_a6	b6_a6	5	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t6.b6' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t7`.`a7` AS `a7` from `test`.`t6` join `test`.`t7` where ((not(exists(/* select#2 */ select 1 from `test`.`t7` where (`test`.`t6`.`b6` > `test`.`t7`.`b7`)))) and (`test`.`t6`.`b6` >= 6) and (`test`.`t7`.`b7` < 8))
explain extended select distinct a7 from t6 use document keys, t7 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t7	range	PRIMARY,b7_a7,str7_a7,doc71_bool,doc71_int,doc71_double,doc71_string,doc71_nested,doc72_int,doc72_double,doc71_b7,doc71_c7,doc71_d7,b7_doc71	doc71_int	9	NULL	6	100.00	Using where; Using index; Using temporary
1	PRIMARY	t6	range	doc61_int	doc61_int	9	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t7	ALL	doc71_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t7`.`a7` AS `a7` from `test`.`t6` USE DOCUMENT INDEXES join `test`.`t7` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > `test`.`t7`.`doc71`.`int`)))) and (`test`.`t6`.`doc61`.`int` >= 6) and (`test`.`t7`.`doc71`.`int` < 8))
select distinct a7 from t6 use document keys, t7 use document keys where not exists (
select * from t7 use document keys where t6.doc61.int > t7.doc71.int) and t6.doc61.int >= 6 and t7.doc71.int < 8;
a7
###
### Range: t1 and t2
###
### USED AS STANDARD
explain extended select * from t1 where exists (select * from t2 where t1.b1 = t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`))
explain extended select * from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`))
select * from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
a1	b1	c1	d1	str1	doc11	doc12
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
### USED AS STANDARD
explain extended select distinct * from t1 where exists (select * from t2 where t1.b1 = t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`))
explain extended select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`))
select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
a1	b1	c1	d1	str1	doc11	doc12
2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
### USED AS STANDARD
explain extended select a1 from t1 where exists (select * from t2 where t1.b1 = t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`))
explain extended select a1 from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`))
select a1 from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
a1
2
7
10
11
### USED AS STANDARD
explain extended select distinct a1 from t1 where exists (select * from t2 where t1.b1 = t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`))
explain extended select distinct a1 from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`))
select distinct a1 from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
a1
2
7
10
11
### USED AS STANDARD
explain extended select a1 from t1 where exists (select * from t2 where t1.b1 > t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`))
explain extended select a1 from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`))
select a1 from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int);
a1
3
5
7
8
10
11
4
### USED AS STANDARD
explain extended select distinct a1 from t1 where exists (select * from t2 where t1.b1 > t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` where exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`))
explain extended select distinct a1 from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`))
select distinct a1 from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int);
a1
3
5
7
8
10
11
4
### USED AS STANDARD
explain extended select * from t1 where not exists (select * from t2 where t1.b1 = t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`))))
explain extended select * from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`))))
select * from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
### USED AS STANDARD
explain extended select distinct * from t1 where not exists (select * from t2 where t1.b1 = t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`))))
explain extended select distinct * from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`))))
select distinct * from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
5	5	5.5	eee	eee	{"bool":false,"int":5,"double":5.5,"string":"eee","k1":{"k2":{"k3":{"int":5}}},"id":5}	{"int":5,"double":5.5}
6	6	6.6	fff	fff	NULL	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
### USED AS STANDARD
explain extended select a1 from t1 where not exists (select * from t2 where t1.b1 = t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`))))
explain extended select a1 from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`))))
select a1 from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
a1
1
6
9
12
3
5
8
4
### USED AS STANDARD
explain extended select distinct a1 from t1 where not exists (select * from t2 where t1.b1 = t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`))))
explain extended select distinct a1 from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`))))
select distinct a1 from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int);
a1
1
6
9
12
3
5
8
4
### USED AS STANDARD
explain extended select a1 from t1 where not exists (select * from t2 where t1.b1 > t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`))))
explain extended select a1 from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`))))
select a1 from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int);
a1
1
6
9
12
2
### USED AS STANDARD
explain extended select distinct a1 from t1 where not exists (select * from t2 where t1.b1 > t2.b2);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` where (not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`))))
explain extended select distinct a1 from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int);
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES where (not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`))))
select distinct a1 from t1 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int);
a1
1
6
9
12
2
### USED AS STANDARD
explain extended select * from t1 where exists (select * from t2 where t1.b1 = t2.b2) and t1.b1 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	b1_a1	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`)) and (`test`.`t1`.`b1` >= 6))
explain extended select * from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t1.doc11.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	doc11_int	NULL	NULL	NULL	12	41.67	Using where
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6))
select * from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t1.doc11.int >= 6;
a1	b1	c1	d1	str1	doc11	doc12
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
### USED AS STANDARD
explain extended select distinct * from t1 where exists (select * from t2 where t1.b1 = t2.b2) and t1.b1 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	b1_a1	NULL	NULL	NULL	12	58.33	Using where
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`)) and (`test`.`t1`.`b1` >= 6))
explain extended select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t1.doc11.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	ALL	doc11_int	NULL	NULL	NULL	12	41.67	Using where
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6))
select distinct * from t1 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t1.doc11.int >= 6;
a1	b1	c1	d1	str1	doc11	doc12
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
### USED AS STANDARD
explain extended select a1 from t1, t2 where exists (select * from t2 where t1.b1 = t2.b2) and t2.b2 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	b2_a2	b2_a2	5	NULL	7	100.00	Using where; Using index
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` join `test`.`t2` where (exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`)) and (`test`.`t2`.`b2` >= 6))
explain extended select a1 from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t2.doc21.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	doc21_int	doc21_int	9	NULL	5	100.00	Using where; Using index
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`)) and (`test`.`t2`.`doc21`.`int` >= 6))
select a1 from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t2.doc21.int >= 6;
a1
2
2
2
2
2
7
7
7
7
7
10
10
10
10
10
11
11
11
11
11
### USED AS STANDARD
explain extended select distinct a1 from t1, t2 where exists (select * from t2 where t1.b1 = t2.b2) and t2.b2 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	b2_a2	b2_a2	5	NULL	7	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` join `test`.`t2` where (exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`)) and (`test`.`t2`.`b2` >= 6))
explain extended select distinct a1 from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t2.doc21.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	doc21_int	doc21_int	9	NULL	5	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`)) and (`test`.`t2`.`doc21`.`int` >= 6))
select distinct a1 from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t2.doc21.int >= 6;
a1
2
7
10
11
### USED AS STANDARD
explain extended select a1 from t1, t2 where not exists (select * from t2 where t1.b1 = t2.b2) and t2.b2 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	b2_a2	b2_a2	5	NULL	7	100.00	Using where; Using index
1	PRIMARY	t1	index	NULL	b1_a1	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` join `test`.`t2` where ((not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`)))) and (`test`.`t2`.`b2` >= 6))
explain extended select a1 from t1 use document keys, t2 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t2.doc21.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	doc21_int	doc21_int	9	NULL	5	100.00	Using where; Using index
1	PRIMARY	t1	index	NULL	doc11_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`)))) and (`test`.`t2`.`doc21`.`int` >= 6))
select a1 from t1 use document keys, t2 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t2.doc21.int >= 6;
a1
1
1
1
1
1
6
6
6
6
6
9
9
9
9
9
12
12
12
12
12
3
3
3
3
3
5
5
5
5
5
8
8
8
8
8
4
4
4
4
4
### USED AS STANDARD
explain extended select distinct a1 from t1, t2 where not exists (select * from t2 where t1.b1 = t2.b2) and t2.b2 >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	b2_a2	b2_a2	5	NULL	7	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	b1_a1	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ref	b2_a2	b2_a2	5	test.t1.b1	1	100.00	Using index
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` join `test`.`t2` where ((not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` = `test`.`t2`.`b2`)))) and (`test`.`t2`.`b2` >= 6))
explain extended select distinct a1 from t1 use document keys, t2 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t2.doc21.int >= 6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	doc21_int	doc21_int	9	NULL	5	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	index	PRIMARY,b1_a1,str1_a1,doc11_bool,doc11_int,doc11_double,doc11_string,doc11_nested,doc12_int,doc12_double,doc11_b1,doc11_c1,doc11_d1,b1_doc11	doc11_int	9	NULL	12	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ref	doc21_int	doc21_int	9	test.t1.`doc11`.`int`	1	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` = `test`.`t2`.`doc21`.`int`)))) and (`test`.`t2`.`doc21`.`int` >= 6))
select distinct a1 from t1 use document keys, t2 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int = t2.doc21.int) and t2.doc21.int >= 6;
a1
1
6
9
12
3
5
8
4
### USED AS STANDARD
explain extended select * from t1, t2 where exists (select * from t2 where t1.b1 > t2.b2) and t1.b1 >= 6 and t2.b2 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	ALL	b2_a2	NULL	NULL	NULL	12	50.00	Using where
1	PRIMARY	t1	ALL	b1_a1	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12`,`test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t1` join `test`.`t2` where (exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`)) and (`test`.`t1`.`b1` >= 6) and (`test`.`t2`.`b2` < 8))
explain extended select * from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where
1	PRIMARY	t1	ALL	doc11_int	NULL	NULL	NULL	12	41.67	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12`,`test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t2`.`doc21`.`int` < 8))
select * from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
a1	b1	c1	d1	str1	doc11	doc12	a2	b2	c2	d2	str2	doc21	doc22
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
### USED AS STANDARD
explain extended select distinct * from t1, t2 where exists (select * from t2 where t1.b1 > t2.b2) and t1.b1 >= 6 and t2.b2 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	ALL	b2_a2	NULL	NULL	NULL	12	50.00	Using where; Using temporary
1	PRIMARY	t1	ALL	b1_a1	NULL	NULL	NULL	12	58.33	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12`,`test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t1` join `test`.`t2` where (exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`)) and (`test`.`t1`.`b1` >= 6) and (`test`.`t2`.`b2` < 8))
explain extended select distinct * from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using temporary
1	PRIMARY	t1	ALL	doc11_int	NULL	NULL	NULL	12	41.67	Using where; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12`,`test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t2`.`doc21`.`int` < 8))
select distinct * from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
a1	b1	c1	d1	str1	doc11	doc12	a2	b2	c2	d2	str2	doc21	doc22
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	1	1	1.1	aaa	aaa	{"__ol":true,"int":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	2	2	2.2	bbb	bbb	{"bool":"bbb","int":true,"double":"2.2","string":2.2,"k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"___ble":2.2}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":4,"double":null,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	7	7	7.7	ggg	ggg	{"bool":false,"int":7,"double":false,"___ing":"g","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL
### USED AS STANDARD
explain extended select a2 from t1, t2 where exists (select * from t2 where t1.b1 > t2.b2) and t1.b1 >= 6 and t2.b2 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	b2_a2	b2_a2	5	NULL	6	100.00	Using where; Using index
1	PRIMARY	t1	range	b1_a1	b1_a1	5	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t2`.`a2` AS `a2` from `test`.`t1` join `test`.`t2` where (exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`)) and (`test`.`t1`.`b1` >= 6) and (`test`.`t2`.`b2` < 8))
explain extended select a2 from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	5	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t2`.`a2` AS `a2` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t2`.`doc21`.`int` < 8))
select a2 from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
a2
1
2
4
7
1
2
4
7
1
2
4
7
1
2
4
7
1
2
4
7
### USED AS STANDARD
explain extended select distinct a2 from t1, t2 where exists (select * from t2 where t1.b1 > t2.b2) and t1.b1 >= 6 and t2.b2 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	PRIMARY,b2_a2,str2_a2,doc21_bool,doc21_int,doc21_double,doc21_string,doc21_nested,doc22_int,doc22_double,doc21_b2,doc21_c2,doc21_d2,b2_doc21	b2_a2	5	NULL	6	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	range	b1_a1	b1_a1	5	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t2`.`a2` AS `a2` from `test`.`t1` join `test`.`t2` where (exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`)) and (`test`.`t1`.`b1` >= 6) and (`test`.`t2`.`b2` < 8))
explain extended select distinct a2 from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	PRIMARY,b2_a2,str2_a2,doc21_bool,doc21_int,doc21_double,doc21_string,doc21_nested,doc22_int,doc22_double,doc21_b2,doc21_c2,doc21_d2,b2_doc21	doc21_int	9	NULL	3	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	5	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t2`.`a2` AS `a2` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where (exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`)) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t2`.`doc21`.`int` < 8))
select distinct a2 from t1 use document keys, t2 use document keys where exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
a2
1
2
4
7
### USED AS STANDARD
explain extended select a2 from t1, t2 where not exists (select * from t2 where t1.b1 > t2.b2) and t1.b1 >= 6 and t2.b2 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	b2_a2	b2_a2	5	NULL	6	100.00	Using where; Using index
1	PRIMARY	t1	range	b1_a1	b1_a1	5	NULL	7	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select `test`.`t2`.`a2` AS `a2` from `test`.`t1` join `test`.`t2` where ((not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`)))) and (`test`.`t1`.`b1` >= 6) and (`test`.`t2`.`b2` < 8))
explain extended select a2 from t1 use document keys, t2 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	5	100.00	Using where; Using index; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select `test`.`t2`.`a2` AS `a2` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`)))) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t2`.`doc21`.`int` < 8))
select a2 from t1 use document keys, t2 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
a2
### USED AS STANDARD
explain extended select distinct a2 from t1, t2 where not exists (select * from t2 where t1.b1 > t2.b2) and t1.b1 >= 6 and t2.b2 < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	PRIMARY,b2_a2,str2_a2,doc21_bool,doc21_int,doc21_double,doc21_string,doc21_nested,doc22_int,doc22_double,doc21_b2,doc21_c2,doc21_d2,b2_doc21	b2_a2	5	NULL	6	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	range	b1_a1	b1_a1	5	NULL	7	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	b2_a2	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x2)
Warnings:
Note	1276	Field or reference 'test.t1.b1' of SELECT #2 was resolved in SELECT #1
Note	1003	/* select#1 */ select distinct `test`.`t2`.`a2` AS `a2` from `test`.`t1` join `test`.`t2` where ((not(exists(/* select#2 */ select 1 from `test`.`t2` where (`test`.`t1`.`b1` > `test`.`t2`.`b2`)))) and (`test`.`t1`.`b1` >= 6) and (`test`.`t2`.`b2` < 8))
explain extended select distinct a2 from t1 use document keys, t2 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t2	range	PRIMARY,b2_a2,str2_a2,doc21_bool,doc21_int,doc21_double,doc21_string,doc21_nested,doc22_int,doc22_double,doc21_b2,doc21_c2,doc21_d2,b2_doc21	doc21_int	9	NULL	3	100.00	Using where; Using index; Using temporary
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	5	100.00	Using where; Using index; Distinct; Using join buffer (Block Nested Loop)
2	DEPENDENT SUBQUERY	t2	ALL	doc21_int	NULL	NULL	NULL	12	100.00	Range checked for each record (index map: 0x10)
Warnings:
Note	1003	/* select#1 */ select distinct `test`.`t2`.`a2` AS `a2` from `test`.`t1` USE DOCUMENT INDEXES join `test`.`t2` USE DOCUMENT INDEXES where ((not(exists(/* select#2 */ select 1 from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > `test`.`t2`.`doc21`.`int`)))) and (`test`.`t1`.`doc11`.`int` >= 6) and (`test`.`t2`.`doc21`.`int` < 8))
select distinct a2 from t1 use document keys, t2 use document keys where not exists (
select * from t2 use document keys where t1.doc11.int > t2.doc21.int) and t1.doc11.int >= 6 and t2.doc21.int < 8;
a2
######################################################################
###
###   min()
###
### USED AS STANDARD
explain extended select min(t6.b6) from t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select min(`test`.`t6`.`b6`) AS `min(t6.b6)` from `test`.`t6`
explain extended
select min(t6.doc61.int) from t6 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select min(`test`.`t6`.`doc61`.`int`) AS `min(t6.doc61.int)` from `test`.`t6` USE DOCUMENT INDEXES
select min(t6.doc61.int) from t6 use document keys;
min(t6.doc61.int)
1
select min(t1.doc11.int) from t1 use document keys;
min(t1.doc11.int)
0
### USED AS STANDARD
explain extended select min(t6.b6) from t6 where t6.b6 > 5;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select min(`test`.`t6`.`b6`) AS `min(t6.b6)` from `test`.`t6` where (`test`.`t6`.`b6` > 5)
explain extended
select min(t6.doc61.int) from t6 use document keys where t6.doc61.int > 5;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select min(`test`.`t6`.`doc61`.`int`) AS `min(t6.doc61.int)` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > 5)
select min(t6.doc61.int) from t6 use document keys where t6.doc61.int > 5;
min(t6.doc61.int)
6
select min(t1.doc11.int) from t1 use document keys where t1.doc11.int > 5;
min(t1.doc11.int)
7
######################################################################
###
###   max()
###
### USED AS STANDARD
explain extended select max(t6.b6) from t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select max(`test`.`t6`.`b6`) AS `max(t6.b6)` from `test`.`t6`
explain extended
select max(t6.doc61.int) from t6 use document keys;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select max(`test`.`t6`.`doc61`.`int`) AS `max(t6.doc61.int)` from `test`.`t6` USE DOCUMENT INDEXES
select max(t6.doc61.int) from t6 use document keys;
max(t6.doc61.int)
12
select max(t1.doc11.int) from t1 use document keys;
max(t1.doc11.int)
44444
### USED AS STANDARD
explain extended select max(t6.b6) from t6 where t6.b6 < 5;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select max(`test`.`t6`.`b6`) AS `max(t6.b6)` from `test`.`t6` where (`test`.`t6`.`b6` < 5)
explain extended
select max(t6.doc61.int) from t6 use document keys where t6.doc61.int < 5;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	NULL	NULL	NULL	NULL	NULL	NULL	NULL	NULL	Select tables optimized away
Warnings:
Note	1003	/* select#1 */ select max(`test`.`t6`.`doc61`.`int`) AS `max(t6.doc61.int)` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` < 5)
select max(t6.doc61.int) from t6 use document keys where t6.doc61.int < 5;
max(t6.doc61.int)
4
select max(t1.doc11.int) from t1 use document keys where t1.doc11.int < 5;
max(t1.doc11.int)
3
######################################################################
###
###   Subqueries
###     -- Derived tables (Subqueries in FROM clauses)
###

### SINGLE TABLE: t6
### PATTERN 1 with int

### USED AS STANDARD
explain extended
select * from (select * from t6) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived`
explain extended
select * from (select * from t6 use document keys) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived`
### USED AS STANDARD
explain extended
select * from (select * from t6 where t6.b6 > 9) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t6	range	b6_a6	b6_a6	5	NULL	3	100.00	Using index condition
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`b6` > 9)) `derived`
explain extended
select * from (select * from t6 use document keys where t6.doc61.int > 9) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t6	range	doc61_int	doc61_int	9	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > 9)) `derived`
select * from (select * from t6 use document keys where t6.doc61.int > 9) as derived;
a6	b6	c6	d6	str6	doc61	doc62
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended
select * from (select * from t6) as derived where derived.b6 > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived` where (`derived`.`b6` > 9)
explain extended
select * from (select * from t6 use document keys) as derived where derived.doc61.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived` where (`derived`.`doc61`.`int` > 9)
select * from (select * from t6 use document keys) as derived where derived.doc61.int > 9;
a6	b6	c6	d6	str6	doc61	doc62
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}

### SINGLE TABLE: t6
### PATTERN 1 with string

### USED AS STANDARD
explain extended
select * from (select * from t6 where t6.str6 > "iii") as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	4	100.00	NULL
2	DERIVED	t6	ALL	str6_a6	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`str6` > 'iii')) `derived`
explain extended
select * from (select * from t6 use document keys where t6.doc61.string > "iii") as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t6	range	doc61_string	doc61_string	13	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`string` > 'iii')) `derived`
select * from (select * from t6 use document keys where t6.doc61.string > "iii") as derived;
a6	b6	c6	d6	str6	doc61	doc62
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended
select * from (select * from t6) as derived where derived.str6 > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived` where (`derived`.`str6` > 'iii')
explain extended
select * from (select * from t6 use document keys) as derived where derived.doc61.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived` where (`derived`.`doc61`.`string` > 'iii')
select * from (select * from t6 use document keys) as derived where derived.doc61.string > "iii";
a6	b6	c6	d6	str6	doc61	doc62
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}

### SINGLE TABLE: t6
### PATTERN 1 with bool

### USED AS STANDARD
explain extended
select * from (select * from t6 where t6.b6 is true) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`b6` is true)) `derived`
explain extended
select * from (select * from t6 use document keys where t6.doc61.bool is true) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`bool` is true)) `derived`
select * from (select * from t6 use document keys where t6.doc61.bool is true) as derived;
a6	b6	c6	d6	str6	doc61	doc62
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
select * from (select * from t6 use document keys where t6.doc61.bool is not false) as derived;
a6	b6	c6	d6	str6	doc61	doc62
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended
select * from (select * from t6) as derived where derived.b6 is true;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived` where (`derived`.`b6` is true)
explain extended
select * from (select * from t6 use document keys) as derived where derived.doc61.bool is true;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived` where (`derived`.`doc61`.`bool` is true)
select * from (select * from t6 use document keys) as derived where derived.doc61.bool is true;
a6	b6	c6	d6	str6	doc61	doc62
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
select * from (select * from t6 use document keys) as derived where derived.doc61.bool is not false;
a6	b6	c6	d6	str6	doc61	doc62
2	2	2.2	bbb	bbb	{"bool":true,"int":2,"double":2.2,"string":"bbb","k1":{"k2":{"k3":{"int":2}}},"id":2}	{"int":2,"double":2.2}
4	4	4.4	ddd	ddd	{"bool":true,"int":4,"double":4.4,"string":"ddd","k1":{"k2":{"k3":{"int":4}}},"id":4}	{"int":4,"double":4.4}
6	6	6.6	fff	fff	{"bool":true,"int":6,"double":6.6,"string":"fff","k1":{"k2":{"k3":{"int":6}}},"id":6}	{"int":6,"double":6.6}
8	8	8.8	hhh	hhh	{"bool":true,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}

### SINGLE TABLE: t6
### PATTERN 1 with double

### USED AS STANDARD
explain extended
select * from (select * from t6) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived`
explain extended
select * from (select * from t6 use document keys) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived`
### USED AS STANDARD
explain extended
select * from (select * from t6 where t6.c6 > 9.9) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`c6` > 9.9)) `derived`
explain extended
select * from (select * from t6 use document keys where t6.doc61.double > 9.9) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t6	range	doc61_double	doc61_double	9	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`double` > 9.9)) `derived`
select * from (select * from t6 use document keys where t6.doc61.double > 9.9) as derived;
a6	b6	c6	d6	str6	doc61	doc62
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}
### USED AS STANDARD
explain extended
select * from (select * from t6) as derived where derived.c6 > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived` where (`derived`.`c6` > 9.9)
explain extended
select * from (select * from t6 use document keys) as derived where derived.doc61.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a6` AS `a6`,`derived`.`b6` AS `b6`,`derived`.`c6` AS `c6`,`derived`.`d6` AS `d6`,`derived`.`str6` AS `str6`,`derived`.`doc61` AS `doc61`,`derived`.`doc62` AS `doc62` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived` where (`derived`.`doc61`.`double` > 9.9)
select * from (select * from t6 use document keys) as derived where derived.doc61.double > 9.9;
a6	b6	c6	d6	str6	doc61	doc62
10	10	10.1	jjj	jjj	{"bool":true,"int":10,"double":10.1,"string":"jjj","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}
12	12	12.12	lll	lll	{"bool":true,"int":12,"double":12.12,"string":"lll","k1":{"k2":{"k3":{"int":12}}},"id":12}	{"int":12,"double":12.12}

### SINGLE TABLE: t6
### PATTERN 2 with int

### USED AS STANDARD
explain extended
select derived_t6.b6 from (select * from t6) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`b6` AS `b6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6`
explain extended
select derived_t6.doc61.int from (select * from t6 use document keys) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`int` AS "`doc61`.`int`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived_t6`
select derived_t6.doc61.int from (select * from t6 use document keys) as derived_t6;
`doc61`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
explain extended
select derived_t6.doc61.int from (select * from t6) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`int` AS "`doc61`.`int`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6`
select derived_t6.doc61.int from (select * from t6) as derived_t6;
`doc61`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USED AS STANDARD
explain extended
select derived_t6.b6 from (select * from t6 where t6.b6 > 9) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t6	range	b6_a6	b6_a6	5	NULL	3	100.00	Using index condition
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`b6` AS `b6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`b6` > 9)) `derived_t6`
explain extended
select derived_t6.doc61.int from (select * from t6 use document keys where t6.doc61.int > 9) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t6	range	doc61_int	doc61_int	9	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`int` AS "`doc61`.`int`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`int` > 9)) `derived_t6`
select derived_t6.doc61.int from (select * from t6 use document keys where t6.doc61.int > 9) as derived_t6;
`doc61`.`int`
10
11
12
explain extended
select derived_t6.doc61.int from (select * from t6 where t6.doc61.int > 9) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`int` AS "`doc61`.`int`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`doc61`.`int` > 9)) `derived_t6`
select derived_t6.doc61.int from (select * from t6 where t6.doc61.int > 9) as derived_t6;
`doc61`.`int`
10
11
12
### USED AS STANDARD
explain extended
select derived_t6.b6 from (select * from t6) as derived_t6 where derived_t6.b6 > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`b6` AS `b6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6` where (`derived_t6`.`b6` > 9)
explain extended
select derived_t6.doc61.int from (select * from t6 use document keys) as derived_t6 where derived_t6.doc61.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`int` AS "`doc61`.`int`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived_t6` where (`derived_t6`.`doc61`.`int` > 9)
select derived_t6.doc61.int from (select * from t6 use document keys) as derived_t6 where derived_t6.doc61.int > 9;
`doc61`.`int`
10
11
12
explain extended
select derived_t6.doc61.int from (select * from t6) as derived_t6 where derived_t6.doc61.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`int` AS "`doc61`.`int`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6` where (`derived_t6`.`doc61`.`int` > 9)
select derived_t6.doc61.int from (select * from t6) as derived_t6 where derived_t6.doc61.int > 9;
`doc61`.`int`
10
11
12
### USED AS STANDARD
explain extended
select derived_t6.str6 from (select * from t6) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`str6` AS `str6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6`
explain extended
select derived_t6.doc61.string from (select * from t6 use document keys) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`string` AS "`doc61`.`string`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived_t6`
select derived_t6.doc61.string from (select * from t6 use document keys) as derived_t6;
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
iii
jjj
kkk
lll
explain extended
select derived_t6.doc61.string from (select * from t6) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`string` AS "`doc61`.`string`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6`
select derived_t6.doc61.string from (select * from t6) as derived_t6;
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
iii
jjj
kkk
lll

### SINGLE TABLE: t6
### PATTERN 2 with string

### USED AS STANDARD
explain extended
select derived_t6.str6 from (select * from t6 where t6.str6 > "iii") as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	4	100.00	NULL
2	DERIVED	t6	ALL	str6_a6	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`str6` AS `str6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`str6` > 'iii')) `derived_t6`
explain extended
select derived_t6.doc61.string from (select * from t6 use document keys where t6.doc61.string > "iii") as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t6	range	doc61_string	doc61_string	13	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`string` AS "`doc61`.`string`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`string` > 'iii')) `derived_t6`
select derived_t6.doc61.string from (select * from t6 use document keys where t6.doc61.string > "iii") as derived_t6;
`doc61`.`string`
jjj
kkk
lll
explain extended
select derived_t6.doc61.string from (select * from t6 where t6.doc61.string > "iii") as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`string` AS "`doc61`.`string`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`doc61`.`string` > 'iii')) `derived_t6`
select derived_t6.doc61.string from (select * from t6 where t6.doc61.string > "iii") as derived_t6;
`doc61`.`string`
jjj
kkk
lll
### USED AS STANDARD
explain extended
select derived_t6.str6 from (select * from t6) as derived_t6 where derived_t6.str6 > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`str6` AS `str6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6` where (`derived_t6`.`str6` > 'iii')
explain extended
select derived_t6.doc61.string from (select * from t6 use document keys) as derived_t6 where derived_t6.doc61.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`string` AS "`doc61`.`string`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived_t6` where (`derived_t6`.`doc61`.`string` > 'iii')
select derived_t6.doc61.string from (select * from t6 use document keys) as derived_t6 where derived_t6.doc61.string > "iii";
`doc61`.`string`
jjj
kkk
lll
explain extended
select derived_t6.doc61.string from (select * from t6) as derived_t6 where derived_t6.doc61.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`string` AS "`doc61`.`string`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6` where (`derived_t6`.`doc61`.`string` > 'iii')
select derived_t6.doc61.string from (select * from t6) as derived_t6 where derived_t6.doc61.string > "iii";
`doc61`.`string`
jjj
kkk
lll

### SINGLE TABLE: t6
### PATTERN 2 with bool

### USED AS STANDARD
explain extended
select derived_t6.b6 from (select * from t6 where t6.b6 > true) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	11	100.00	NULL
2	DERIVED	t6	ALL	b6_a6	NULL	NULL	NULL	12	91.67	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`b6` AS `b6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`b6` > 1)) `derived_t6`
explain extended
select derived_t6.doc61.bool from (select * from t6 use document keys where t6.doc61.bool > false) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	6	100.00	NULL
2	DERIVED	t6	ALL	doc61_bool	NULL	NULL	NULL	12	50.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`bool` AS "`doc61`.`bool`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`bool` > 0)) `derived_t6`
select derived_t6.doc61.bool from (select * from t6 use document keys where t6.doc61.bool > false) as derived_t6;
`doc61`.`bool`
true
true
true
true
true
true
explain extended
select derived_t6.doc61.bool from (select * from t6 where t6.doc61.bool >= true) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`bool` AS "`doc61`.`bool`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`doc61`.`bool` >= 1)) `derived_t6`
select derived_t6.doc61.bool from (select * from t6 where t6.doc61.bool >= true) as derived_t6;
`doc61`.`bool`
true
true
true
true
true
true
### USED AS STANDARD
explain extended
select derived_t6.b6 from (select * from t6) as derived_t6 where derived_t6.b6 > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`b6` AS `b6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6` where (`derived_t6`.`b6` > 0)
explain extended
select derived_t6.doc61.bool from (select * from t6 use document keys) as derived_t6 where derived_t6.doc61.bool >= true;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`bool` AS "`doc61`.`bool`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived_t6` where (`derived_t6`.`doc61`.`bool` >= 1)
select derived_t6.doc61.bool from (select * from t6 use document keys) as derived_t6 where derived_t6.doc61.bool >= true;
`doc61`.`bool`
true
true
true
true
true
true
explain extended
select derived_t6.doc61.bool from (select * from t6) as derived_t6 where derived_t6.doc61.bool >= true;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`bool` AS "`doc61`.`bool`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6` where (`derived_t6`.`doc61`.`bool` >= 1)
select derived_t6.doc61.bool from (select * from t6) as derived_t6 where derived_t6.doc61.bool >= true;
`doc61`.`bool`
true
true
true
true
true
true

### SINGLE TABLE: t6
### PATTERN 2 with double

### USED AS STANDARD
explain extended
select derived_t6.c6 from (select * from t6) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`c6` AS `c6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6`
explain extended
select derived_t6.doc61.double from (select * from t6 use document keys) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`double` AS "`doc61`.`double`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived_t6`
select derived_t6.doc61.double from (select * from t6 use document keys) as derived_t6;
`doc61`.`double`
1.1
2.2
3.3
4.4
5.5
6.6
7.7
8.8
9.9
10.1
11.11
12.12
explain extended
select derived_t6.doc61.double from (select * from t6) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`double` AS "`doc61`.`double`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6`
select derived_t6.doc61.double from (select * from t6) as derived_t6;
`doc61`.`double`
1.1
2.2
3.3
4.4
5.5
6.6
7.7
8.8
9.9
10.1
11.11
12.12
### USED AS STANDARD
explain extended
select derived_t6.c6 from (select * from t6 where t6.c6 > 9.9) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`c6` AS `c6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`c6` > 9.9)) `derived_t6`
explain extended
select derived_t6.doc61.double from (select * from t6 use document keys where t6.doc61.double > 9.9) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t6	range	doc61_double	doc61_double	9	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`double` AS "`doc61`.`double`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES where (`test`.`t6`.`doc61`.`double` > 9.9)) `derived_t6`
select derived_t6.doc61.double from (select * from t6 use document keys where t6.doc61.double > 9.9) as derived_t6;
`doc61`.`double`
10.1
11.11
12.12
explain extended
select derived_t6.doc61.double from (select * from t6 where t6.doc61.double > 9.9) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`double` AS "`doc61`.`double`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` where (`test`.`t6`.`doc61`.`double` > 9.9)) `derived_t6`
select derived_t6.doc61.double from (select * from t6 where t6.doc61.double > 9.9) as derived_t6;
`doc61`.`double`
10.1
11.11
12.12
### USED AS STANDARD
explain extended
select derived_t6.c6 from (select * from t6) as derived_t6 where derived_t6.c6 > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`c6` AS `c6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6` where (`derived_t6`.`c6` > 9.9)
explain extended
select derived_t6.doc61.double from (select * from t6 use document keys) as derived_t6 where derived_t6.doc61.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`double` AS "`doc61`.`double`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived_t6` where (`derived_t6`.`doc61`.`double` > 9.9)
select derived_t6.doc61.double from (select * from t6 use document keys) as derived_t6 where derived_t6.doc61.double > 9.9;
`doc61`.`double`
10.1
11.11
12.12
explain extended
select derived_t6.doc61.double from (select * from t6) as derived_t6 where derived_t6.doc61.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`double` AS "`doc61`.`double`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6` where (`derived_t6`.`doc61`.`double` > 9.9)
select derived_t6.doc61.double from (select * from t6) as derived_t6 where derived_t6.doc61.double > 9.9;
`doc61`.`double`
10.1
11.11
12.12
### USED AS STANDARD
explain extended
select derived_t6.str6 from (select * from t6) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`str6` AS `str6` from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6`
explain extended
select derived_t6.doc61.string from (select * from t6 use document keys) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`string` AS "`doc61`.`string`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6` USE DOCUMENT INDEXES) `derived_t6`
select derived_t6.doc61.string from (select * from t6 use document keys) as derived_t6;
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
iii
jjj
kkk
lll
explain extended
select derived_t6.doc61.string from (select * from t6) as derived_t6;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t6`.`doc61`.`string` AS "`doc61`.`string`" from (/* select#2 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62` from `test`.`t6`) `derived_t6`
select derived_t6.doc61.string from (select * from t6) as derived_t6;
`doc61`.`string`
aaa
bbb
ccc
ddd
eee
fff
ggg
hhh
iii
jjj
kkk
lll

### SINGLE TABLE: t1
### PATTERN 1 with int

explain extended
select * from (select * from t1 use document keys) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived`
explain extended
select * from (select * from t1 use document keys where t1.doc11.int > 9) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > 9)) `derived`
select * from (select * from t1 use document keys where t1.doc11.int > 9) as derived;
a1	b1	c1	d1	str1	doc11	doc12
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
explain extended
select * from (select * from t1 use document keys) as derived where derived.doc11.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived` where (`derived`.`doc11`.`int` > 9)
select * from (select * from t1 use document keys) as derived where derived.doc11.int > 9;
a1	b1	c1	d1	str1	doc11	doc12
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}

### SINGLE TABLE: t1
### PATTERN 1 with string

explain extended
select * from (select * from t1 use document keys where t1.doc11.string > "iii") as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	NULL
2	DERIVED	t1	range	doc11_string	doc11_string	6	NULL	1	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`string` > 'iii')) `derived`
select * from (select * from t1 use document keys where t1.doc11.string > "iii") as derived;
a1	b1	c1	d1	str1	doc11	doc12
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}
explain extended
select * from (select * from t1 use document keys) as derived where derived.doc11.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived` where (`derived`.`doc11`.`string` > 'iii')
select * from (select * from t1 use document keys) as derived where derived.doc11.string > "iii";
a1	b1	c1	d1	str1	doc11	doc12
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}

### SINGLE TABLE: t1
### PATTERN 1 with bool

explain extended
select * from (select * from t1 use document keys where t1.doc11.bool is true) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`bool` is true)) `derived`
select * from (select * from t1 use document keys where t1.doc11.bool is true) as derived;
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'
select * from (select * from t1 use document keys where t1.doc11.bool is not false) as derived;
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
6	6	6.6	fff	fff	NULL	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'
explain extended
select * from (select * from t1 use document keys) as derived where derived.doc11.bool is true;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived` where (`derived`.`doc11`.`bool` is true)
select * from (select * from t1 use document keys) as derived where derived.doc11.bool is true;
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'
select * from (select * from t1 use document keys) as derived where derived.doc11.bool is not false;
a1	b1	c1	d1	str1	doc11	doc12
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}
3	3	3.3	ccc	ccc	{"__ol":true,"int":3,"double":3.3,"string":true,"k1":{"k2":{"k3":{"int":3}}},"id":3}	{"i__":3,"dou___":3.3}
6	6	6.6	fff	fff	NULL	NULL
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}
9	9	9.9	iii	iii	{"bool":null,"int":null,"double":null,"string":null,"k1":null}	NULL
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'

### SINGLE TABLE: t1
### PATTERN 1 with double

explain extended
select * from (select * from t1 use document keys) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived`
explain extended
select * from (select * from t1 use document keys where t1.doc11.double > 9.9) as derived;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	NULL
2	DERIVED	t1	range	doc11_double	doc11_double	9	NULL	1	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`double` > 9.9)) `derived`
select * from (select * from t1 use document keys where t1.doc11.double > 9.9) as derived;
a1	b1	c1	d1	str1	doc11	doc12
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}
explain extended
select * from (select * from t1 use document keys) as derived where derived.doc11.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived`.`a1` AS `a1`,`derived`.`b1` AS `b1`,`derived`.`c1` AS `c1`,`derived`.`d1` AS `d1`,`derived`.`str1` AS `str1`,`derived`.`doc11` AS `doc11`,`derived`.`doc12` AS `doc12` from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived` where (`derived`.`doc11`.`double` > 9.9)
select * from (select * from t1 use document keys) as derived where derived.doc11.double > 9.9;
a1	b1	c1	d1	str1	doc11	doc12
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}

### SINGLE TABLE: t1
### PATTERN 2 with int

explain extended
select derived_t1.doc11.int from (select * from t1 use document keys) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`int` AS "`doc11`.`int`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived_t1`
select derived_t1.doc11.int from (select * from t1 use document keys) as derived_t1;
`doc11`.`int`
NULL
true
3
44444
5
NULL
7.777
8
NULL
10
11.111
false
explain extended
select derived_t1.doc11.int from (select * from t1) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`int` AS "`doc11`.`int`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1`) `derived_t1`
select derived_t1.doc11.int from (select * from t1) as derived_t1;
`doc11`.`int`
NULL
true
3
44444
5
NULL
7.777
8
NULL
10
11.111
false
explain extended
select derived_t1.doc11.int from (select * from t1 use document keys where t1.doc11.int > 9) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`int` AS "`doc11`.`int`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`int` > 9)) `derived_t1`
select derived_t1.doc11.int from (select * from t1 use document keys where t1.doc11.int > 9) as derived_t1;
`doc11`.`int`
10
11.111
44444
explain extended
select derived_t1.doc11.int from (select * from t1 where t1.doc11.int > 9) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`int` AS "`doc11`.`int`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (`test`.`t1`.`doc11`.`int` > 9)) `derived_t1`
select derived_t1.doc11.int from (select * from t1 where t1.doc11.int > 9) as derived_t1;
`doc11`.`int`
44444
10
11.111
explain extended
select derived_t1.doc11.int from (select * from t1 use document keys) as derived_t1 where derived_t1.doc11.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`int` AS "`doc11`.`int`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived_t1` where (`derived_t1`.`doc11`.`int` > 9)
select derived_t1.doc11.int from (select * from t1 use document keys) as derived_t1 where derived_t1.doc11.int > 9;
`doc11`.`int`
44444
10
11.111
explain extended
select derived_t1.doc11.int from (select * from t1) as derived_t1 where derived_t1.doc11.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`int` AS "`doc11`.`int`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1`) `derived_t1` where (`derived_t1`.`doc11`.`int` > 9)
select derived_t1.doc11.int from (select * from t1) as derived_t1 where derived_t1.doc11.int > 9;
`doc11`.`int`
44444
10
11.111
explain extended
select derived_t1.doc11.string from (select * from t1 use document keys) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`string` AS "`doc11`.`string`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived_t1`
select derived_t1.doc11.string from (select * from t1 use document keys) as derived_t1;
`doc11`.`string`
aaaaaaa
2.2
true
false
eee
NULL
NULL
hhh
NULL

k
12
explain extended
select derived_t1.doc11.string from (select * from t1) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`string` AS "`doc11`.`string`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1`) `derived_t1`
select derived_t1.doc11.string from (select * from t1) as derived_t1;
`doc11`.`string`
aaaaaaa
2.2
true
false
eee
NULL
NULL
hhh
NULL

k
12

### SINGLE TABLE: t1
### PATTERN 2 with string

explain extended
select derived_t1.doc11.string from (select * from t1 use document keys where t1.doc11.string > "iii") as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	NULL
2	DERIVED	t1	range	doc11_string	doc11_string	6	NULL	1	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`string` AS "`doc11`.`string`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`string` > 'iii')) `derived_t1`
select derived_t1.doc11.string from (select * from t1 use document keys where t1.doc11.string > "iii") as derived_t1;
`doc11`.`string`
k
explain extended
select derived_t1.doc11.string from (select * from t1 where t1.doc11.string > "iii") as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`string` AS "`doc11`.`string`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (`test`.`t1`.`doc11`.`string` > 'iii')) `derived_t1`
select derived_t1.doc11.string from (select * from t1 where t1.doc11.string > "iii") as derived_t1;
`doc11`.`string`
true
k
explain extended
select derived_t1.doc11.string from (select * from t1 use document keys) as derived_t1 where derived_t1.doc11.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`string` AS "`doc11`.`string`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived_t1` where (`derived_t1`.`doc11`.`string` > 'iii')
select derived_t1.doc11.string from (select * from t1 use document keys) as derived_t1 where derived_t1.doc11.string > "iii";
`doc11`.`string`
true
k
explain extended
select derived_t1.doc11.string from (select * from t1) as derived_t1 where derived_t1.doc11.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`string` AS "`doc11`.`string`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1`) `derived_t1` where (`derived_t1`.`doc11`.`string` > 'iii')
select derived_t1.doc11.string from (select * from t1) as derived_t1 where derived_t1.doc11.string > "iii";
`doc11`.`string`
true
k

### SINGLE TABLE: t1
### PATTERN 2 with bool

explain extended
select derived_t1.doc11.bool from (select * from t1 use document keys where t1.doc11.bool > false) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	NULL
2	DERIVED	t1	range	doc11_bool	doc11_bool	2	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`bool` AS "`doc11`.`bool`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`bool` > 0)) `derived_t1`
select derived_t1.doc11.bool from (select * from t1 use document keys where t1.doc11.bool > false) as derived_t1;
`doc11`.`bool`
true
123456789
2.5
explain extended
select derived_t1.doc11.bool from (select * from t1 where t1.doc11.bool >= true) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`bool` AS "`doc11`.`bool`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (`test`.`t1`.`doc11`.`bool` >= 1)) `derived_t1`
select derived_t1.doc11.bool from (select * from t1 where t1.doc11.bool >= true) as derived_t1;
`doc11`.`bool`
true
123456789
2.5
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'
explain extended
select derived_t1.doc11.bool from (select * from t1 use document keys) as derived_t1 where derived_t1.doc11.bool >= true;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`bool` AS "`doc11`.`bool`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived_t1` where (`derived_t1`.`doc11`.`bool` >= 1)
select derived_t1.doc11.bool from (select * from t1 use document keys) as derived_t1 where derived_t1.doc11.bool >= true;
`doc11`.`bool`
true
123456789
2.5
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'
explain extended
select derived_t1.doc11.bool from (select * from t1) as derived_t1 where derived_t1.doc11.bool >= true;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`bool` AS "`doc11`.`bool`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1`) `derived_t1` where (`derived_t1`.`doc11`.`bool` >= 1)
select derived_t1.doc11.bool from (select * from t1) as derived_t1 where derived_t1.doc11.bool >= true;
`doc11`.`bool`
true
123456789
2.5
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'

### SINGLE TABLE: t1
### PATTERN 2 with double

explain extended
select derived_t1.doc11.double from (select * from t1 use document keys) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`double` AS "`doc11`.`double`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived_t1`
select derived_t1.doc11.double from (select * from t1 use document keys) as derived_t1;
`doc11`.`double`
1
2.2
3.3
NULL
5.5
NULL
false
8.8
NULL
10.1
true
false
explain extended
select derived_t1.doc11.double from (select * from t1) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`double` AS "`doc11`.`double`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1`) `derived_t1`
select derived_t1.doc11.double from (select * from t1) as derived_t1;
`doc11`.`double`
1
2.2
3.3
NULL
5.5
NULL
false
8.8
NULL
10.1
true
false
explain extended
select derived_t1.doc11.double from (select * from t1 use document keys where t1.doc11.double > 9.9) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	NULL
2	DERIVED	t1	range	doc11_double	doc11_double	9	NULL	1	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`double` AS "`doc11`.`double`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES where (`test`.`t1`.`doc11`.`double` > 9.9)) `derived_t1`
select derived_t1.doc11.double from (select * from t1 use document keys where t1.doc11.double > 9.9) as derived_t1;
`doc11`.`double`
10.1
explain extended
select derived_t1.doc11.double from (select * from t1 where t1.doc11.double > 9.9) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`double` AS "`doc11`.`double`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` where (`test`.`t1`.`doc11`.`double` > 9.9)) `derived_t1`
select derived_t1.doc11.double from (select * from t1 where t1.doc11.double > 9.9) as derived_t1;
`doc11`.`double`
10.1
explain extended
select derived_t1.doc11.double from (select * from t1 use document keys) as derived_t1 where derived_t1.doc11.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`double` AS "`doc11`.`double`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived_t1` where (`derived_t1`.`doc11`.`double` > 9.9)
select derived_t1.doc11.double from (select * from t1 use document keys) as derived_t1 where derived_t1.doc11.double > 9.9;
`doc11`.`double`
10.1
explain extended
select derived_t1.doc11.double from (select * from t1) as derived_t1 where derived_t1.doc11.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`double` AS "`doc11`.`double`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1`) `derived_t1` where (`derived_t1`.`doc11`.`double` > 9.9)
select derived_t1.doc11.double from (select * from t1) as derived_t1 where derived_t1.doc11.double > 9.9;
`doc11`.`double`
10.1
explain extended
select derived_t1.doc11.string from (select * from t1 use document keys) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`string` AS "`doc11`.`string`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1` USE DOCUMENT INDEXES) `derived_t1`
select derived_t1.doc11.string from (select * from t1 use document keys) as derived_t1;
`doc11`.`string`
aaaaaaa
2.2
true
false
eee
NULL
NULL
hhh
NULL

k
12
explain extended
select derived_t1.doc11.string from (select * from t1) as derived_t1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
2	DERIVED	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t1`.`doc11`.`string` AS "`doc11`.`string`" from (/* select#2 */ select `test`.`t1`.`a1` AS `a1`,`test`.`t1`.`b1` AS `b1`,`test`.`t1`.`c1` AS `c1`,`test`.`t1`.`d1` AS `d1`,`test`.`t1`.`str1` AS `str1`,`test`.`t1`.`doc11` AS `doc11`,`test`.`t1`.`doc12` AS `doc12` from `test`.`t1`) `derived_t1`
select derived_t1.doc11.string from (select * from t1) as derived_t1;
`doc11`.`string`
aaaaaaa
2.2
true
false
eee
NULL
NULL
hhh
NULL

k
12

### JOIN TWO TABLES: t6 and t7
### PATTERN 1 with int

### USE AS STANDARD
explain extended
select derived_t7.b7 from t6 join (select * from t7) as derived_t7 on t6.b6 = derived_t7.b7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ref	b6_a6	b6_a6	5	derived_t7.b7	1	100.00	Using index
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where (`test`.`t6`.`b6` = `derived_t7`.`b7`)
explain extended
select derived_t7.doc71.int from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ref	doc61_int	doc61_int	9	derived_t7.`doc71`.`int`	1	100.00	Using index
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where (`test`.`t6`.`doc61`.`int` = `derived_t7`.`doc71`.`int`)
select derived_t7.doc71.int from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
`doc71`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
explain extended
select derived_t7.doc71.int from t6 join (select * from t7) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where (`test`.`t6`.`doc61`.`int` = `derived_t7`.`doc71`.`int`)
select derived_t7.doc71.int from t6 join (select * from t7) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
`doc71`.`int`
1
2
3
4
5
6
7
8
9
10
11
12
### USE AS STANDARD
explain extended
select derived_t7.b7 from t6 join (select * from t7 where t7.b7 > 9) as derived_t7 on t6.b6 = derived_t7.b7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t6	ref	b6_a6	b6_a6	5	derived_t7.b7	1	100.00	Using index
2	DERIVED	t7	range	b7_a7	b7_a7	5	NULL	3	100.00	Using index condition
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` where (`test`.`t7`.`b7` > 9)) `derived_t7` where (`test`.`t6`.`b6` = `derived_t7`.`b7`)
explain extended
select derived_t7.doc71.int from t6 use document keys join (select * from t7 use document keys where t7.doc71.int > 9) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t6	ref	doc61_int	doc61_int	9	derived_t7.`doc71`.`int`	1	100.00	Using index
2	DERIVED	t7	range	doc71_int	doc71_int	9	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`int` > 9)) `derived_t7` where (`test`.`t6`.`doc61`.`int` = `derived_t7`.`doc71`.`int`)
select derived_t7.doc71.int from t6 use document keys join (select * from t7 use document keys where t7.doc71.int > 9) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
`doc71`.`int`
10
11
12
explain extended
select derived_t7.doc71.int from t6 join (select * from t7 where t7.doc71.int > 9) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` where (`test`.`t7`.`doc71`.`int` > 9)) `derived_t7` where (`test`.`t6`.`doc61`.`int` = `derived_t7`.`doc71`.`int`)
select derived_t7.doc71.int from t6 join (select * from t7 where t7.doc71.int > 9) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
`doc71`.`int`
10
11
12
explain extended
select derived_t7.doc71.int from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.int = derived_t7.doc71.int and derived_t7.doc71.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_int	doc61_int	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where ((`derived_t7`.`doc71`.`int` = `test`.`t6`.`doc61`.`int`) and (`test`.`t6`.`doc61`.`int` > 9))
select derived_t7.doc71.int from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.int = derived_t7.doc71.int and derived_t7.doc71.int > 9;
`doc71`.`int`
10
11
12
explain extended
select derived_t7.doc71.int from t6 join (select * from t7) as derived_t7 on t6.doc61.int = derived_t7.doc71.int and derived_t7.doc71.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where ((`test`.`t6`.`doc61`.`int` = `derived_t7`.`doc71`.`int`) and (`derived_t7`.`doc71`.`int` > 9))
select derived_t7.doc71.int from t6 join (select * from t7) as derived_t7 on t6.doc61.int = derived_t7.doc71.int and derived_t7.doc71.int > 9;
`doc71`.`int`
10
11
12

### JOIN TWO TABLES: t6 and t7
### PATTERN 1 with string

### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.b7 from t6 join (select * from t7) as derived_t7 on t6.b6 = derived_t7.b7 and derived_t7.b7 > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	b6_a6	b6_a6	5	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ref	<auto_key0>	<auto_key0>	5	test.t6.b6	2	100.00	NULL
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where ((`derived_t7`.`b7` = `test`.`t6`.`b6`) and (`test`.`t6`.`b6` > 9))
### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.str7 from t6 join (select * from t7) as derived_t7 on t6.str6 = derived_t7.str7 and derived_t7.str7 > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	str6_a6	NULL	NULL	NULL	12	33.33	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where ((`derived_t7`.`str7` = `test`.`t6`.`str6`) and (`test`.`t6`.`str6` > 'iii'))
explain extended
select derived_t7.doc71.string from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.string = derived_t7.doc71.string and derived_t7.doc71.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_string	doc61_string	13	NULL	3	100.00	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where ((`derived_t7`.`doc71`.`string` = `test`.`t6`.`doc61`.`string`) and (`test`.`t6`.`doc61`.`string` > 'iii'))
select derived_t7.doc71.string from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.string = derived_t7.doc71.string and derived_t7.doc71.string > "iii";
`doc71`.`string`
jjj
kkk
lll
explain extended
select derived_t7.doc71.string from t6 join (select * from t7) as derived_t7 on t6.doc61.string = derived_t7.doc71.string and derived_t7.doc71.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where ((`test`.`t6`.`doc61`.`string` = `derived_t7`.`doc71`.`string`) and (`derived_t7`.`doc71`.`string` > 'iii'))
select derived_t7.doc71.string from t6 join (select * from t7) as derived_t7 on t6.doc61.string = derived_t7.doc71.string and derived_t7.doc71.string > "iii";
`doc71`.`string`
jjj
kkk
lll
### USE AS STANDARD
explain extended
select derived_t7.b7 from t6 join (select * from t7 where t7.b7 > 9) as derived_t7 on t6.b6 = derived_t7.b7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t6	ref	b6_a6	b6_a6	5	derived_t7.b7	1	100.00	Using index
2	DERIVED	t7	range	b7_a7	b7_a7	5	NULL	3	100.00	Using index condition
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` where (`test`.`t7`.`b7` > 9)) `derived_t7` where (`test`.`t6`.`b6` = `derived_t7`.`b7`)
### USE AS STANDARD
explain extended
select derived_t7.str7 from t6 join (select * from t7 where t7.str7 > "iii") as derived_t7 on t6.str6 = derived_t7.str7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	4	100.00	Using where
1	PRIMARY	t6	ref	str6_a6	str6_a6	13	derived_t7.str7	1	100.00	Using where
2	DERIVED	t7	ALL	str7_a7	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` where (`test`.`t7`.`str7` > 'iii')) `derived_t7` where (`test`.`t6`.`str6` = `derived_t7`.`str7`)
explain extended
select derived_t7.doc71.string from t6 use document keys join (select * from t7 use document keys where t7.doc71.string > "iii") as derived_t7 on t6.doc61.string = derived_t7.doc71.string;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t6	ref	doc61_string	doc61_string	13	derived_t7.`doc71`.`string`	1	100.00	NULL
2	DERIVED	t7	range	doc71_string	doc71_string	13	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`string` > 'iii')) `derived_t7` where (`test`.`t6`.`doc61`.`string` = `derived_t7`.`doc71`.`string`)
select derived_t7.doc71.string from t6 use document keys join (select * from t7 use document keys where t7.doc71.string > "iii") as derived_t7 on t6.doc61.string = derived_t7.doc71.string;
`doc71`.`string`
jjj
kkk
lll
explain extended
select derived_t7.doc71.string from t6 join (select * from t7 where t7.doc71.string > "iii") as derived_t7 on t6.doc61.string = derived_t7.doc71.string;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` where (`test`.`t7`.`doc71`.`string` > 'iii')) `derived_t7` where (`test`.`t6`.`doc61`.`string` = `derived_t7`.`doc71`.`string`)
select derived_t7.doc71.string from t6 join (select * from t7 where t7.doc71.string > "iii") as derived_t7 on t6.doc61.string = derived_t7.doc71.string;
`doc71`.`string`
jjj
kkk
lll

### JOIN TWO TABLES: t6 and t7
### PATTERN 1 with bool

### USE AS STANDARD
explain extended
select derived_t7.b7 from t6 join (select * from t7) as derived_t7 on t6.b6 = derived_t7.b7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ref	b6_a6	b6_a6	5	derived_t7.b7	1	100.00	Using index
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where (`test`.`t6`.`b6` = `derived_t7`.`b7`)
explain extended
select derived_t7.doc71.bool from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ref	doc61_bool	doc61_bool	2	derived_t7.`doc71`.`bool`	3	100.00	Using index
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where (`test`.`t6`.`doc61`.`bool` = `derived_t7`.`doc71`.`bool`)
select derived_t7.doc71.bool from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
`doc71`.`bool`
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
explain extended
select derived_t7.doc71.bool from t6 join (select * from t7) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where (`test`.`t6`.`doc61`.`bool` = `derived_t7`.`doc71`.`bool`)
select derived_t7.doc71.bool from t6 join (select * from t7) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
`doc71`.`bool`
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
false
false
false
false
false
false
true
true
true
true
true
true
### USE AS STANDARD
explain extended
select derived_t7.b7 from t6 join (select * from t7 where t7.b7 > false) as derived_t7 on t6.b6 = derived_t7.b7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ref	b6_a6	b6_a6	5	derived_t7.b7	1	100.00	Using index
2	DERIVED	t7	ALL	b7_a7	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` where (`test`.`t7`.`b7` > 0)) `derived_t7` where (`test`.`t6`.`b6` = `derived_t7`.`b7`)
explain extended
select derived_t7.doc71.bool from t6 use document keys join (select * from t7 use document keys where t7.doc71.bool > false) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	6	100.00	Using where
1	PRIMARY	t6	ref	doc61_bool	doc61_bool	2	derived_t7.`doc71`.`bool`	3	100.00	Using index
2	DERIVED	t7	ALL	doc71_bool	NULL	NULL	NULL	12	50.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` > 0)) `derived_t7` where (`test`.`t6`.`doc61`.`bool` = `derived_t7`.`doc71`.`bool`)
select derived_t7.doc71.bool from t6 use document keys join (select * from t7 use document keys where t7.doc71.bool > false) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
`doc71`.`bool`
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
explain extended
select derived_t7.doc71.bool from t6 join (select * from t7 where t7.doc71.bool > false) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` where (`test`.`t7`.`doc71`.`bool` > 0)) `derived_t7` where (`test`.`t6`.`doc61`.`bool` = `derived_t7`.`doc71`.`bool`)
select derived_t7.doc71.bool from t6 join (select * from t7 where t7.doc71.bool > false) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
`doc71`.`bool`
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
explain extended
select derived_t7.doc71.bool from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool and derived_t7.doc71.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_bool	doc61_bool	2	NULL	6	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where ((`derived_t7`.`doc71`.`bool` = `test`.`t6`.`doc61`.`bool`) and (`test`.`t6`.`doc61`.`bool` > 0))
select derived_t7.doc71.bool from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool and derived_t7.doc71.bool > false;
`doc71`.`bool`
explain extended
select derived_t7.doc71.bool from t6 join (select * from t7) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool and derived_t7.doc71.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where ((`test`.`t6`.`doc61`.`bool` = `derived_t7`.`doc71`.`bool`) and (`derived_t7`.`doc71`.`bool` > 0))
select derived_t7.doc71.bool from t6 join (select * from t7) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool and derived_t7.doc71.bool > false;
`doc71`.`bool`
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true

### JOIN TWO TABLES: t6 and t7
### PATTERN 1 with double

### USE AS STANDARD
explain extended
select derived_t7.c7 from t6 join (select * from t7) as derived_t7 on t6.c6 = derived_t7.c7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	75.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`c7` AS `c7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where (`derived_t7`.`c7` = `test`.`t6`.`c6`)
explain extended
select derived_t7.doc71.double from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ref	doc61_double	doc61_double	9	derived_t7.`doc71`.`double`	1	100.00	Using index
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where (`test`.`t6`.`doc61`.`double` = `derived_t7`.`doc71`.`double`)
select derived_t7.doc71.double from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
`doc71`.`double`
1.1
2.2
3.3
4.4
5.5
6.6
7.7
8.8
9.9
10.1
explain extended
select derived_t7.doc71.double from t6 join (select * from t7) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where (`test`.`t6`.`doc61`.`double` = `derived_t7`.`doc71`.`double`)
select derived_t7.doc71.double from t6 join (select * from t7) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
`doc71`.`double`
1.1
2.2
3.3
4.4
5.5
6.6
7.7
8.8
9.9
10.1
11.11
12.12
### USE AS STANDARD
explain extended
select derived_t7.c7 from t6 join (select * from t7 where t7.c7 > 9.9) as derived_t7 on t6.c6 = derived_t7.c7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	75.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`c7` AS `c7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` where (`test`.`t7`.`c7` > 9.9)) `derived_t7` where (`derived_t7`.`c7` = `test`.`t6`.`c6`)
explain extended
select derived_t7.doc71.double from t6 use document keys join (select * from t7 use document keys where t7.doc71.double > 9.9) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t6	ref	doc61_double	doc61_double	9	derived_t7.`doc71`.`double`	1	100.00	Using index
2	DERIVED	t7	range	doc71_double	doc71_double	9	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`double` > 9.9)) `derived_t7` where (`test`.`t6`.`doc61`.`double` = `derived_t7`.`doc71`.`double`)
select derived_t7.doc71.double from t6 use document keys join (select * from t7 use document keys where t7.doc71.double > 9.9) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
`doc71`.`double`
10.1
explain extended
select derived_t7.doc71.double from t6 join (select * from t7 where t7.doc71.double > 9.9) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` where (`test`.`t7`.`doc71`.`double` > 9.9)) `derived_t7` where (`test`.`t6`.`doc61`.`double` = `derived_t7`.`doc71`.`double`)
select derived_t7.doc71.double from t6 join (select * from t7 where t7.doc71.double > 9.9) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
`doc71`.`double`
10.1
11.11
12.12
explain extended
select derived_t7.doc71.double from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.double = derived_t7.doc71.double and derived_t7.doc71.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_double	doc61_double	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where ((`derived_t7`.`doc71`.`double` = `test`.`t6`.`doc61`.`double`) and (`test`.`t6`.`doc61`.`double` > 9.9))
select derived_t7.doc71.double from t6 use document keys join (select * from t7 use document keys) as derived_t7 on t6.doc61.double = derived_t7.doc71.double and derived_t7.doc71.double > 9.9;
`doc71`.`double`
10.1
11.11
12.12
explain extended
select derived_t7.doc71.double from t6 join (select * from t7) as derived_t7 on t6.doc61.double = derived_t7.doc71.double and derived_t7.doc71.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`a7` AS `a7`,`test`.`t7`.`b7` AS `b7`,`test`.`t7`.`c7` AS `c7`,`test`.`t7`.`d7` AS `d7`,`test`.`t7`.`str7` AS `str7`,`test`.`t7`.`doc71` AS `doc71`,`test`.`t7`.`doc72` AS `doc72` from `test`.`t7`) `derived_t7` where ((`test`.`t6`.`doc61`.`double` = `derived_t7`.`doc71`.`double`) and (`derived_t7`.`doc71`.`double` > 9.9))
select derived_t7.doc71.double from t6 join (select * from t7) as derived_t7 on t6.doc61.double = derived_t7.doc71.double and derived_t7.doc71.double > 9.9;
`doc71`.`double`
10.1
11.11
12.12

### JOIN TWO TABLES: t6 and t7
### PATTERN 2 with int

### USE AS STANDARD
explain extended
select derived_t7.b7 from t6 join (select t7.b7 from t7 where t7.b7 > 9) as derived_t7 on t6.b6 = derived_t7.b7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t6	ref	b6_a6	b6_a6	5	derived_t7.b7	1	100.00	Using index
2	DERIVED	t7	range	b7_a7	b7_a7	5	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`b7` AS `b7` from `test`.`t7` where (`test`.`t7`.`b7` > 9)) `derived_t7` where (`test`.`t6`.`b6` = `derived_t7`.`b7`)
explain extended
select derived_t7.doc71.int from t6 use document keys join (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t6	ref	doc61_int	doc61_int	9	derived_t7.`doc71`.`int`	1	100.00	Using index
2	DERIVED	t7	range	doc71_int	doc71_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`int` > 9)) `derived_t7` where (`test`.`t6`.`doc61`.`int` = `derived_t7`.`doc71`.`int`)
select derived_t7.doc71.int from t6 use document keys join (select t7.doc71.int from t7 use document keys where t7.doc71.int > 9) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
`doc71`.`int`
10
11
12
explain extended
select derived_t7.doc71.int from t6 join (select t7.doc71.int from t7 where t7.doc71.int > 9) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t7` where (`test`.`t7`.`doc71`.`int` > 9)) `derived_t7` where (`test`.`t6`.`doc61`.`int` = `derived_t7`.`doc71`.`int`)
select derived_t7.doc71.int from t6 join (select t7.doc71.int from t7 where t7.doc71.int > 9) as derived_t7 on t6.doc61.int = derived_t7.doc71.int;
`doc71`.`int`
10
11
12
### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.b7 from t6 join (select t7.b7 from t7) as derived_t7 on t6.b6 = derived_t7.b7 and derived_t7.b7 > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	b6_a6	b6_a6	5	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ref	<auto_key0>	<auto_key0>	5	test.t6.b6	2	100.00	Using index
2	DERIVED	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`b7` AS `b7` from `test`.`t7`) `derived_t7` where ((`derived_t7`.`b7` = `test`.`t6`.`b6`) and (`test`.`t6`.`b6` > 9))
### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.str7 from t6 join (select t7.str7 from t7) as derived_t7 on t6.str6 = derived_t7.str7 and derived_t7.str7 > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	str6_a6	NULL	NULL	NULL	12	33.33	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`str7` AS `str7` from `test`.`t7`) `derived_t7` where ((`derived_t7`.`str7` = `test`.`t6`.`str6`) and (`test`.`t6`.`str6` > 'iii'))
explain extended
select derived_t7.doc71.int from t6 use document keys join (select t7.doc71.int from t7 use document keys) as derived_t7 on t6.doc61.int = derived_t7.doc71.int and derived_t7.doc71.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_int	doc61_int	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	index	NULL	doc71_int	9	NULL	12	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where ((`derived_t7`.`doc71`.`int` = `test`.`t6`.`doc61`.`int`) and (`test`.`t6`.`doc61`.`int` > 9))
select derived_t7.doc71.int from t6 use document keys join (select t7.doc71.int from t7 use document keys) as derived_t7 on t6.doc61.int = derived_t7.doc71.int and derived_t7.doc71.int > 9;
`doc71`.`int`
10
11
12
explain extended
select derived_t7.doc71.int from t6 join (select t7.doc71.int from t7) as derived_t7 on t6.doc61.int = derived_t7.doc71.int and derived_t7.doc71.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`doc71`.`int` AS "`doc71`.`int`" from `test`.`t7`) `derived_t7` where ((`test`.`t6`.`doc61`.`int` = `derived_t7`.`doc71`.`int`) and (`derived_t7`.`doc71`.`int` > 9))
select derived_t7.doc71.int from t6 join (select t7.doc71.int from t7) as derived_t7 on t6.doc61.int = derived_t7.doc71.int and derived_t7.doc71.int > 9;
`doc71`.`int`
10
11
12

### JOIN TWO TABLES: t6 and t7
### PATTERN 2 with string

### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.str7 from t6 join (select t7.str7 from t7 where t7.str7 > "iii") as derived_t7 on t6.str6 = derived_t7.str7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	4	100.00	Using where
1	PRIMARY	t6	ref	str6_a6	str6_a6	13	derived_t7.str7	1	100.00	Using where
2	DERIVED	t7	ALL	str7_a7	NULL	NULL	NULL	12	33.33	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`str7` AS `str7` from `test`.`t7` where (`test`.`t7`.`str7` > 'iii')) `derived_t7` where (`test`.`t6`.`str6` = `derived_t7`.`str7`)
explain extended
select derived_t7.doc71.string from t6 use document keys join (select t7.doc71.string from t7 use document keys where t7.doc71.string > "iii") as derived_t7 on t6.doc61.string = derived_t7.doc71.string;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t6	ref	doc61_string	doc61_string	13	derived_t7.`doc71`.`string`	1	100.00	NULL
2	DERIVED	t7	range	doc71_string	doc71_string	13	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`string` > 'iii')) `derived_t7` where (`test`.`t6`.`doc61`.`string` = `derived_t7`.`doc71`.`string`)
select derived_t7.doc71.string from t6 use document keys join (select t7.doc71.string from t7 use document keys where t7.doc71.string > "iii") as derived_t7 on t6.doc61.string = derived_t7.doc71.string;
`doc71`.`string`
jjj
kkk
lll
explain extended
select derived_t7.doc71.string from t6 join (select t7.doc71.string from t7 where t7.doc71.string > "iii") as derived_t7 on t6.doc61.string = derived_t7.doc71.string;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7` where (`test`.`t7`.`doc71`.`string` > 'iii')) `derived_t7` where (`test`.`t6`.`doc61`.`string` = `derived_t7`.`doc71`.`string`)
select derived_t7.doc71.string from t6 join (select t7.doc71.string from t7 where t7.doc71.string > "iii") as derived_t7 on t6.doc61.string = derived_t7.doc71.string;
`doc71`.`string`
jjj
kkk
lll
### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.str7 from t6 join (select t7.str7 from t7) as derived_t7 on t6.str6 = derived_t7.str7 and derived_t7.str7 > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	str6_a6	NULL	NULL	NULL	12	33.33	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`str7` AS `str7` from `test`.`t7`) `derived_t7` where ((`derived_t7`.`str7` = `test`.`t6`.`str6`) and (`test`.`t6`.`str6` > 'iii'))
### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.str7 from t6 join (select t7.str7 from t7) as derived_t7 on t6.str6 = derived_t7.str7 and derived_t7.str7 > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	str6_a6	NULL	NULL	NULL	12	33.33	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`str7` AS `str7` from `test`.`t7`) `derived_t7` where ((`derived_t7`.`str7` = `test`.`t6`.`str6`) and (`test`.`t6`.`str6` > 'iii'))
explain extended
select derived_t7.doc71.string from t6 use document keys join (select t7.doc71.string from t7 use document keys) as derived_t7 on t6.doc61.string = derived_t7.doc71.string and derived_t7.doc71.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_string	doc61_string	13	NULL	3	100.00	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where ((`derived_t7`.`doc71`.`string` = `test`.`t6`.`doc61`.`string`) and (`test`.`t6`.`doc61`.`string` > 'iii'))
select derived_t7.doc71.string from t6 use document keys join (select t7.doc71.string from t7 use document keys) as derived_t7 on t6.doc61.string = derived_t7.doc71.string and derived_t7.doc71.string > "iii";
`doc71`.`string`
jjj
kkk
lll
explain extended
select derived_t7.doc71.string from t6 join (select t7.doc71.string from t7) as derived_t7 on t6.doc61.string = derived_t7.doc71.string and derived_t7.doc71.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7`) `derived_t7` where ((`test`.`t6`.`doc61`.`string` = `derived_t7`.`doc71`.`string`) and (`derived_t7`.`doc71`.`string` > 'iii'))
select derived_t7.doc71.string from t6 join (select t7.doc71.string from t7) as derived_t7 on t6.doc61.string = derived_t7.doc71.string and derived_t7.doc71.string > "iii";
`doc71`.`string`
jjj
kkk
lll

### JOIN TWO TABLES: t6 and t7
### PATTERN 2 with bool

### USE AS STANDARD
explain extended
select derived_t7.b7 from t6 join (select t7.b7 from t7 where t7.b7 > false) as derived_t7 on t6.b6 = derived_t7.b7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ref	b6_a6	b6_a6	5	derived_t7.b7	1	100.00	Using index
2	DERIVED	t7	index	b7_a7	b7_a7	9	NULL	12	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`b7` AS `b7` from `test`.`t7` where (`test`.`t7`.`b7` > 0)) `derived_t7` where (`test`.`t6`.`b6` = `derived_t7`.`b7`)
explain extended
select derived_t7.doc71.bool from t6 use document keys join (select t7.doc71.bool from t7 use document keys where t7.doc71.bool > false) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	6	100.00	Using where
1	PRIMARY	t6	ref	doc61_bool	doc61_bool	2	derived_t7.`doc71`.`bool`	3	100.00	Using index
2	DERIVED	t7	range	doc71_bool	doc71_bool	2	NULL	6	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`bool` > 0)) `derived_t7` where (`test`.`t6`.`doc61`.`bool` = `derived_t7`.`doc71`.`bool`)
select derived_t7.doc71.bool from t6 use document keys join (select t7.doc71.bool from t7 use document keys where t7.doc71.bool > false) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
`doc71`.`bool`
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
explain extended
select derived_t7.doc71.bool from t6 join (select t7.doc71.bool from t7 where t7.doc71.bool > false) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t7` where (`test`.`t7`.`doc71`.`bool` > 0)) `derived_t7` where (`test`.`t6`.`doc61`.`bool` = `derived_t7`.`doc71`.`bool`)
select derived_t7.doc71.bool from t6 join (select t7.doc71.bool from t7 where t7.doc71.bool > false) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool;
`doc71`.`bool`
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.b7 from t6 join (select t7.b7 from t7) as derived_t7 on t6.b6 = derived_t7.b7 and derived_t7.b7 > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ref	b6_a6	b6_a6	5	derived_t7.b7	1	100.00	Using index
2	DERIVED	t7	index	NULL	b7_a7	9	NULL	12	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`b7` AS `b7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`b7` AS `b7` from `test`.`t7`) `derived_t7` where ((`test`.`t6`.`b6` = `derived_t7`.`b7`) and (`derived_t7`.`b7` > 0))
### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.str7 from t6 join (select t7.str7 from t7) as derived_t7 on t6.str6 = derived_t7.str7 and derived_t7.str7 > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	str6_a6	NULL	NULL	NULL	12	33.33	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`str7` AS `str7` from `test`.`t7`) `derived_t7` where ((`derived_t7`.`str7` = `test`.`t6`.`str6`) and (`test`.`t6`.`str6` > 'iii'))
explain extended
select derived_t7.doc71.bool from t6 use document keys join (select t7.doc71.bool from t7 use document keys) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool and derived_t7.doc71.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_bool	doc61_bool	2	NULL	6	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	index	NULL	doc71_bool	2	NULL	12	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where ((`derived_t7`.`doc71`.`bool` = `test`.`t6`.`doc61`.`bool`) and (`test`.`t6`.`doc61`.`bool` > 0))
select derived_t7.doc71.bool from t6 use document keys join (select t7.doc71.bool from t7 use document keys) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool and derived_t7.doc71.bool > false;
`doc71`.`bool`
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
explain extended
select derived_t7.doc71.bool from t6 join (select t7.doc71.bool from t7) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool and derived_t7.doc71.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`doc71`.`bool` AS "`doc71`.`bool`" from `test`.`t7`) `derived_t7` where ((`test`.`t6`.`doc61`.`bool` = `derived_t7`.`doc71`.`bool`) and (`derived_t7`.`doc71`.`bool` > 0))
select derived_t7.doc71.bool from t6 join (select t7.doc71.bool from t7) as derived_t7 on t6.doc61.bool = derived_t7.doc71.bool and derived_t7.doc71.bool > false;
`doc71`.`bool`
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true
true

### JOIN TWO TABLES: t6 and t7
### PATTERN 2 with double

### USE AS STANDARD
explain extended
select derived_t7.c7 from t6 join (select t7.c7 from t7 where t7.c7 > 9.9) as derived_t7 on t6.c6 = derived_t7.c7;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	<derived2>	ref	<auto_key0>	<auto_key0>	9	test.t6.c6	2	100.00	Using index
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`c7` AS `c7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`c7` AS `c7` from `test`.`t7` where (`test`.`t7`.`c7` > 9.9)) `derived_t7` where (`derived_t7`.`c7` = `test`.`t6`.`c6`)
explain extended
select derived_t7.doc71.double from t6 use document keys join (select t7.doc71.double from t7 use document keys where t7.doc71.double > 9.9) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t6	ref	doc61_double	doc61_double	9	derived_t7.`doc71`.`double`	1	100.00	Using index
2	DERIVED	t7	range	doc71_double	doc71_double	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t7` USE DOCUMENT INDEXES where (`test`.`t7`.`doc71`.`double` > 9.9)) `derived_t7` where (`test`.`t6`.`doc61`.`double` = `derived_t7`.`doc71`.`double`)
select derived_t7.doc71.double from t6 use document keys join (select t7.doc71.double from t7 use document keys where t7.doc71.double > 9.9) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
`doc71`.`double`
10.1
explain extended
select derived_t7.doc71.double from t6 join (select t7.doc71.double from t7 where t7.doc71.double > 9.9) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t7` where (`test`.`t7`.`doc71`.`double` > 9.9)) `derived_t7` where (`test`.`t6`.`doc61`.`double` = `derived_t7`.`doc71`.`double`)
select derived_t7.doc71.double from t6 join (select t7.doc71.double from t7 where t7.doc71.double > 9.9) as derived_t7 on t6.doc61.double = derived_t7.doc71.double;
`doc71`.`double`
10.1
11.11
12.12
### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.c7 from t6 join (select t7.c7 from t7) as derived_t7 on t6.c6 = derived_t7.c7 and derived_t7.c7 > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	<derived2>	ref	<auto_key0>	<auto_key0>	9	test.t6.c6	2	100.00	Using index
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`c7` AS `c7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`c7` AS `c7` from `test`.`t7`) `derived_t7` where ((`derived_t7`.`c7` = `test`.`t6`.`c6`) and (`test`.`t6`.`c6` > 9.9))
### USE AS REFERENCE and STANDARD
explain extended
select derived_t7.str7 from t6 join (select t7.str7 from t7) as derived_t7 on t6.str6 = derived_t7.str7 and derived_t7.str7 > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	str6_a6	NULL	NULL	NULL	12	33.33	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`str7` AS `str7` from `test`.`t7`) `derived_t7` where ((`derived_t7`.`str7` = `test`.`t6`.`str6`) and (`test`.`t6`.`str6` > 'iii'))
explain extended
select derived_t7.doc71.double from t6 use document keys join (select t7.doc71.double from t7 use document keys) as derived_t7 on t6.doc61.double = derived_t7.doc71.double and derived_t7.doc71.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_double	doc61_double	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	index	NULL	doc71_double	9	NULL	12	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t7` USE DOCUMENT INDEXES) `derived_t7` where ((`derived_t7`.`doc71`.`double` = `test`.`t6`.`doc61`.`double`) and (`test`.`t6`.`doc61`.`double` > 9.9))
select derived_t7.doc71.double from t6 use document keys join (select t7.doc71.double from t7 use document keys) as derived_t7 on t6.doc61.double = derived_t7.doc71.double and derived_t7.doc71.double > 9.9;
`doc71`.`double`
10.1
11.11
12.12
explain extended
select derived_t7.doc71.double from t6 join (select t7.doc71.double from t7) as derived_t7 on t6.doc61.double = derived_t7.doc71.double and derived_t7.doc71.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t6` join (/* select#2 */ select `test`.`t7`.`doc71`.`double` AS "`doc71`.`double`" from `test`.`t7`) `derived_t7` where ((`test`.`t6`.`doc61`.`double` = `derived_t7`.`doc71`.`double`) and (`derived_t7`.`doc71`.`double` > 9.9))
select derived_t7.doc71.double from t6 join (select t7.doc71.double from t7) as derived_t7 on t6.doc61.double = derived_t7.doc71.double and derived_t7.doc71.double > 9.9;
`doc71`.`double`
10.1
11.11
12.12

### JOIN TWO TABLES: t1 and t2
### PATTERN 1 with int

explain extended
select derived_t2.doc21.int from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ref	doc11_int	doc11_int	9	derived_t2.`doc21`.`int`	1	100.00	Using index
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where (`test`.`t1`.`doc11`.`int` = `derived_t2`.`doc21`.`int`)
select derived_t2.doc21.int from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
`doc21`.`int`
1
true
7
10
11.111
explain extended
select derived_t2.doc21.int from t1 join (select * from t2) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2`) `derived_t2` where (`test`.`t1`.`doc11`.`int` = `derived_t2`.`doc21`.`int`)
select derived_t2.doc21.int from t1 join (select * from t2) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
`doc21`.`int`
true
10
11.111
explain extended
select derived_t2.doc21.int from t1 use document keys join (select * from t2 use document keys where t2.doc21.int > 9) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t1	ref	doc11_int	doc11_int	9	derived_t2.`doc21`.`int`	1	100.00	Using index
2	DERIVED	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` > 9)) `derived_t2` where (`test`.`t1`.`doc11`.`int` = `derived_t2`.`doc21`.`int`)
select derived_t2.doc21.int from t1 use document keys join (select * from t2 use document keys where t2.doc21.int > 9) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
`doc21`.`int`
10
11.111
explain extended
select derived_t2.doc21.int from t1 join (select * from t2 where t2.doc21.int > 9) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` where (`test`.`t2`.`doc21`.`int` > 9)) `derived_t2` where (`test`.`t1`.`doc11`.`int` = `derived_t2`.`doc21`.`int`)
select derived_t2.doc21.int from t1 join (select * from t2 where t2.doc21.int > 9) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
`doc21`.`int`
10
11.111
explain extended
select derived_t2.doc21.int from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.int = derived_t2.doc21.int and derived_t2.doc21.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where ((`derived_t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` > 9))
select derived_t2.doc21.int from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.int = derived_t2.doc21.int and derived_t2.doc21.int > 9;
`doc21`.`int`
10
explain extended
select derived_t2.doc21.int from t1 join (select * from t2) as derived_t2 on t1.doc11.int = derived_t2.doc21.int and derived_t2.doc21.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2`) `derived_t2` where ((`test`.`t1`.`doc11`.`int` = `derived_t2`.`doc21`.`int`) and (`derived_t2`.`doc21`.`int` > 9))
select derived_t2.doc21.int from t1 join (select * from t2) as derived_t2 on t1.doc11.int = derived_t2.doc21.int and derived_t2.doc21.int > 9;
`doc21`.`int`
10
11.111

### JOIN TWO TABLES: t1 and t2
### PATTERN 1 with string

explain extended
select derived_t2.doc21.string from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.string = derived_t2.doc21.string and derived_t2.doc21.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	range	doc11_string	doc11_string	6	NULL	1	100.00	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where ((`derived_t2`.`doc21`.`string` = `test`.`t1`.`doc11`.`string`) and (`test`.`t1`.`doc11`.`string` > 'iii'))
select derived_t2.doc21.string from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.string = derived_t2.doc21.string and derived_t2.doc21.string > "iii";
`doc21`.`string`
k
explain extended
select derived_t2.doc21.string from t1 join (select * from t2) as derived_t2 on t1.doc11.string = derived_t2.doc21.string and derived_t2.doc21.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2`) `derived_t2` where ((`test`.`t1`.`doc11`.`string` = `derived_t2`.`doc21`.`string`) and (`derived_t2`.`doc21`.`string` > 'iii'))
select derived_t2.doc21.string from t1 join (select * from t2) as derived_t2 on t1.doc11.string = derived_t2.doc21.string and derived_t2.doc21.string > "iii";
`doc21`.`string`
true
k
explain extended
select derived_t2.doc21.string from t1 use document keys join (select * from t2 use document keys where t2.doc21.string > "iii") as derived_t2 on t1.doc11.string = derived_t2.doc21.string;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	Using where
1	PRIMARY	t1	ref	doc11_string	doc11_string	6	derived_t2.`doc21`.`string`	1	100.00	NULL
2	DERIVED	t2	range	doc21_string	doc21_string	5	NULL	1	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`string` > 'iii')) `derived_t2` where (`test`.`t1`.`doc11`.`string` = `derived_t2`.`doc21`.`string`)
select derived_t2.doc21.string from t1 use document keys join (select * from t2 use document keys where t2.doc21.string > "iii") as derived_t2 on t1.doc11.string = derived_t2.doc21.string;
`doc21`.`string`
k
explain extended
select derived_t2.doc21.string from t1 join (select * from t2 where t2.doc21.string > "iii") as derived_t2 on t1.doc11.string = derived_t2.doc21.string;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` where (`test`.`t2`.`doc21`.`string` > 'iii')) `derived_t2` where (`test`.`t1`.`doc11`.`string` = `derived_t2`.`doc21`.`string`)
select derived_t2.doc21.string from t1 join (select * from t2 where t2.doc21.string > "iii") as derived_t2 on t1.doc11.string = derived_t2.doc21.string;
`doc21`.`string`
true
k

### JOIN TWO TABLES: t1 and t2
### PATTERN 1 with bool

explain extended
select derived_t2.doc21.bool from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ref	doc11_bool	doc11_bool	2	derived_t2.`doc21`.`bool`	2	100.00	Using index
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where (`test`.`t1`.`doc11`.`bool` = `derived_t2`.`doc21`.`bool`)
select derived_t2.doc21.bool from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
`doc21`.`bool`
bbb
bbb
bbb
true
true
true
ddddddd
ddddddd
ddddddd
false
false
false
false
false
false
false
false
false
false
false
false
0
0
0
explain extended
select derived_t2.doc21.bool from t1 join (select * from t2) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2`) `derived_t2` where (`test`.`t1`.`doc11`.`bool` = `derived_t2`.`doc21`.`bool`)
select derived_t2.doc21.bool from t1 join (select * from t2) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
`doc21`.`bool`
true
bbb
ddddddd
false
false
false
false
123456789
false
false
false
false
0
explain extended
select derived_t2.doc21.bool from t1 use document keys join (select * from t2 use document keys where t2.doc21.bool > false) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	Using where
1	PRIMARY	t1	ref	doc11_bool	doc11_bool	2	derived_t2.`doc21`.`bool`	2	100.00	Using index
2	DERIVED	t2	range	doc21_bool	doc21_bool	2	NULL	2	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` > 0)) `derived_t2` where (`test`.`t1`.`doc11`.`bool` = `derived_t2`.`doc21`.`bool`)
select derived_t2.doc21.bool from t1 use document keys join (select * from t2 use document keys where t2.doc21.bool > false) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
`doc21`.`bool`
true
true
true
explain extended
select derived_t2.doc21.bool from t1 join (select * from t2 where t2.doc21.bool > false) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` where (`test`.`t2`.`doc21`.`bool` > 0)) `derived_t2` where (`test`.`t1`.`doc11`.`bool` = `derived_t2`.`doc21`.`bool`)
select derived_t2.doc21.bool from t1 join (select * from t2 where t2.doc21.bool > false) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
`doc21`.`bool`
true
123456789
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'
explain extended
select derived_t2.doc21.bool from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool and derived_t2.doc21.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	range	doc11_bool	doc11_bool	2	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where ((`derived_t2`.`doc21`.`bool` = `test`.`t1`.`doc11`.`bool`) and (`test`.`t1`.`doc11`.`bool` > 0))
select derived_t2.doc21.bool from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool and derived_t2.doc21.bool > false;
`doc21`.`bool`
explain extended
select derived_t2.doc21.bool from t1 join (select * from t2) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool and derived_t2.doc21.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2`) `derived_t2` where ((`test`.`t1`.`doc11`.`bool` = `derived_t2`.`doc21`.`bool`) and (`derived_t2`.`doc21`.`bool` > 0))
select derived_t2.doc21.bool from t1 join (select * from t2) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool and derived_t2.doc21.bool > false;
`doc21`.`bool`
true
123456789
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'

### JOIN TWO TABLES: t1 and t2
### PATTERN 1 with double

explain extended
select derived_t2.doc21.double from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ref	doc11_double	doc11_double	9	derived_t2.`doc21`.`double`	1	100.00	Using index
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where (`test`.`t1`.`doc11`.`double` = `derived_t2`.`doc21`.`double`)
select derived_t2.doc21.double from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
`doc21`.`double`
1
1
2.2
false
false
8.8
10.1
true
true
explain extended
select derived_t2.doc21.double from t1 join (select * from t2) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2`) `derived_t2` where (`test`.`t1`.`doc11`.`double` = `derived_t2`.`doc21`.`double`)
select derived_t2.doc21.double from t1 join (select * from t2) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
`doc21`.`double`
1
2.2
false
8.8
10.1
true
false
explain extended
select derived_t2.doc21.double from t1 use document keys join (select * from t2 use document keys where t2.doc21.double > 9.9) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	Using where
1	PRIMARY	t1	ref	doc11_double	doc11_double	9	derived_t2.`doc21`.`double`	1	100.00	Using index
2	DERIVED	t2	range	doc21_double	doc21_double	9	NULL	1	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`double` > 9.9)) `derived_t2` where (`test`.`t1`.`doc11`.`double` = `derived_t2`.`doc21`.`double`)
select derived_t2.doc21.double from t1 use document keys join (select * from t2 use document keys where t2.doc21.double > 9.9) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
`doc21`.`double`
10.1
explain extended
select derived_t2.doc21.double from t1 join (select * from t2 where t2.doc21.double > 9.9) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` where (`test`.`t2`.`doc21`.`double` > 9.9)) `derived_t2` where (`test`.`t1`.`doc11`.`double` = `derived_t2`.`doc21`.`double`)
select derived_t2.doc21.double from t1 join (select * from t2 where t2.doc21.double > 9.9) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
`doc21`.`double`
10.1
explain extended
select derived_t2.doc21.double from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.double = derived_t2.doc21.double and derived_t2.doc21.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	range	doc11_double	doc11_double	9	NULL	1	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where ((`derived_t2`.`doc21`.`double` = `test`.`t1`.`doc11`.`double`) and (`test`.`t1`.`doc11`.`double` > 9.9))
select derived_t2.doc21.double from t1 use document keys join (select * from t2 use document keys) as derived_t2 on t1.doc11.double = derived_t2.doc21.double and derived_t2.doc21.double > 9.9;
`doc21`.`double`
explain extended
select derived_t2.doc21.double from t1 join (select * from t2) as derived_t2 on t1.doc11.double = derived_t2.doc21.double and derived_t2.doc21.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`a2` AS `a2`,`test`.`t2`.`b2` AS `b2`,`test`.`t2`.`c2` AS `c2`,`test`.`t2`.`d2` AS `d2`,`test`.`t2`.`str2` AS `str2`,`test`.`t2`.`doc21` AS `doc21`,`test`.`t2`.`doc22` AS `doc22` from `test`.`t2`) `derived_t2` where ((`test`.`t1`.`doc11`.`double` = `derived_t2`.`doc21`.`double`) and (`derived_t2`.`doc21`.`double` > 9.9))
select derived_t2.doc21.double from t1 join (select * from t2) as derived_t2 on t1.doc11.double = derived_t2.doc21.double and derived_t2.doc21.double > 9.9;
`doc21`.`double`
10.1

### JOIN TWO TABLES: t1 and t2
### PATTERN 2 with int

explain extended
select derived_t2.doc21.int from t1 use document keys join (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	3	100.00	Using where
1	PRIMARY	t1	ref	doc11_int	doc11_int	9	derived_t2.`doc21`.`int`	1	100.00	Using index
2	DERIVED	t2	range	doc21_int	doc21_int	9	NULL	3	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`int` > 9)) `derived_t2` where (`test`.`t1`.`doc11`.`int` = `derived_t2`.`doc21`.`int`)
select derived_t2.doc21.int from t1 use document keys join (select t2.doc21.int from t2 use document keys where t2.doc21.int > 9) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
`doc21`.`int`
10
11
explain extended
select derived_t2.doc21.int from t1 join (select t2.doc21.int from t2 where t2.doc21.int > 9) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t2` where (`test`.`t2`.`doc21`.`int` > 9)) `derived_t2` where (`test`.`t1`.`doc11`.`int` = `derived_t2`.`doc21`.`int`)
select derived_t2.doc21.int from t1 join (select t2.doc21.int from t2 where t2.doc21.int > 9) as derived_t2 on t1.doc11.int = derived_t2.doc21.int;
`doc21`.`int`
10
11.111
explain extended
select derived_t2.doc21.int from t1 use document keys join (select t2.doc21.int from t2 use document keys) as derived_t2 on t1.doc11.int = derived_t2.doc21.int and derived_t2.doc21.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	range	doc11_int	doc11_int	9	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	index	NULL	doc21_int	9	NULL	12	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where ((`derived_t2`.`doc21`.`int` = `test`.`t1`.`doc11`.`int`) and (`test`.`t1`.`doc11`.`int` > 9))
select derived_t2.doc21.int from t1 use document keys join (select t2.doc21.int from t2 use document keys) as derived_t2 on t1.doc11.int = derived_t2.doc21.int and derived_t2.doc21.int > 9;
`doc21`.`int`
10
11
explain extended
select derived_t2.doc21.int from t1 join (select t2.doc21.int from t2) as derived_t2 on t1.doc11.int = derived_t2.doc21.int and derived_t2.doc21.int > 9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`doc21`.`int` AS "`doc21`.`int`" from `test`.`t2`) `derived_t2` where ((`test`.`t1`.`doc11`.`int` = `derived_t2`.`doc21`.`int`) and (`derived_t2`.`doc21`.`int` > 9))
select derived_t2.doc21.int from t1 join (select t2.doc21.int from t2) as derived_t2 on t1.doc11.int = derived_t2.doc21.int and derived_t2.doc21.int > 9;
`doc21`.`int`
10
11.111

### JOIN TWO TABLES: t1 and t2
### PATTERN 2 with string

explain extended
select derived_t2.doc21.string from t1 use document keys join (select t2.doc21.string from t2 use document keys where t2.doc21.string > "iii") as derived_t2 on t1.doc11.string = derived_t2.doc21.string;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	Using where
1	PRIMARY	t1	ref	doc11_string	doc11_string	6	derived_t2.`doc21`.`string`	1	100.00	NULL
2	DERIVED	t2	range	doc21_string	doc21_string	5	NULL	1	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`string` > 'iii')) `derived_t2` where (`test`.`t1`.`doc11`.`string` = `derived_t2`.`doc21`.`string`)
select derived_t2.doc21.string from t1 use document keys join (select t2.doc21.string from t2 use document keys where t2.doc21.string > "iii") as derived_t2 on t1.doc11.string = derived_t2.doc21.string;
`doc21`.`string`
k
explain extended
select derived_t2.doc21.string from t1 join (select t2.doc21.string from t2 where t2.doc21.string > "iii") as derived_t2 on t1.doc11.string = derived_t2.doc21.string;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t2` where (`test`.`t2`.`doc21`.`string` > 'iii')) `derived_t2` where (`test`.`t1`.`doc11`.`string` = `derived_t2`.`doc21`.`string`)
select derived_t2.doc21.string from t1 join (select t2.doc21.string from t2 where t2.doc21.string > "iii") as derived_t2 on t1.doc11.string = derived_t2.doc21.string;
`doc21`.`string`
true
k
explain extended
select derived_t2.doc21.string from t1 use document keys join (select t2.doc21.string from t2 use document keys) as derived_t2 on t1.doc11.string = derived_t2.doc21.string and derived_t2.doc21.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	range	doc11_string	doc11_string	6	NULL	1	100.00	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where ((`derived_t2`.`doc21`.`string` = `test`.`t1`.`doc11`.`string`) and (`test`.`t1`.`doc11`.`string` > 'iii'))
select derived_t2.doc21.string from t1 use document keys join (select t2.doc21.string from t2 use document keys) as derived_t2 on t1.doc11.string = derived_t2.doc21.string and derived_t2.doc21.string > "iii";
`doc21`.`string`
k
explain extended
select derived_t2.doc21.string from t1 join (select t2.doc21.string from t2) as derived_t2 on t1.doc11.string = derived_t2.doc21.string and derived_t2.doc21.string > "iii";
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`doc21`.`string` AS "`doc21`.`string`" from `test`.`t2`) `derived_t2` where ((`test`.`t1`.`doc11`.`string` = `derived_t2`.`doc21`.`string`) and (`derived_t2`.`doc21`.`string` > 'iii'))
select derived_t2.doc21.string from t1 join (select t2.doc21.string from t2) as derived_t2 on t1.doc11.string = derived_t2.doc21.string and derived_t2.doc21.string > "iii";
`doc21`.`string`
true
k

### JOIN TWO TABLES: t1 and t2
### PATTERN 2 with bool

explain extended
select derived_t2.doc21.bool from t1 use document keys join (select t2.doc21.bool from t2 use document keys where t2.doc21.bool > false) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	Using where
1	PRIMARY	t1	ref	doc11_bool	doc11_bool	2	derived_t2.`doc21`.`bool`	2	100.00	Using index
2	DERIVED	t2	index	doc21_bool	doc21_bool	2	NULL	12	16.67	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`bool` > 0)) `derived_t2` where (`test`.`t1`.`doc11`.`bool` = `derived_t2`.`doc21`.`bool`)
select derived_t2.doc21.bool from t1 use document keys join (select t2.doc21.bool from t2 use document keys where t2.doc21.bool > false) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
`doc21`.`bool`
1
1
1
1
1
1
explain extended
select derived_t2.doc21.bool from t1 join (select t2.doc21.bool from t2 where t2.doc21.bool > false) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t2` where (`test`.`t2`.`doc21`.`bool` > 0)) `derived_t2` where (`test`.`t1`.`doc11`.`bool` = `derived_t2`.`doc21`.`bool`)
select derived_t2.doc21.bool from t1 join (select t2.doc21.bool from t2 where t2.doc21.bool > false) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool;
`doc21`.`bool`
true
123456789
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'
explain extended
select derived_t2.doc21.bool from t1 use document keys join (select t2.doc21.bool from t2 use document keys) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool and derived_t2.doc21.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	range	doc11_bool	doc11_bool	2	NULL	3	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	index	NULL	doc21_bool	2	NULL	12	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where ((`derived_t2`.`doc21`.`bool` = `test`.`t1`.`doc11`.`bool`) and (`test`.`t1`.`doc11`.`bool` > 0))
select derived_t2.doc21.bool from t1 use document keys join (select t2.doc21.bool from t2 use document keys) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool and derived_t2.doc21.bool > false;
`doc21`.`bool`
1
1
1
1
1
1
explain extended
select derived_t2.doc21.bool from t1 join (select t2.doc21.bool from t2) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool and derived_t2.doc21.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`doc21`.`bool` AS "`doc21`.`bool`" from `test`.`t2`) `derived_t2` where ((`test`.`t1`.`doc11`.`bool` = `derived_t2`.`doc21`.`bool`) and (`derived_t2`.`doc21`.`bool` > 0))
select derived_t2.doc21.bool from t1 join (select t2.doc21.bool from t2) as derived_t2 on t1.doc11.bool = derived_t2.doc21.bool and derived_t2.doc21.bool > false;
`doc21`.`bool`
true
123456789
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'

### JOIN TWO TABLES: t1 and t2
### PATTERN 2 with double

explain extended
select derived_t2.doc21.double from t1 use document keys join (select t2.doc21.double from t2 use document keys where t2.doc21.double > 9.9) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	2	100.00	Using where
1	PRIMARY	t1	ref	doc11_double	doc11_double	9	derived_t2.`doc21`.`double`	1	100.00	Using index
2	DERIVED	t2	range	doc21_double	doc21_double	9	NULL	1	100.00	Using where; Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t2` USE DOCUMENT INDEXES where (`test`.`t2`.`doc21`.`double` > 9.9)) `derived_t2` where (`test`.`t1`.`doc11`.`double` = `derived_t2`.`doc21`.`double`)
select derived_t2.doc21.double from t1 use document keys join (select t2.doc21.double from t2 use document keys where t2.doc21.double > 9.9) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
`doc21`.`double`
10.1
explain extended
select derived_t2.doc21.double from t1 join (select t2.doc21.double from t2 where t2.doc21.double > 9.9) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t2` where (`test`.`t2`.`doc21`.`double` > 9.9)) `derived_t2` where (`test`.`t1`.`doc11`.`double` = `derived_t2`.`doc21`.`double`)
select derived_t2.doc21.double from t1 join (select t2.doc21.double from t2 where t2.doc21.double > 9.9) as derived_t2 on t1.doc11.double = derived_t2.doc21.double;
`doc21`.`double`
10.1
explain extended
select derived_t2.doc21.double from t1 use document keys join (select t2.doc21.double from t2 use document keys) as derived_t2 on t1.doc11.double = derived_t2.doc21.double and derived_t2.doc21.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t1	range	doc11_double	doc11_double	9	NULL	1	100.00	Using where; Using index
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	index	NULL	doc21_double	9	NULL	12	100.00	Using index
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` USE DOCUMENT INDEXES join (/* select#2 */ select `test`.`t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t2` USE DOCUMENT INDEXES) `derived_t2` where ((`derived_t2`.`doc21`.`double` = `test`.`t1`.`doc11`.`double`) and (`test`.`t1`.`doc11`.`double` > 9.9))
select derived_t2.doc21.double from t1 use document keys join (select t2.doc21.double from t2 use document keys) as derived_t2 on t1.doc11.double = derived_t2.doc21.double and derived_t2.doc21.double > 9.9;
`doc21`.`double`
10.1
explain extended
select derived_t2.doc21.double from t1 join (select t2.doc21.double from t2) as derived_t2 on t1.doc11.double = derived_t2.doc21.double and derived_t2.doc21.double > 9.9;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where
1	PRIMARY	t1	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t2	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
Warnings:
Note	1003	/* select#1 */ select `derived_t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t1` join (/* select#2 */ select `test`.`t2`.`doc21`.`double` AS "`doc21`.`double`" from `test`.`t2`) `derived_t2` where ((`test`.`t1`.`doc11`.`double` = `derived_t2`.`doc21`.`double`) and (`derived_t2`.`doc21`.`double` > 9.9))
select derived_t2.doc21.double from t1 join (select t2.doc21.double from t2) as derived_t2 on t1.doc11.double = derived_t2.doc21.double and derived_t2.doc21.double > 9.9;
`doc21`.`double`
10.1

### JOIN TWO TABLES: t6 and t7
### PATTERN 3 with int/string

### USE AS REFERENCE and STANDARD
explain extended
select *
from t6, (select sum(t7.b7) as b7_sum, t7.str7
from t7
group by t7.str7
having t7.str7 > 'fff') as derived_t7
where t6.b6 < derived_t7.b7_sum and t6.b6 > 10;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	b6_a6	b6_a6	5	NULL	2	100.00	Using index condition
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using temporary; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`derived_t7`.`b7_sum` AS `b7_sum`,`derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select sum(`test`.`t7`.`b7`) AS `b7_sum`,`test`.`t7`.`str7` AS `str7` from `test`.`t7` group by `test`.`t7`.`str7` having (`test`.`t7`.`str7` > 'fff')) `derived_t7` where ((`test`.`t6`.`b6` < `derived_t7`.`b7_sum`) and (`test`.`t6`.`b6` > 10))
explain extended
select *
from t6 use document keys, (select sum(t7.doc71.int) as doc71_int_sum, t7.doc71.string
from t7 use document keys
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.int < derived_t7.doc71_int_sum and t6.doc61.int > 10;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_int	doc61_int	9	NULL	2	100.00	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using temporary; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`derived_t7`.`doc71_int_sum` AS `doc71_int_sum`,`derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select sum(`test`.`t7`.`doc71`.`int`) AS `doc71_int_sum`,`test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7` USE DOCUMENT INDEXES group by `test`.`t7`.`doc71`.`string` having (`test`.`t7`.`doc71`.`string` > 'fff')) `derived_t7` where ((`test`.`t6`.`doc61`.`int` < `derived_t7`.`doc71_int_sum`) and (`test`.`t6`.`doc61`.`int` > 10))
select *
from t6 use document keys, (select sum(t7.doc71.int) as doc71_int_sum, t7.doc71.string
from t7 use document keys
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.int < derived_t7.doc71_int_sum and t6.doc61.int > 10;
a6	b6	c6	d6	str6	doc61	doc62	doc71_int_sum	`doc71`.`string`
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	12	lll
explain extended
select *
from t6, (select sum(t7.doc71.int) as doc71_int_sum, t7.doc71.string
from t7
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.int < derived_t7.doc71_int_sum and t6.doc61.int > 10;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using temporary; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`derived_t7`.`doc71_int_sum` AS `doc71_int_sum`,`derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` join (/* select#2 */ select sum(`test`.`t7`.`doc71`.`int`) AS `doc71_int_sum`,`test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7` group by `test`.`t7`.`doc71`.`string` having (`test`.`t7`.`doc71`.`string` > 'fff')) `derived_t7` where ((`test`.`t6`.`doc61`.`int` < `derived_t7`.`doc71_int_sum`) and (`test`.`t6`.`doc61`.`int` > 10))
select *
from t6, (select sum(t7.doc71.int) as doc71_int_sum, t7.doc71.string
from t7
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.int < derived_t7.doc71_int_sum and t6.doc61.int > 10;
a6	b6	c6	d6	str6	doc61	doc62	doc71_int_sum	`doc71`.`string`
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	12	lll

### JOIN TWO TABLES: t6 and t7
### PATTERN 3 with bool/string

### USE AS REFERENCE and STANDARD
explain extended
select *
from t6, (select sum(t7.b7) as b7_sum, t7.str7
from t7
group by t7.str7
having t7.str7 > 'fff') as derived_t7
where t6.b6 < derived_t7.b7_sum and t6.b6 > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	b6_a6	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using temporary; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`derived_t7`.`b7_sum` AS `b7_sum`,`derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select sum(`test`.`t7`.`b7`) AS `b7_sum`,`test`.`t7`.`str7` AS `str7` from `test`.`t7` group by `test`.`t7`.`str7` having (`test`.`t7`.`str7` > 'fff')) `derived_t7` where ((`test`.`t6`.`b6` < `derived_t7`.`b7_sum`) and (`test`.`t6`.`b6` > 0))
explain extended
select *
from t6 use document keys, (select sum(t7.doc71.bool) as doc71_bool_sum, t7.doc71.string
from t7 use document keys
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.bool < derived_t7.doc71_bool_sum and t6.doc61.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	ALL	doc61_bool	NULL	NULL	NULL	12	50.00	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using temporary; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`derived_t7`.`doc71_bool_sum` AS `doc71_bool_sum`,`derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select sum(`test`.`t7`.`doc71`.`bool`) AS `doc71_bool_sum`,`test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7` USE DOCUMENT INDEXES group by `test`.`t7`.`doc71`.`string` having (`test`.`t7`.`doc71`.`string` > 'fff')) `derived_t7` where ((`test`.`t6`.`doc61`.`bool` < `derived_t7`.`doc71_bool_sum`) and (`test`.`t6`.`doc61`.`bool` > 0))
select *
from t6 use document keys, (select sum(t7.doc71.bool) as doc71_bool_sum, t7.doc71.string
from t7 use document keys
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.bool < derived_t7.doc71_bool_sum and t6.doc61.bool > false;
a6	b6	c6	d6	str6	doc61	doc62	doc71_bool_sum	`doc71`.`string`
explain extended
select *
from t6, (select sum(t7.doc71.bool) as doc71_bool_sum, t7.doc71.string
from t7
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.bool < derived_t7.doc71_bool_sum and t6.doc61.bool > false;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using temporary; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`derived_t7`.`doc71_bool_sum` AS `doc71_bool_sum`,`derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` join (/* select#2 */ select sum(`test`.`t7`.`doc71`.`bool`) AS `doc71_bool_sum`,`test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7` group by `test`.`t7`.`doc71`.`string` having (`test`.`t7`.`doc71`.`string` > 'fff')) `derived_t7` where ((`test`.`t6`.`doc61`.`bool` < `derived_t7`.`doc71_bool_sum`) and (`test`.`t6`.`doc61`.`bool` > 0))
select *
from t6, (select sum(t7.doc71.bool) as doc71_bool_sum, t7.doc71.string
from t7
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.bool < derived_t7.doc71_bool_sum and t6.doc61.bool > false;
a6	b6	c6	d6	str6	doc61	doc62	doc71_bool_sum	`doc71`.`string`

### JOIN TWO TABLES: t6 and t7
### PATTERN 3 with double/string

### USE AS REFERENCE and STANDARD
explain extended
select *
from t6, (select sum(t7.c7) as c7_sum, t7.str7
from t7
group by t7.str7
having t7.str7 > 'fff') as derived_t7
where t6.doc61.double < derived_t7.c7_sum and t6.c6 > 10.1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using temporary; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`derived_t7`.`c7_sum` AS `c7_sum`,`derived_t7`.`str7` AS `str7` from `test`.`t6` join (/* select#2 */ select sum(`test`.`t7`.`c7`) AS `c7_sum`,`test`.`t7`.`str7` AS `str7` from `test`.`t7` group by `test`.`t7`.`str7` having (`test`.`t7`.`str7` > 'fff')) `derived_t7` where ((`test`.`t6`.`doc61`.`double` < `derived_t7`.`c7_sum`) and (`test`.`t6`.`c6` > 10.1))
explain extended
select *
from t6 use document keys, (select sum(t7.doc71.double) as doc71_double_sum, t7.doc71.string
from t7 use document keys
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.double < derived_t7.doc71_double_sum and t6.doc61.double > 10.1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	t6	range	doc61_double	doc61_double	9	NULL	2	100.00	Using where
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using temporary; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`derived_t7`.`doc71_double_sum` AS `doc71_double_sum`,`derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` USE DOCUMENT INDEXES join (/* select#2 */ select sum(`test`.`t7`.`doc71`.`double`) AS `doc71_double_sum`,`test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7` USE DOCUMENT INDEXES group by `test`.`t7`.`doc71`.`string` having (`test`.`t7`.`doc71`.`string` > 'fff')) `derived_t7` where ((`test`.`t6`.`doc61`.`double` < `derived_t7`.`doc71_double_sum`) and (`test`.`t6`.`doc61`.`double` > 10.1))
select *
from t6 use document keys, (select sum(t7.doc71.double) as doc71_double_sum, t7.doc71.string
from t7 use document keys
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.double < derived_t7.doc71_double_sum and t6.doc61.double > 10.1;
a6	b6	c6	d6	str6	doc61	doc62	doc71_double_sum	`doc71`.`string`
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	12.12	lll
explain extended
select *
from t6, (select sum(t7.doc71.double) as doc71_double_sum, t7.doc71.string
from t7
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.double < derived_t7.doc71_double_sum and t6.doc61.double > 10.1;
id	select_type	table	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	ALL	NULL	NULL	NULL	NULL	12	100.00	NULL
1	PRIMARY	t6	ALL	NULL	NULL	NULL	NULL	12	100.00	Using where; Using join buffer (Block Nested Loop)
2	DERIVED	t7	ALL	NULL	NULL	NULL	NULL	12	100.00	Using temporary; Using filesort
Warnings:
Note	1003	/* select#1 */ select `test`.`t6`.`a6` AS `a6`,`test`.`t6`.`b6` AS `b6`,`test`.`t6`.`c6` AS `c6`,`test`.`t6`.`d6` AS `d6`,`test`.`t6`.`str6` AS `str6`,`test`.`t6`.`doc61` AS `doc61`,`test`.`t6`.`doc62` AS `doc62`,`derived_t7`.`doc71_double_sum` AS `doc71_double_sum`,`derived_t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t6` join (/* select#2 */ select sum(`test`.`t7`.`doc71`.`double`) AS `doc71_double_sum`,`test`.`t7`.`doc71`.`string` AS "`doc71`.`string`" from `test`.`t7` group by `test`.`t7`.`doc71`.`string` having (`test`.`t7`.`doc71`.`string` > 'fff')) `derived_t7` where ((`test`.`t6`.`doc61`.`double` < `derived_t7`.`doc71_double_sum`) and (`test`.`t6`.`doc61`.`double` > 10.1))
select *
from t6, (select sum(t7.doc71.double) as doc71_double_sum, t7.doc71.string
from t7
group by t7.doc71.string
having t7.doc71.string > 'fff') as derived_t7
where t6.doc61.double < derived_t7.doc71_double_sum and t6.doc61.double > 10.1;
a6	b6	c6	d6	str6	doc61	doc62	doc71_double_sum	`doc71`.`string`
11	11	11.11	kkk	kkk	{"bool":false,"int":11,"double":11.11,"string":"kkk","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"int":11,"double":11.11}	12.12	lll

### JOIN TWO TABLES: t1 and t2
### PATTERN 3 with int/string

select *
from t1 use document keys, (select sum(t2.doc21.int) as doc21_int_sum, t2.doc21.string
from t2 use document keys
group by t2.doc21.string
having t2.doc21.string > 'a') as derived_t2
where t1.b1 < derived_t2.doc21_int_sum and t1.doc11.int > 5;
a1	b1	c1	d1	str1	doc11	doc12	doc21_int_sum	`doc21`.`string`
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	9	iii
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	9	iii
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	9	iii
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	11.111	k
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	11.111	k
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	11.111	k
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	11.111	k
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	11.111	k
select *
from t1, (select sum(t2.doc21.int) as doc21_int_sum, t2.doc21.string
from t2
group by t2.doc21.string
having t2.doc21.string > 'a') as derived_t2
where t1.b1 < derived_t2.doc21_int_sum and t1.doc11.int > 5;
a1	b1	c1	d1	str1	doc11	doc12	doc21_int_sum	`doc21`.`string`
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	9	iii
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	9	iii
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	9	iii
4	4	4.4	ddd	ddd	{"bool":"ddddddd","int":"44444","___ble":4.4,"string":false,"k1":{"k2":{"k3":{"int":4}}},"id":4}	NULL	11.111	k
7	7	7.7	ggg	ggg	{"bool":"","int":7.777,"double":false,"___ing":"gg","k1":{"k2":{"k3":{"int":7}}},"id":7}	NULL	11.111	k
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	11.111	k
10	10	10.1	jjj	jjj	{"bool":false,"int":10,"double":"10.1","string":"","k1":{"k2":{"k3":{"int":10}}},"id":10}	{"int":10,"double":10.1}	11.111	k
11	11	11.11	kkk	kkk	{"bool":0,"int":"11.111","double":true,"string":"k","k1":{"k2":{"k3":{"int":11}}},"id":11}	{"__t":11,"double":11.11}	11.111	k

### JOIN TWO TABLES: t1 and t2
### PATTERN 3 with bool/string

select *
from t1 use document keys, (select sum(t2.doc21.bool) as doc21_bool_sum, t2.doc21.string
from t2 use document keys
group by t2.doc21.string
having t2.doc21.string > 'a') as derived_t2
where t1.b1 < derived_t2.doc21_bool_sum and t1.doc11.bool > false;
a1	b1	c1	d1	str1	doc11	doc12	doc21_bool_sum	`doc21`.`string`
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}	123456789	hhh
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	123456789	hhh
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL	123456789	hhh
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'
select *
from t1, (select sum(t2.doc21.bool) as doc21_bool_sum, t2.doc21.string
from t2
group by t2.doc21.string
having t2.doc21.string > 'a') as derived_t2
where t1.b1 < derived_t2.doc21_bool_sum and t1.doc11.bool > false;
a1	b1	c1	d1	str1	doc11	doc12	doc21_bool_sum	`doc21`.`string`
1	1	1.1	aaa	aaa	{"bool":true,"__t":1,"double":1,"string":"aaaaaaa","k1":{"k2":{"k3":{"int":1}}},"id":1}	{"int":1,"double":1.1}	123456789	hhh
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	123456789	hhh
12	12	12.12	lll	lll	{"bool":2.5,"int":false,"double":false,"string":12,"k1":{"k2":{"k3":{"int":12}}},"id":12}	NULL	123456789	hhh
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'
Warning	1292	Truncated incorrect DOUBLE value: 'bbb'
Warning	1292	Truncated incorrect DOUBLE value: 'ddddddd'

### JOIN TWO TABLES: t1 and t2
### PATTERN 3 with double/string

select *
from t1 use document keys, (select sum(t2.doc21.double) as doc21_double_sum, t2.doc21.string
from t2 use document keys
group by t2.doc21.string
having t2.doc21.string > 'a') as derived_t2
where t1.doc11.double < derived_t2.doc21_double_sum and t1.doc11.double > 5.5;
a1	b1	c1	d1	str1	doc11	doc12	doc21_double_sum	`doc21`.`string`
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	9.9	iii
select *
from t1 use document keys, (select sum(t2.doc21.double) as doc21_double_sum, t2.doc21.string
from t2 use document keys
group by t2.doc21.string
having t2.doc21.string > 'a') as derived_t2
where t1.doc11.double < derived_t2.doc21_double_sum and t1.doc11.double > 5.5;
a1	b1	c1	d1	str1	doc11	doc12	doc21_double_sum	`doc21`.`string`
8	8	8.8	hhh	hhh	{"bool":123456789,"int":8,"double":8.8,"string":"hhh","k1":{"k2":{"k3":{"int":8}}},"id":8}	{"int":8,"double":8.8}	9.9	iii
drop table t1, t2, t3, t6, t7, t8;
include/rpl_end.inc

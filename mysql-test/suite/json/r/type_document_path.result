include/master-slave.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the master info repository is not secure and is therefore not recommended. Please consider using the USER and PASSWORD connection options for START SLAVE; see the 'START SLAVE Syntax' in the MySQL Manual for more information.
[connection master]
drop view if exists v1;
drop table if exists t1, t2, t3, t4, t5, t6, t7, t8;
SET @start_allow_document_type = @@global.allow_document_type;
SELECT @start_allow_document_type;
@start_allow_document_type
1
##### Create tables t1 and t2 and populate data
CREATE TABLE t1 (
a int not null,
b char (10) not null,
doc document not null) engine=innodb;
insert into t1 values (1,'@1','{ "id":101, "name":"Alex", "phone":6507770001, "address":{ "houseNumber":1001, "streetName":"1st", "zipcode":98761, "state":"CA" }, "intstr":"1001", "dt":"1001" }');
insert into t1 values (2,'@2','{ "id":102, "name":"Bob", "phone":6507770002, "address":{ "houseNumber":1002, "streetName":"2nd", "zipcode":98762, "state":"AZ" }, "int64":2222222220123456789, "intstr":"1002", "dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789" }');
insert into t1 values (3,'@3','{ "id":103, "name":"Charlie", "phone":6507770003, "address":{ "houseNumber":1003, "streetName":"3rd", "zipcode":98763, "state":"NY" }, "double":3.94065645841246, "dt":"2014-11-01" }');
insert into t1 values (4,'@1','{ "id":104, "name":"Don", "phone":6507770004, "address":{ "houseNumber":1004, "streetName":"4th", "zipcode":98764, "state":"WA" }, "Children":["Alex", "Bob", "Charlei"] }');
insert into t1 values (5,'@2','{ "id":105, "name":"Evan", "phone":6507770005, "address":{ "houseNumber":1005, "streetName":"5th", "zipcode":98765, "state":"WA" }, "dt":"2014-11-11 11:59:59" }');
insert into t1 values (8,'@1','{ "id":108, "address":{ "zipcode":98768 } }');
insert into t1 values (7,'@3','{ "id":107, "address":{ "zipcode":98767, "state":"NY" } }');
insert into t1 values (6,'@2','{ "id":106, "address":{ "zipcode":98766 } }');
insert into t1 values (9,'@1','{ "id":109, "name":"Linda", "phone":6507770004, "address":{ "houseNumber":1004, "streetName":"4th", "zipcode":98764, "state":"WA" } }');
CREATE TABLE t2 (
a2 int not null,
b2 char (10) not null,
doc2 document not null) engine=innodb;
insert into t2 values (10,'@3','{ "id":105, "name":"Alex II", "phone":6507770001, "address":{ "houseNumber":1001, "streetName":"1st", "zipcode":98761, "state":"CA" } }');
insert into t2 values (8,'@1','{ "id":108, "name":"Bob II", "phone":6507770002, "address":{ "houseNumber":1002, "streetName":"2nd", "zipcode":98762, "state":"AZ" } }');
insert into t2 values (3,'@3','{ "id":104, "name":"Charlie II", "phone":6507770003, "address":{ "houseNumber":1003, "streetName":"3rd", "zipcode":98763, "state":"NY" } }');
insert into t2 values (5,'@2','{ "id":106, "name":"Don II", "phone":6507770004, "address":{ "houseNumber":1004, "streetName":"4th", "zipcode":98764, "state":"WA" }, "Children":["Alex", "Bob", "Charlei"] }');
##### Create tables t3 with big values
CREATE TABLE t3 (
a int not null,
b char (10) not null,
doc document not null) engine=innodb;
insert into t3 values (3,'@3','{ "id":"3333", "name":"Charlie" }');
insert into t3 values (1,'@1','{ "id":"1", "name":"Alex" }');
insert into t3 values (4,'@4','{ "id":"44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444", "name":"Don" }');
insert into t3 values (2,'@2','{ "id":"22", "name":"Bob" }');
##### Create tables t4 with backtick quoted column name with special characters
CREATE TABLE t4 (
`~!@#$%^&*()_+-=:;'"<>?,./\t` document not null) engine=innodb;
insert into t4 values ('{"k1":"v1"}');
insert into t4 values ('{"~!@#$%^&*()_+-=:;\'<>?,./":{"~!@#$%^&*()_+-=:;\'<>?,./":"v2"}}');
insert into t4 values ('{"k3":"v3"}');
insert into t4 values ('{"k4":"v4"}');
CREATE TABLE t5 (
a int not null,
b char (10) not null,
doc document not null,
doc2 document not null) engine=innodb;
insert into t5 values (1,'@1','{ "id":101, "name":"Alex II", "phone":6507770001, "address":{ "houseNumber":1001, "streetName":"1st", "zipcode":98761, "state":"CA" } }','{ "id":204, "name":"Alex II", "phone":6507770001, "address":{ "houseNumber":1001, "streetName":"1st", "zipcode":98761, "state":"CA" } }');
insert into t5 values (2,'@2','{ "id":102, "name":"Bob II", "phone":6507770002, "address":{ "houseNumber":1002, "streetName":"2nd", "zipcode":98762, "state":"AZ" } }','{ "id":203, "name":"Bob II", "phone":6507770002, "address":{ "houseNumber":1002, "streetName":"2nd", "zipcode":98762, "state":"AZ" } }');
insert into t5 values (3,'@3','{ "id":103, "name":"Charlie II", "phone":6507770003, "address":{ "houseNumber":1003, "streetName":"3rd", "zipcode":98763, "state":"NY" } }','{ "id":202, "name":"Charlie II", "phone":6507770003, "address":{ "houseNumber":1003, "streetName":"3rd", "zipcode":98763, "state":"NY" } }');
insert into t5 values (4,'@4','{ "id":104, "name":"Don II", "phone":6507770004, "address":{ "houseNumber":1004, "streetName":"4th", "zipcode":98764, "state":"WA" }, "Children":["Alex", "Bob", "Charlei"] }','{ "id":201, "name":"Don II", "phone":6507770004, "address":{ "houseNumber":1004, "streetName":"4th", "zipcode":98764, "state":"WA" }, "Children":["Alex", "Bob", "Charlei"] }');
insert into t5 values (5, '@5', '{"x0":[100, 200, 300]}', '{}');
select `~!@#$%^&*()_+-=:;'"<>?,./\t`
from t4;
~!@#$%^&*()_+-=:;'"<>?,./\t
{"k1":"v1"}
{"~!@#$%^&*()_+-=:;'<>?,./":{"~!@#$%^&*()_+-=:;'<>?,./":"v2"}}
{"k3":"v3"}
{"k4":"v4"}
select `~!@#$%^&*()_+-=:;'"<>?,./\t`.`~!@#$%^&*()_+-=:;'<>?,./`.`~!@#$%^&*()_+-=:;'<>?,./`
from t4
where `~!@#$%^&*()_+-=:;'"<>?,./\t`.`~!@#$%^&*()_+-=:;'<>?,./`.`~!@#$%^&*()_+-=:;'<>?,./` like "v2";
`~!@#$%^&*()_+-=:;'"<>?,./\t`.`~!@#$%^&*()_+-=:;'<>?,./`.`~!@#$%^&*()_+-=:;'<>?,./`
v2
select doc.address.state from t5;
`doc`.`address`.`state`
CA
AZ
NY
WA
NULL
select doc.`address`.state from t5;
`doc`.`address`.`state`
CA
AZ
NY
WA
NULL
select doc.address.`state` from t5;
`doc`.`address`.`state`
CA
AZ
NY
WA
NULL
select doc.`address`.`state` from t5;
`doc`.`address`.`state`
CA
AZ
NY
WA
NULL
select `doc`.address.state from t5;
`doc`.`address`.`state`
CA
AZ
NY
WA
NULL
select `doc`.`address`.state from t5;
`doc`.`address`.`state`
CA
AZ
NY
WA
NULL
select `doc`.address.`state` from t5;
`doc`.`address`.`state`
CA
AZ
NY
WA
NULL
select `doc`.`address`.`state` from t5;
`doc`.`address`.`state`
CA
AZ
NY
WA
NULL
select doc.Children.0 from t5;
`doc`.`Children`.`0`
NULL
NULL
NULL
Alex
NULL
select doc.`Children`.0 from t5;
`doc`.`Children`.`0`
NULL
NULL
NULL
Alex
NULL
select doc.Children.`0` from t5;
`doc`.`Children`.`0`
NULL
NULL
NULL
Alex
NULL
select doc.`Children`.`0` from t5;
`doc`.`Children`.`0`
NULL
NULL
NULL
Alex
NULL
select `doc`.Children.0 from t5;
`doc`.`Children`.`0`
NULL
NULL
NULL
Alex
NULL
select `doc`.`Children`.0 from t5;
`doc`.`Children`.`0`
NULL
NULL
NULL
Alex
NULL
select `doc`.Children.`0` from t5;
`doc`.`Children`.`0`
NULL
NULL
NULL
Alex
NULL
select `doc`.`Children`.`0` from t5;
`doc`.`Children`.`0`
NULL
NULL
NULL
Alex
NULL
select doc.0.foo from t5;
`doc`.`0`.`foo`
NULL
NULL
NULL
NULL
NULL
select doc.0.`foo` from t5;
`doc`.`0`.`foo`
NULL
NULL
NULL
NULL
NULL
select doc.`0`.foo from t5;
`doc`.`0`.`foo`
NULL
NULL
NULL
NULL
NULL
select doc.`0`.`foo` from t5;
`doc`.`0`.`foo`
NULL
NULL
NULL
NULL
NULL
select `doc`.0.foo from t5;
`doc`.`0`.`foo`
NULL
NULL
NULL
NULL
NULL
select `doc`.0.`foo` from t5;
`doc`.`0`.`foo`
NULL
NULL
NULL
NULL
NULL
select `doc`.`0`.foo from t5;
`doc`.`0`.`foo`
NULL
NULL
NULL
NULL
NULL
select `doc`.`0`.`foo` from t5;
`doc`.`0`.`foo`
NULL
NULL
NULL
NULL
NULL
select doc.x0.1 from t5;
`doc`.`x0`.`1`
NULL
NULL
NULL
NULL
200
select `doc`.x0.1 from t5;
`doc`.`x0`.`1`
NULL
NULL
NULL
NULL
200
select doc.`x0`.1 from t5;
`doc`.`x0`.`1`
NULL
NULL
NULL
NULL
200
select doc.x0.`1` from t5;
`doc`.`x0`.`1`
NULL
NULL
NULL
NULL
200
select `doc`.`x0`.1 from t5;
`doc`.`x0`.`1`
NULL
NULL
NULL
NULL
200
select `doc`.x0.`1` from t5;
`doc`.`x0`.`1`
NULL
NULL
NULL
NULL
200
select doc.`x0`.`1` from t5;
`doc`.`x0`.`1`
NULL
NULL
NULL
NULL
200
select `doc`.`x0`.`1` from t5;
`doc`.`x0`.`1`
NULL
NULL
NULL
NULL
200
##### When document type is disabled, the original cases of database.table.field, table.field and .table.field
SET @@global.allow_document_type = false;
SELECT @@global.allow_document_type;
@@global.allow_document_type
0
select test.t1.b from test.t1 where test.t1.a = 1;
b
@1
select t1.doc from test.t1 where t1.a = 2;
doc
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
select .t1.doc from test.t1 where .t1.a = 4;
doc
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
##### When document type is disabled, all the new syntax will be treated as errors
select test.t1.doc.address.houseNumber from t1 where t1.a = 3;
ERROR HY000: Invalid field or reference.
select a from t1 where test.t1.doc.id = 102;
ERROR HY000: Invalid field or reference.
select test.t1.doc.address.houseNumber from t1 where test.t1.doc.address.zipcode = 98762;
ERROR HY000: Invalid field or reference.
SET @@global.allow_document_type = true;
SELECT @@global.allow_document_type;
@@global.allow_document_type
1
select test.t1.b from test.t1 where test.t1.a = 1;
b
@1
select t1.doc from test.t1 where t1.a = 2;
doc
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
select .t1.doc from test.t1 where .t1.a = 4;
doc
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
##### Invalid document path when using document path on a non-document column
SET @@global.allow_document_type = false;
SELECT @@global.allow_document_type;
@@global.allow_document_type
0
select b.k1 from t1;
ERROR 42S22: Unknown column 'b.k1' in 'field list'
select b.k1.k2 from t1;
ERROR 42S22: Unknown column 'b.k1.k2' in 'field list'
select b.k1.k2.k3 from t1;
ERROR HY000: Invalid field or reference.
SET @@global.allow_document_type = true;
SELECT @@global.allow_document_type;
@@global.allow_document_type
1
select b.k1 from t1;
ERROR 42S22: Unknown column '`b`.`k1`' in 'field list'
select b.k1.k2 from t1;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`' in 'field list'
select b.k1.k2.k3 from t1;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`.`k3`' in 'field list'
select a from t1 where b.k1 = 100;
ERROR 42S22: Unknown column '`b`.`k1`' in 'where clause'
select a from t1 where b.k1.k2 = 100;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`' in 'where clause'
select a from t1 where b.k1.k2.k3 = 100;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`.`k3`' in 'where clause'
select a from t1 order by b.k1;
ERROR 42S22: Unknown column '`b`.`k1`' in 'order clause'
select a from t1 order by b.k1.k2 ;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`' in 'order clause'
select a from t1 order by b.k1.k2.k3;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`.`k3`' in 'order clause'
select count(*), a from t1 group by b.k1;
ERROR 42S22: Unknown column '`b`.`k1`' in 'group statement'
select count(*), a from t1 group by b.k1.k2;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`' in 'group statement'
select count(*), a from t1 group by b.k1.k2.k3;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`.`k3`' in 'group statement'
select count(*), a from t1 group by a having b.k1 = 100;
ERROR 42S22: Unknown column '`b`.`k1`' in 'having clause'
select count(*), a from t1 group by a having b.k1.k2 = 100;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`' in 'having clause'
select count(*), a from t1 group by a having b.k1.k2.k3 = 100;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`.`k3`' in 'having clause'
select a from t1 having b.k1 = 100;
ERROR 42S22: Unknown column '`b`.`k1`' in 'having clause'
select a from t1 having b.k1.k2 = 100;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`' in 'having clause'
select a from t1 having b.k1.k2.k3 = 100;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`.`k3`' in 'having clause'
select a from t1 where substr(b.k1, 1, 10) like 'abc';
ERROR 42S22: Unknown column '`b`.`k1`' in 'where clause'
select a from t1 where substr(b.k1.k2, 1, 10) like 'abc';
ERROR 42S22: Unknown column '`b`.`k1`.`k2`' in 'where clause'
select a from t1 where substr(b.k1.k2.k3, 1, 10) like 'abc';
ERROR 42S22: Unknown column '`b`.`k1`.`k2`.`k3`' in 'where clause'
select sum(b.k1) from t1 where a = 100;
ERROR 42S22: Unknown column '`b`.`k1`' in 'field list'
select sum(b.k1.k2) from t1 where a = 100;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`' in 'field list'
select sum(b.k1.k2.k3) from t1 where a = 100;
ERROR 42S22: Unknown column '`b`.`k1`.`k2`.`k3`' in 'field list'
##### Document path with different types in SELECT clause
select test.t1.doc.NonExistent from t1 where t1.a = 4;
`doc`.`NonExistent`
NULL
select test.t1.doc.NonExistent as NonExistent from t1 where t1.a = 4;
NonExistent
NULL
select test.t1.doc from t1 where t1.a = 3;
doc
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
select test.t1.doc as doc from t1 where t1.a = 3;
doc
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
select test.t1.doc.address.houseNumber from t1 where t1.a = 3;
`doc`.`address`.`houseNumber`
1003
select test.t1.doc.address.houseNumber as houseNumber from t1 where t1.a = 3;
houseNumber
1003
select test.t1.doc.int64 from t1 where t1.a = 2;
`doc`.`int64`
2222222220123456789
select test.t1.doc.int64 as int64 from t1 where t1.a = 2;
int64
2222222220123456789
select test.t1.doc.double from t1 where t1.a = 3;
`doc`.`double`
3.94065645841246
select test.t1.doc.double as dble from t1 where t1.a = 3;
dble
3.94065645841246
select test.t1.doc.name from t1 where t1.a = 3;
`doc`.`name`
Charlie
select test.t1.doc.name as name from t1 where t1.a = 3;
name
Charlie
select test.t1.doc.Children.0 from t1 where t1.a = 4;
`doc`.`Children`.`0`
Alex
select test.t1.doc.Children.1 from t1 where t1.a = 4;
`doc`.`Children`.`1`
Bob
select test.t1.doc.Children.2 from t1 where t1.a = 4;
`doc`.`Children`.`2`
Charlei
select test.t1.doc.Children.0 as Children0 from t1 where t1.a = 4;
Children0
Alex
select abs(test.t1.doc.double), abs(test.t1.doc.double - 3.94065645841245) from t1 where a = 3;
abs(test.t1.doc.double)	abs(test.t1.doc.double - 3.94065645841245)
3.94065645841246	0.00000000000001021405182655144
select abs(test.t1.doc.double) as abs1, abs(test.t1.doc.double - 3.94065645841245) as abs2
from t1
where a = 3;
abs1	abs2
3.94065645841246	0.00000000000001021405182655144
select test.t1.doc.address from t1 where t1.a = 3;
`doc`.`address`
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
select test.t1.doc.address as address from t1 where t1.a = 3;
address
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
select test.t1.doc.Children from t1 where t1.a = 4;
`doc`.`Children`
["Alex","Bob","Charlei"]
select test.t1.doc.Children as Children from t1 where t1.a = 4;
Children
["Alex","Bob","Charlei"]
select t1.doc.address.houseNumber from t1 where t1.a = 4;
`doc`.`address`.`houseNumber`
1004
select t1.doc.address.houseNumber as houseNumber from t1 where t1.a = 4;
houseNumber
1004
select doc.address.houseNumber from t1 where t1.a = 4;
`doc`.`address`.`houseNumber`
1004
select doc.address.houseNumber as houseNumber from t1 where t1.a = 4;
houseNumber
1004
##### Document paths with different types in WHERE clause
select a from t1 where test.t1.doc.NonExistent = 102;
a
select a from t1 where test.t1.doc.id = 102;
a
2
select a from t1 where test.t1.doc.int64 = 2222222220123456789;
a
2
select a from t1 where abs(test.t1.doc.double - 3.94065645841246) < 0.0000001;
a
3
select t1.doc.id from t1 where t1.doc.id > 101 and t1.doc.id < 104;
`doc`.`id`
102
103
select a from t1 where test.t1.doc.name like "Bob";
a
2
select a from t1 where substring(test.t1.doc.name, 1, 2) like "Bo";
a
2
select a from t1 where cast(test.t1.doc.id as unsigned) = 102;
a
2
select a from t1 where cast(test.t1.doc.intstr as unsigned) = 1002;
a
2
select a from t1 where cast(test.t1.doc.id as char) like "102";
a
2
select test.t1.doc.dt from t1 where cast(test.t1.doc.dt as date) = cast('2014-11-01' as date);
`doc`.`dt`
2014-11-01
Warnings:
Warning	1292	Incorrect datetime value: '1001'
Warning	1292	Incorrect datetime value: '0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789'
select test.t1.doc.dt from t1 where cast(test.t1.doc.dt as datetime) = cast('2014-11-11 11:59:59' as datetime);
`doc`.`dt`
2014-11-11 11:59:59
Warnings:
Warning	1292	Incorrect datetime value: '1001'
Warning	1292	Incorrect datetime value: '0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789'
select test.t1.doc.dt from t1 where cast(test.t1.doc.dt as time) = cast('2014-11-11 11:59:59' as time);
`doc`.`dt`
2014-11-11 11:59:59
Warnings:
Warning	1292	Truncated incorrect time value: '0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789'
Warning	1292	Truncated incorrect time value: '2014-11-01'
select test.t1.doc.address.houseNumber from t1 where test.t1.doc.address.zipcode = 98762;
`doc`.`address`.`houseNumber`
1002
select t1.a, t1.b from t1 where doc.address.zipcode = 98761;
a	b
1	@1
update t1 set t1.a = 101, t1.b = '@101' where doc.address.zipcode = 98761;
select t1.a, t1.b from t1 where doc.address.zipcode = 98761;
a	b
101	@101
update t1 set t1.a = 1, t1.b = '@1' where doc.address.zipcode = 98761;
select t1.a, t1.b from t1 where doc.address.zipcode = 98761;
a	b
1	@1
##### Document path with different types in views using MERGE algorithm
create algorithm = merge view v1 as
select doc.id, doc.id from t1;
ERROR 42S21: Duplicate column name '`doc`.`id`'
create algorithm = merge view v1 as
select doc, doc from t1;
ERROR 42S21: Duplicate column name 'doc'
create algorithm = merge view v1 as
select doc.id, doc, doc.id from t1;
ERROR 42S21: Duplicate column name '`doc`.`id`'
create algorithm = merge view v1 as
select doc, doc.id, doc from t1;
ERROR 42S21: Duplicate column name 'doc'
create algorithm = merge view v1 as
select doc123.id from t1;
ERROR 42S22: Unknown column '`doc123`.`id`' in 'field list'
create algorithm = merge view v1 as
select doc.address from t1;
select doc.address.id from v1;
`doc`.`address`.`id`
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
drop view v1;
create algorithm = merge view v1 as
select doc.address as addr from t1;
select addr from v1;
addr
{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
{"zipcode":98768}
{"zipcode":98767,"state":"NY"}
{"zipcode":98766}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
drop view v1;
create algorithm = merge view v1 as
select doc.address as addr from t1;
select addr.zipcode from v1;
`addr`.`zipcode`
98761
98762
98763
98764
98765
98768
98767
98766
98764
drop view v1;
create algorithm = merge view v1 as
select doc from t1;
select doc.address.zipcode from v1;
`doc`.`address`.`zipcode`
98761
98762
98763
98764
98765
98768
98767
98766
98764
drop view v1;
create algorithm = merge view v1 (addr) as
select doc.address from t1;
select addr.zipcode from v1;
`addr`.`zipcode`
98761
98762
98763
98764
98765
98768
98767
98766
98764
drop view v1;
create algorithm = merge view v1 as
select doc.id from t1;
select * from v1;
`doc`.`id`
101
102
103
104
105
108
107
106
109
drop view v1;
create algorithm = merge view v1 (row1) as
select doc.id from t1;
select row1 from v1;
row1
101
102
103
104
105
108
107
106
109
drop view v1;
create algorithm = merge view v1 as
select doc.address.state from t1;
select * from v1;
`doc`.`address`.`state`
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
drop view v1;
create algorithm = merge view v1 (row1) as
select doc.address.state from t1;
select row1 from v1;
row1
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
drop view v1;
create algorithm = merge view v1 as
select doc.address from t1;
select * from v1;
`doc`.`address`
{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
{"zipcode":98768}
{"zipcode":98767,"state":"NY"}
{"zipcode":98766}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
drop view v1;
create algorithm = merge view v1 (row1) as
select doc.address from t1;
select row1 from v1;
row1
{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
{"zipcode":98768}
{"zipcode":98767,"state":"NY"}
{"zipcode":98766}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
drop view v1;
create algorithm = merge view v1 as
select doc from t1;
select * from v1;
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = merge view v1 (row1) as
select doc from t1;
select row1 from v1;
row1
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = merge view v1 as
select doc.address.state, doc.id, doc from t1;
select * from v1;
`doc`.`address`.`state`	`doc`.`id`	doc
CA	101	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	102	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	103	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	104	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	105	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	108	{"id":108,"address":{"zipcode":98768}}
NY	107	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	106	{"id":106,"address":{"zipcode":98766}}
WA	109	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = merge view v1 as
select doc, doc.address.state, doc.id from t1;
select * from v1;
doc	`doc`.`address`.`state`	`doc`.`id`
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA	101
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ	102
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY	103
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA	104
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA	105
{"id":108,"address":{"zipcode":98768}}	NULL	108
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY	107
{"id":106,"address":{"zipcode":98766}}	NULL	106
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA	109
drop view v1;
create algorithm = merge view v1 as
select doc.address.state, doc, doc.id from t1;
select * from v1;
`doc`.`address`.`state`	doc	`doc`.`id`
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	101
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	102
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	103
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	104
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	105
NULL	{"id":108,"address":{"zipcode":98768}}	108
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}	107
NULL	{"id":106,"address":{"zipcode":98766}}	106
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	109
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc.address.state, doc.id, doc from t1;
select row1 from v1;
row1
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc.address.state, doc.id, doc from t1;
select row1, row3 from v1;
row1	row3
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	{"id":108,"address":{"zipcode":98768}}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	{"id":106,"address":{"zipcode":98766}}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc.address.state, doc.id, doc from t1;
select row1, row2, row3 from v1;
row1	row2	row3
CA	101	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	102	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	103	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	104	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	105	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	108	{"id":108,"address":{"zipcode":98768}}
NY	107	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	106	{"id":106,"address":{"zipcode":98766}}
WA	109	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc, doc.address.state, doc.id from t1;
select row1 from v1;
row1
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc, doc.address.state, doc.id from t1;
select row1, row3 from v1;
row1	row3
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	101
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	102
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	103
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	104
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	105
{"id":108,"address":{"zipcode":98768}}	108
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	107
{"id":106,"address":{"zipcode":98766}}	106
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	109
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc, doc.address.state, doc.id from t1;
select row1, row2, row3 from v1;
row1	row2	row3
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA	101
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ	102
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY	103
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA	104
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA	105
{"id":108,"address":{"zipcode":98768}}	NULL	108
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY	107
{"id":106,"address":{"zipcode":98766}}	NULL	106
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA	109
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc.address.state, doc, doc.id from t1;
select row1 from v1;
row1
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc.address.state, doc, doc.id from t1;
select row1, row3 from v1;
row1	row3
CA	101
AZ	102
NY	103
WA	104
WA	105
NULL	108
NY	107
NULL	106
WA	109
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc.address.state, doc, doc.id from t1;
select row1, row2, row3 from v1;
row1	row2	row3
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	101
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	102
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	103
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	104
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	105
NULL	{"id":108,"address":{"zipcode":98768}}	108
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}	107
NULL	{"id":106,"address":{"zipcode":98766}}	106
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	109
drop view v1;
create algorithm = merge view v1 as
select doc.address.state, doc.id from t1 order by doc.address.state, a;
select * from v1;
`doc`.`address`.`state`	`doc`.`id`
NULL	106
NULL	108
AZ	102
CA	101
NY	103
NY	107
WA	104
WA	105
WA	109
drop view v1;
create algorithm = merge view v1 as
select doc.address.state, doc.id from t1 order by doc.id;
select * from v1;
`doc`.`address`.`state`	`doc`.`id`
CA	101
AZ	102
NY	103
WA	104
WA	105
NULL	106
NY	107
NULL	108
WA	109
drop view v1;
create algorithm = merge view v1 as
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by cast(test.t1.doc.address.state as char);
Warnings:
Warning	1354	View merge algorithm can't be used here for now (assumed undefined algorithm)
select * from v1;
count(*)	cast(test.t1.doc.address.state as char)
2	NULL
1	AZ
1	CA
2	NY
3	WA
drop view v1;
create algorithm = merge view v1 as
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by cast(test.t1.doc.address.state as char);
Warnings:
Warning	1354	View merge algorithm can't be used here for now (assumed undefined algorithm)
select * from v1;
count(*)	cast(test.t1.doc.address.state as char)
2	NULL
1	AZ
1	CA
2	NY
3	WA
drop view v1;
create algorithm = merge view v1 (row1, row2, row3) as
select doc.address.state, doc, doc.id from t1;
select v1.row1 from v1;
row1
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
select v1.row2 from v1;
row2
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select v1.row3 from v1;
row3
101
102
103
104
105
108
107
106
109
drop view v1;
create algorithm = temptable view v1 as
select doc.id from t1;
select * from v1;
`doc`.`id`
101
102
103
104
105
108
107
106
109
drop view v1;
create table t8 (
doc document not null) engine = innodb;
insert into t8 values('{"k1":{"k2":{"k3":{"k4":123}}}}');
create algorithm = merge view v1 as
select doc.k1.k2 from t8;
create algorithm = merge view v2 as
select doc.k1.k2.k3.k4 from v1;
select * from v2;
`doc`.`k1`.`k2`.`k3`.`k4`
{"k3":{"k4":123}}
drop view v1, v2;
drop table t8;
##### Document path with different types in views using TEMPTABLE algorithm
create algorithm = temptable view v1 as
select doc.id, doc.id from t1;
ERROR 42S21: Duplicate column name '`doc`.`id`'
create algorithm = temptable view v1 as
select doc, doc from t1;
ERROR 42S21: Duplicate column name 'doc'
create algorithm = temptable view v1 as
select doc.id, doc, doc.id from t1;
ERROR 42S21: Duplicate column name '`doc`.`id`'
create algorithm = temptable view v1 as
select doc, doc.id, doc from t1;
ERROR 42S21: Duplicate column name 'doc'
create algorithm = temptable view v1 as
select doc123.id from t1;
ERROR 42S22: Unknown column '`doc123`.`id`' in 'field list'
create algorithm = temptable view v1 as
select doc.address from t1;
select doc.address.id from v1;
`doc`.`address`.`id`
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
drop view v1;
create algorithm = temptable view v1 as
select doc.address as addr from t1;
select addr from v1;
addr
{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
{"zipcode":98768}
{"zipcode":98767,"state":"NY"}
{"zipcode":98766}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
drop view v1;
create algorithm = temptable view v1 as
select doc.address as addr from t1;
select addr.zipcode from v1;
`addr`.`zipcode`
98761
98762
98763
98764
98765
98768
98767
98766
98764
drop view v1;
create algorithm = temptable view v1 as
select doc from t1;
select doc.address.zipcode from v1;
`doc`.`address`.`zipcode`
98761
98762
98763
98764
98765
98768
98767
98766
98764
drop view v1;
create algorithm = temptable view v1 (addr) as
select doc.address from t1;
select addr.zipcode from v1;
`addr`.`zipcode`
98761
98762
98763
98764
98765
98768
98767
98766
98764
drop view v1;
create algorithm = temptable view v1 as
select doc.id from t1;
select * from v1;
`doc`.`id`
101
102
103
104
105
108
107
106
109
drop view v1;
create algorithm = temptable view v1 (row1) as
select doc.id from t1;
select row1 from v1;
row1
101
102
103
104
105
108
107
106
109
drop view v1;
create algorithm = temptable view v1 as
select doc.address.state from t1;
select * from v1;
`doc`.`address`.`state`
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
drop view v1;
create algorithm = temptable view v1 (row1) as
select doc.address.state from t1;
select row1 from v1;
row1
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
drop view v1;
create algorithm = temptable view v1 as
select doc.address from t1;
select * from v1;
`doc`.`address`
{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
{"zipcode":98768}
{"zipcode":98767,"state":"NY"}
{"zipcode":98766}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
drop view v1;
create algorithm = temptable view v1 (row1) as
select doc.address from t1;
select row1 from v1;
row1
{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
{"zipcode":98768}
{"zipcode":98767,"state":"NY"}
{"zipcode":98766}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
drop view v1;
create algorithm = temptable view v1 as
select doc from t1;
select * from v1;
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = temptable view v1 (row1) as
select doc from t1;
select row1 from v1;
row1
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = temptable view v1 as
select doc.address.state, doc.id, doc from t1;
select * from v1;
`doc`.`address`.`state`	`doc`.`id`	doc
CA	101	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	102	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	103	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	104	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	105	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	108	{"id":108,"address":{"zipcode":98768}}
NY	107	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	106	{"id":106,"address":{"zipcode":98766}}
WA	109	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = temptable view v1 as
select doc, doc.address.state, doc.id from t1;
select * from v1;
doc	`doc`.`address`.`state`	`doc`.`id`
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA	101
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ	102
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY	103
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA	104
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA	105
{"id":108,"address":{"zipcode":98768}}	NULL	108
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY	107
{"id":106,"address":{"zipcode":98766}}	NULL	106
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA	109
drop view v1;
create algorithm = temptable view v1 as
select doc.address.state, doc, doc.id from t1;
select * from v1;
`doc`.`address`.`state`	doc	`doc`.`id`
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	101
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	102
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	103
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	104
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	105
NULL	{"id":108,"address":{"zipcode":98768}}	108
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}	107
NULL	{"id":106,"address":{"zipcode":98766}}	106
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	109
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc.address.state, doc.id, doc from t1;
select row1 from v1;
row1
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc.address.state, doc.id, doc from t1;
select row1, row3 from v1;
row1	row3
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	{"id":108,"address":{"zipcode":98768}}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	{"id":106,"address":{"zipcode":98766}}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc.address.state, doc.id, doc from t1;
select row1, row2, row3 from v1;
row1	row2	row3
CA	101	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	102	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	103	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	104	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	105	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	108	{"id":108,"address":{"zipcode":98768}}
NY	107	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	106	{"id":106,"address":{"zipcode":98766}}
WA	109	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc, doc.address.state, doc.id from t1;
select row1 from v1;
row1
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc, doc.address.state, doc.id from t1;
select row1, row3 from v1;
row1	row3
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	101
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	102
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	103
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	104
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	105
{"id":108,"address":{"zipcode":98768}}	108
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	107
{"id":106,"address":{"zipcode":98766}}	106
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	109
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc, doc.address.state, doc.id from t1;
select row1, row2, row3 from v1;
row1	row2	row3
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA	101
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ	102
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY	103
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA	104
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA	105
{"id":108,"address":{"zipcode":98768}}	NULL	108
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY	107
{"id":106,"address":{"zipcode":98766}}	NULL	106
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA	109
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc.address.state, doc, doc.id from t1;
select row1 from v1;
row1
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc.address.state, doc, doc.id from t1;
select row1, row3 from v1;
row1	row3
CA	101
AZ	102
NY	103
WA	104
WA	105
NULL	108
NY	107
NULL	106
WA	109
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc.address.state, doc, doc.id from t1;
select row1, row2, row3 from v1;
row1	row2	row3
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	101
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	102
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	103
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	104
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	105
NULL	{"id":108,"address":{"zipcode":98768}}	108
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}	107
NULL	{"id":106,"address":{"zipcode":98766}}	106
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	109
drop view v1;
create algorithm = temptable view v1 as
select doc.address.state, doc.id from t1 order by doc.address.state, a;
select * from v1;
`doc`.`address`.`state`	`doc`.`id`
NULL	106
NULL	108
AZ	102
CA	101
NY	103
NY	107
WA	104
WA	105
WA	109
drop view v1;
create algorithm = temptable view v1 as
select doc.address.state, doc.id from t1 order by doc.id;
select * from v1;
`doc`.`address`.`state`	`doc`.`id`
CA	101
AZ	102
NY	103
WA	104
WA	105
NULL	106
NY	107
NULL	108
WA	109
drop view v1;
create algorithm = temptable view v1 as
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by cast(test.t1.doc.address.state as char);
select * from v1;
count(*)	cast(test.t1.doc.address.state as char)
2	NULL
1	AZ
1	CA
2	NY
3	WA
drop view v1;
create algorithm = temptable view v1 as
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by cast(test.t1.doc.address.state as char);
select * from v1;
count(*)	cast(test.t1.doc.address.state as char)
2	NULL
1	AZ
1	CA
2	NY
3	WA
drop view v1;
create algorithm = temptable view v1 (row1, row2, row3) as
select doc.address.state, doc, doc.id from t1;
select v1.row1 from v1;
row1
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
select v1.row2 from v1;
row2
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select v1.row3 from v1;
row3
101
102
103
104
105
108
107
106
109
drop view v1;
create table t8 (
doc document not null) engine = innodb;
insert into t8 values('{"k1":{"k2":{"k3":{"k4":123}}}}');
create algorithm = temptable view v1 as
select doc.k1.k2 from t8;
create algorithm = temptable view v2 as
select doc.k1.k2.k3.k4 from v1;
select * from v1;
`doc`.`k1`.`k2`
{"k3":{"k4":123}}
drop view v1, v2;
drop table t8;
##### Document paths with different types in ORDER BY clause (with and without aliases)
select a from t1 order by test.t1.doc.NonExistent, a;
a
1
2
3
4
5
6
7
8
9
select a from t1 order by cast(t1.doc.NonExistent as unsigned), a;
a
1
2
3
4
5
6
7
8
9
select test.t1.doc.id, a from t1 order by cast(test.t1.doc.id as unsigned);
`doc`.`id`	a
101	1
102	2
103	3
104	4
105	5
106	6
107	7
108	8
109	9
select test.t1.doc.id, a from t1 order by cast(test.t1.doc.id as unsigned) desc;
`doc`.`id`	a
109	9
108	8
107	7
106	6
105	5
104	4
103	3
102	2
101	1
select test.t1.doc.id, a from t1 order by 1 desc;
`doc`.`id`	a
109	9
108	8
107	7
106	6
105	5
104	4
103	3
102	2
101	1
select test.t1.doc.address.zipcode, a from t1 order by cast(test.t1.doc.address.zipcode as signed), 2;
`doc`.`address`.`zipcode`	a
98761	1
98762	2
98763	3
98764	4
98764	9
98765	5
98766	6
98767	7
98768	8
select test.t1.doc.address.zipcode, a from t1 order by cast(test.t1.doc.address.zipcode as char) desc, 2;
`doc`.`address`.`zipcode`	a
98768	8
98767	7
98766	6
98765	5
98764	4
98764	9
98763	3
98762	2
98761	1
select cast(test.t1.doc.address.zipcode as signed), a
from t1
order by cast(test.t1.doc.address.zipcode as signed), a;
cast(test.t1.doc.address.zipcode as signed)	a
98761	1
98762	2
98763	3
98764	4
98764	9
98765	5
98766	6
98767	7
98768	8
select cast(test.t1.doc.address.zipcode as signed) as zipcode, a
from t1
order by zipcode, a;
zipcode	a
98761	1
98762	2
98763	3
98764	4
98764	9
98765	5
98766	6
98767	7
98768	8
select cast(test.t1.doc.address.zipcode as char), a
from t1
order by cast(test.t1.doc.address.zipcode as char) desc, a;
cast(test.t1.doc.address.zipcode as char)	a
98768	8
98767	7
98766	6
98765	5
98764	4
98764	9
98763	3
98762	2
98761	1
select cast(test.t1.doc.address.zipcode as char), a
from t1
order by 1 desc, a;
cast(test.t1.doc.address.zipcode as char)	a
98768	8
98767	7
98766	6
98765	5
98764	4
98764	9
98763	3
98762	2
98761	1
select cast(test.t1.doc.address.zipcode as char) as zipcode, a
from t1
order by zipcode desc, a;
zipcode	a
98768	8
98767	7
98766	6
98765	5
98764	4
98764	9
98763	3
98762	2
98761	1
select a, cast(test.t1.doc.address.zipcode as char) as zipcode
from t1
order by 2 desc, a;
a	zipcode
8	98768
7	98767
6	98766
5	98765
4	98764
9	98764
3	98763
2	98762
1	98761
select a, test.t1.doc.address.state as state
from t1
order by cast(state as char), a;
a	state
6	NULL
8	NULL
2	AZ
1	CA
3	NY
7	NY
4	WA
5	WA
9	WA
select a, test.t1.doc.address.state as state
from t1
order by cast(state as char) desc, a;
a	state
4	WA
5	WA
9	WA
3	NY
7	NY
1	CA
2	AZ
6	NULL
8	NULL
select a, test.t1.doc.address.zipcode as zipcode
from t1
order by cast(zipcode as char), a;
a	zipcode
1	98761
2	98762
3	98763
4	98764
9	98764
5	98765
6	98766
7	98767
8	98768
select a, test.t1.doc.address.zipcode as zipcode
from t1
order by cast(zipcode as char) desc, a;
a	zipcode
8	98768
7	98767
6	98766
5	98765
4	98764
9	98764
3	98763
2	98762
1	98761
select a, test.t1.doc.address.zipcode as zipcode
from t1
order by cast(zipcode as unsigned), a;
a	zipcode
1	98761
2	98762
3	98763
4	98764
9	98764
5	98765
6	98766
7	98767
8	98768
select a, test.t1.doc.address.zipcode as zipcode
from t1
order by cast(zipcode as unsigned) desc, a;
a	zipcode
8	98768
7	98767
6	98766
5	98765
4	98764
9	98764
3	98763
2	98762
1	98761
select test.t1.doc.id, a from t1 order by test.t1.doc.id, a;
`doc`.`id`	a
101	1
102	2
103	3
104	4
105	5
106	6
107	7
108	8
109	9
select test.t1.doc.id, a from t1 order by t1.doc.id desc, a;
`doc`.`id`	a
109	9
108	8
107	7
106	6
105	5
104	4
103	3
102	2
101	1
select test.t1.doc.id as id, a from t1 order by id, a;
id	a
101	1
102	2
103	3
104	4
105	5
106	6
107	7
108	8
109	9
select test.t1.doc.id as id, a from t1 order by id desc, a;
id	a
109	9
108	8
107	7
106	6
105	5
104	4
103	3
102	2
101	1
select doc.id, a from t3 order by test.t3.doc.id, a;
`doc`.`id`	a
1	1
22	2
3333	3
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444	4
select test.t3.doc.id, a from t3 order by t3.doc.id desc, a;
`doc`.`id`	a
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444	4
3333	3
22	2
1	1
select test.t3.doc.id, a from t3 where a = 4;
`doc`.`id`	a
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444	4
CREATE TABLE t8 (
a int not null,
b char (10) not null,
doc document not null) engine=innodb;
insert into t8 values(1, '1', '{"int":1, "int_str":"1", "double":1.1, "double_str":"1.1"}');
insert into t8 values(2, '2', '{"int":2, "int_str":"2", "double":2.2, "double_str":"2.2"}');
insert into t8 values(3, '3', '{"int":3, "int_str":"3", "double":3.3, "double_str":"3.3"}');
insert into t8 values(4, '4', '{"int":4, "int_str":"4", "double":4.4, "double_str":"4.4"}');
insert into t8 values(5, '5', '{"int":5, "int_str":"5", "double":5.5, "double_str":"5.5"}');
insert into t8 values(6, '6', '{"int":6, "int_str":"6", "double":6.6, "double_str":"6.6"}');
insert into t8 values(7, '7', '{"int":7, "int_str":"7", "double":7.7, "double_str":"7.7"}');
insert into t8 values(8, '8', '{"int":8, "int_str":"8", "double":8.8, "double_str":"8.8"}');
insert into t8 values(9, '9', '{"int":9, "int_str":"9", "double":9.9, "double_str":"9.9"}');
insert into t8 values(10, '10', '{"int":10, "int_str":"10", "double":10.1, "double_str":"10.1"}');
insert into t8 values(11, '11', '{"int":11, "int_str":"11", "double":11.11, "double_str":"11.11"}');
insert into t8 values(12, '12', '{"int":12, "int_str":"12", "double":12.12, "double_str":"12.12"}');
insert into t8 values(13, '13', '{"int":13, "int_str":"13", "double":13.13, "double_str":"13.13"}');
select * from t8 order by t8.doc.int;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
select * from t8 order by t8.doc.int as string;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
select * from t8 order by t8.doc.int as int;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
select * from t8 order by t8.doc.int as double;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
select * from t8 order by t8.doc.int_str;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
select * from t8 order by t8.doc.int_str as string;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
select * from t8 order by t8.doc.int_str as int;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
select * from t8 order by t8.doc.int_str as double;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
select * from t8 order by t8.doc.double;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
select * from t8 order by t8.doc.double as string;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
select * from t8 order by t8.doc.double as int;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
select * from t8 order by t8.doc.double as double;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
select * from t8 order by t8.doc.double_str;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
select * from t8 order by t8.doc.double_str as string;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
select * from t8 order by t8.doc.double_str as int;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
select * from t8 order by t8.doc.double_str as double;
a	b	doc
1	1	{"int":1,"int_str":"1","double":1.1,"double_str":"1.1"}
2	2	{"int":2,"int_str":"2","double":2.2,"double_str":"2.2"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
4	4	{"int":4,"int_str":"4","double":4.4,"double_str":"4.4"}
5	5	{"int":5,"int_str":"5","double":5.5,"double_str":"5.5"}
6	6	{"int":6,"int_str":"6","double":6.6,"double_str":"6.6"}
7	7	{"int":7,"int_str":"7","double":7.7,"double_str":"7.7"}
8	8	{"int":8,"int_str":"8","double":8.8,"double_str":"8.8"}
9	9	{"int":9,"int_str":"9","double":9.9,"double_str":"9.9"}
10	10	{"int":10,"int_str":"10","double":10.1,"double_str":"10.1"}
11	11	{"int":11,"int_str":"11","double":11.11,"double_str":"11.11"}
12	12	{"int":12,"int_str":"12","double":12.12,"double_str":"12.12"}
13	13	{"int":13,"int_str":"13","double":13.13,"double_str":"13.13"}
select * from t8 order by t8.a as string;
ERROR HY000: Order by as type is not supported for non-document type.
truncate table t8;
insert into t8 values(1, '1', '{"int":3, "int_str":"3", "double":1.1, "double_str":"1.1"}');
insert into t8 values(2, '2', '{"int":2, "int_str":"2", "double":1.2, "double_str":"2.2"}');
insert into t8 values(3, '3', '{"int":3, "int_str":"3", "double":3.3, "double_str":"3.3"}');
select * from t8 order by t8.doc.double as int, t8.doc.int_str as int;
a	b	doc
2	2	{"int":2,"int_str":"2","double":1.2,"double_str":"2.2"}
1	1	{"int":3,"int_str":"3","double":1.1,"double_str":"1.1"}
3	3	{"int":3,"int_str":"3","double":3.3,"double_str":"3.3"}
drop table t8;
select test.t1.doc.address.zipcode from t1 order by test.t1.doc.address.zipcode;
`doc`.`address`.`zipcode`
98761
98762
98763
98764
98764
98765
98766
98767
98768
select test.t1.doc.address.zipcode from t1 order by t1.doc.address.zipcode desc;
`doc`.`address`.`zipcode`
98768
98767
98766
98765
98764
98764
98763
98762
98761
select test.t1.doc.address.zipcode as zipcode from t1 order by zipcode;
zipcode
98761
98762
98763
98764
98764
98765
98766
98767
98768
select test.t1.doc.address.zipcode as zipcode from t1 order by zipcode desc;
zipcode
98768
98767
98766
98765
98764
98764
98763
98762
98761
select a, test.t1.doc.address.zipcode from t1 order by test.t1.doc.address.zipcode, a;
a	`doc`.`address`.`zipcode`
1	98761
2	98762
3	98763
4	98764
9	98764
5	98765
6	98766
7	98767
8	98768
select a, test.t1.doc.address.zipcode from t1 order by t1.doc.address.zipcode desc, a;
a	`doc`.`address`.`zipcode`
8	98768
7	98767
6	98766
5	98765
4	98764
9	98764
3	98763
2	98762
1	98761
select a, test.t1.doc.address.zipcode as zipcode from t1 order by zipcode, a;
a	zipcode
1	98761
2	98762
3	98763
4	98764
9	98764
5	98765
6	98766
7	98767
8	98768
select a, test.t1.doc.address.zipcode as zipcode from t1 order by zipcode desc, a;
a	zipcode
8	98768
7	98767
6	98766
5	98765
4	98764
9	98764
3	98763
2	98762
1	98761
select test.t1.doc.address.zipcode, a from t1 order by test.t1.doc.address.zipcode, a;
`doc`.`address`.`zipcode`	a
98761	1
98762	2
98763	3
98764	4
98764	9
98765	5
98766	6
98767	7
98768	8
select test.t1.doc.address.zipcode, a from t1 order by t1.doc.address.zipcode desc, a;
`doc`.`address`.`zipcode`	a
98768	8
98767	7
98766	6
98765	5
98764	4
98764	9
98763	3
98762	2
98761	1
select test.t1.doc.address.zipcode as zipcode, a from t1 order by zipcode, a;
zipcode	a
98761	1
98762	2
98763	3
98764	4
98764	9
98765	5
98766	6
98767	7
98768	8
select test.t1.doc.address.zipcode as zipcode, a from t1 order by zipcode desc, a;
zipcode	a
98768	8
98767	7
98766	6
98765	5
98764	4
98764	9
98763	3
98762	2
98761	1
select test.t1.doc.address.state from t1 order by test.t1.doc.address.state;
`doc`.`address`.`state`
NULL
NULL
AZ
CA
NY
NY
WA
WA
WA
select test.t1.doc.address.state from t1 order by t1.doc.address.state desc;
`doc`.`address`.`state`
WA
WA
WA
NY
NY
CA
AZ
NULL
NULL
select test.t1.doc.address.state from t1 order by 1 desc;
`doc`.`address`.`state`
WA
WA
WA
NY
NY
CA
AZ
NULL
NULL
select test.t1.doc.address.state as state from t1 order by state;
state
NULL
NULL
AZ
CA
NY
NY
WA
WA
WA
select test.t1.doc.address.state as state from t1 order by state desc;
state
WA
WA
WA
NY
NY
CA
AZ
NULL
NULL
select a, test.t1.doc.address.state from t1 order by test.t1.doc.address.state, a;
a	`doc`.`address`.`state`
6	NULL
8	NULL
2	AZ
1	CA
3	NY
7	NY
4	WA
5	WA
9	WA
select a, test.t1.doc.address.state from t1 order by t1.doc.address.state desc, a;
a	`doc`.`address`.`state`
4	WA
5	WA
9	WA
3	NY
7	NY
1	CA
2	AZ
6	NULL
8	NULL
select a, test.t1.doc.address.state as state from t1 order by state, a;
a	state
6	NULL
8	NULL
2	AZ
1	CA
3	NY
7	NY
4	WA
5	WA
9	WA
select a, test.t1.doc.address.state as state from t1 order by state desc, a;
a	state
4	WA
5	WA
9	WA
3	NY
7	NY
1	CA
2	AZ
6	NULL
8	NULL
select test.t1.doc.address.state, a from t1 order by test.t1.doc.address.state, a;
`doc`.`address`.`state`	a
NULL	6
NULL	8
AZ	2
CA	1
NY	3
NY	7
WA	4
WA	5
WA	9
select test.t1.doc.address.state, a from t1 order by t1.doc.address.state desc, a;
`doc`.`address`.`state`	a
WA	4
WA	5
WA	9
NY	3
NY	7
CA	1
AZ	2
NULL	6
NULL	8
select test.t1.doc.address.state as state, a from t1 order by state, a;
state	a
NULL	6
NULL	8
AZ	2
CA	1
NY	3
NY	7
WA	4
WA	5
WA	9
select test.t1.doc.address.state as state, a from t1 order by state desc, a;
state	a
WA	4
WA	5
WA	9
NY	3
NY	7
CA	1
AZ	2
NULL	6
NULL	8
select doc.address.state as state, doc.address.zipcode as zipcode, a
from t1
order by state, zipcode, a;
state	zipcode	a
NULL	98766	6
NULL	98768	8
AZ	98762	2
CA	98761	1
NY	98763	3
NY	98767	7
WA	98764	4
WA	98764	9
WA	98765	5
select doc.address.state as state, doc.address.zipcode as zipcode, a
from t1
order by zipcode desc, state desc, a asc;
state	zipcode	a
NULL	98768	8
NY	98767	7
NULL	98766	6
WA	98765	5
WA	98764	4
WA	98764	9
NY	98763	3
AZ	98762	2
CA	98761	1
select doc.address.state as state, doc.address.zipcode as zipcode, doc.name as name, a
from t1
order by zipcode desc, state desc, name desc, a asc;
state	zipcode	name	a
NULL	98768	NULL	8
NY	98767	NULL	7
NULL	98766	NULL	6
WA	98765	Evan	5
WA	98764	Linda	9
WA	98764	Don	4
NY	98763	Charlie	3
AZ	98762	Bob	2
CA	98761	Alex	1
select a, doc.address.state as state, doc.address.zipcode as zipcode
from t1
order by a desc, state asc, zipcode desc;
a	state	zipcode
9	WA	98764
8	NULL	98768
7	NY	98767
6	NULL	98766
5	WA	98765
4	WA	98764
3	NY	98763
2	AZ	98762
1	CA	98761
select a, doc.address.state, doc.address.zipcode
from t1
order by test.t1.doc.address.zipcode desc, t1.doc.address.state asc, a desc;
a	`doc`.`address`.`state`	`doc`.`address`.`zipcode`
8	NULL	98768
7	NY	98767
6	NULL	98766
5	WA	98765
9	WA	98764
4	WA	98764
3	NY	98763
2	AZ	98762
1	CA	98761
select a, doc.address.state, doc.address.zipcode, doc.name
from t1
order by test.t1.doc.address.zipcode desc, t1.doc.address.state asc, doc.name desc, a desc;
a	`doc`.`address`.`state`	`doc`.`address`.`zipcode`	`doc`.`name`
8	NULL	98768	NULL
7	NY	98767	NULL
6	NULL	98766	NULL
5	WA	98765	Evan
9	WA	98764	Linda
4	WA	98764	Don
3	NY	98763	Charlie
2	AZ	98762	Bob
1	CA	98761	Alex
select a, doc.address.state, doc.address.zipcode
from t1
order by doc.address.zipcode, doc.address.state, a;
a	`doc`.`address`.`state`	`doc`.`address`.`zipcode`
1	CA	98761
2	AZ	98762
3	NY	98763
4	WA	98764
9	WA	98764
5	WA	98765
6	NULL	98766
7	NY	98767
8	NULL	98768
select a, doc.address.state, doc.address.zipcode
from t1
order by doc.address.zipcode, doc.address.state, doc.name, a;
a	`doc`.`address`.`state`	`doc`.`address`.`zipcode`
1	CA	98761
2	AZ	98762
3	NY	98763
4	WA	98764
9	WA	98764
5	WA	98765
6	NULL	98766
7	NY	98767
8	NULL	98768
select a
from t1
order by doc;
a
1
2
3
4
5
6
7
8
9
select a
from t1
order by doc desc;
a
9
8
7
6
5
4
3
2
1
select a
from t1
order by doc, doc.address.state desc, doc.address.zipcode;
a
1
2
3
4
5
6
7
8
9
select doc.address.state as state, doc.address.zipcode as zipcode, a
from t1
order by state, state, a;
state	zipcode	a
NULL	98766	6
NULL	98768	8
AZ	98762	2
CA	98761	1
NY	98763	3
NY	98767	7
WA	98764	4
WA	98765	5
WA	98764	9
select doc.address.zipcode as zipcode, a
from t1
order by test.t1.doc.address.zipcode, t1.doc.address.zipcode, a asc;
zipcode	a
98761	1
98762	2
98763	3
98764	4
98764	9
98765	5
98766	6
98767	7
98768	8
select doc.address.state as state, a
from t1
order by state, test.t1.doc.address.state, a desc;
state	a
NULL	8
NULL	6
AZ	2
CA	1
NY	7
NY	3
WA	9
WA	5
WA	4
select doc.address.zipcode
from t1
order by doc.address.state, a;
`doc`.`address`.`zipcode`
98766
98768
98762
98761
98763
98767
98764
98765
98764
select t1.doc.address.zipcode
from t1
order by doc.address.state, a;
`doc`.`address`.`zipcode`
98766
98768
98762
98761
98763
98767
98764
98765
98764
select doc.address.state
from t1
order by doc.address.zipcode, a;
`doc`.`address`.`state`
CA
AZ
NY
WA
WA
WA
NULL
NY
NULL
select t1.doc.address.state
from t1
order by doc.address.zipcode, a;
`doc`.`address`.`state`
CA
AZ
NY
WA
WA
WA
NULL
NY
NULL
select doc.address.state
from t1
order by doc;
`doc`.`address`.`state`
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
select doc
from t1
order by doc.address.state, a;
doc
{"id":106,"address":{"zipcode":98766}}
{"id":108,"address":{"zipcode":98768}}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc.address.state
from t1
order by doc;
`doc`.`address`.`state`
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
select t1.doc
from t1
order by doc.address.state, a;
doc
{"id":106,"address":{"zipcode":98766}}
{"id":108,"address":{"zipcode":98768}}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc, doc.address.state
from t1
order by doc;
doc	`doc`.`address`.`state`
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA
{"id":106,"address":{"zipcode":98766}}	NULL
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY
{"id":108,"address":{"zipcode":98768}}	NULL
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA
select doc.address.state, doc
from t1
order by doc;
`doc`.`address`.`state`	doc
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	{"id":106,"address":{"zipcode":98766}}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	{"id":108,"address":{"zipcode":98768}}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc, doc.address.state
from t1
order by doc.address.state, a;
doc	`doc`.`address`.`state`
{"id":106,"address":{"zipcode":98766}}	NULL
{"id":108,"address":{"zipcode":98768}}	NULL
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA
select doc.address.state, doc
from t1
order by doc.address.state, a;
`doc`.`address`.`state`	doc
NULL	{"id":106,"address":{"zipcode":98766}}
NULL	{"id":108,"address":{"zipcode":98768}}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc, t1.doc.address.state
from t1
order by doc;
doc	`doc`.`address`.`state`
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA
{"id":106,"address":{"zipcode":98766}}	NULL
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY
{"id":108,"address":{"zipcode":98768}}	NULL
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA
select t1.doc.address.state, t1.doc
from t1
order by doc;
`doc`.`address`.`state`	doc
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	{"id":106,"address":{"zipcode":98766}}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	{"id":108,"address":{"zipcode":98768}}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc, t1.doc.address.state
from t1
order by doc.address.state, a;
doc	`doc`.`address`.`state`
{"id":106,"address":{"zipcode":98766}}	NULL
{"id":108,"address":{"zipcode":98768}}	NULL
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA
select t1.doc.address.state, t1.doc
from t1
order by doc.address.state, a;
`doc`.`address`.`state`	doc
NULL	{"id":106,"address":{"zipcode":98766}}
NULL	{"id":108,"address":{"zipcode":98768}}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc.address.state
from t1
order by doc, doc.address.state;
`doc`.`address`.`state`
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
select doc.address.state
from t1
order by doc.address.state, doc;
`doc`.`address`.`state`
NULL
NULL
AZ
CA
NY
NY
WA
WA
WA
select doc
from t1
order by doc, doc.address.state;
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":106,"address":{"zipcode":98766}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":108,"address":{"zipcode":98768}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc
from t1
order by doc.address.state, doc;
doc
{"id":106,"address":{"zipcode":98766}}
{"id":108,"address":{"zipcode":98768}}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc.address.state
from t1
order by doc, doc.address.state;
`doc`.`address`.`state`
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
select t1.doc.address.state
from t1
order by doc.address.state, doc;
`doc`.`address`.`state`
NULL
NULL
AZ
CA
NY
NY
WA
WA
WA
select t1.doc
from t1
order by doc, doc.address.state;
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":106,"address":{"zipcode":98766}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":108,"address":{"zipcode":98768}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc
from t1
order by doc.address.state, doc;
doc
{"id":106,"address":{"zipcode":98766}}
{"id":108,"address":{"zipcode":98768}}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc, doc.address.state
from t1
order by doc, doc.address.state;
doc	`doc`.`address`.`state`
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA
{"id":106,"address":{"zipcode":98766}}	NULL
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY
{"id":108,"address":{"zipcode":98768}}	NULL
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA
select doc.address.state, doc
from t1
order by doc, doc.address.state;
`doc`.`address`.`state`	doc
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	{"id":106,"address":{"zipcode":98766}}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	{"id":108,"address":{"zipcode":98768}}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc, doc.address.state
from t1
order by doc.address.state, doc;
doc	`doc`.`address`.`state`
{"id":106,"address":{"zipcode":98766}}	NULL
{"id":108,"address":{"zipcode":98768}}	NULL
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA
select doc.address.state, doc
from t1
order by doc.address.state, doc;
`doc`.`address`.`state`	doc
NULL	{"id":106,"address":{"zipcode":98766}}
NULL	{"id":108,"address":{"zipcode":98768}}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc, t1.doc.address.state
from t1
order by doc, doc.address.state;
doc	`doc`.`address`.`state`
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA
{"id":106,"address":{"zipcode":98766}}	NULL
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY
{"id":108,"address":{"zipcode":98768}}	NULL
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA
select t1.doc.address.state, t1.doc
from t1
order by doc, doc.address.state;
`doc`.`address`.`state`	doc
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
NULL	{"id":106,"address":{"zipcode":98766}}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
NULL	{"id":108,"address":{"zipcode":98768}}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc, t1.doc.address.state
from t1
order by doc.address.state, doc;
doc	`doc`.`address`.`state`
{"id":106,"address":{"zipcode":98766}}	NULL
{"id":108,"address":{"zipcode":98768}}	NULL
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}	AZ
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}	CA
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}	NY
{"id":107,"address":{"zipcode":98767,"state":"NY"}}	NY
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}	WA
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}	WA
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}	WA
select t1.doc.address.state, t1.doc
from t1
order by doc.address.state, doc;
`doc`.`address`.`state`	doc
NULL	{"id":106,"address":{"zipcode":98766}}
NULL	{"id":108,"address":{"zipcode":98768}}
AZ	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
CA	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
NY	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
NY	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
WA	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
WA	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
WA	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc.address.state as state
from t1
order by doc;
state
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
select doc.address.state as state
from t1
order by state, a;
state
NULL
NULL
AZ
CA
NY
NY
WA
WA
WA
select doc.address.state as state
from t1
order by doc.address.state, a;
state
NULL
NULL
AZ
CA
NY
NY
WA
WA
WA
select doc as doc2 
from t1
order by doc.address.state, a;
doc2
{"id":106,"address":{"zipcode":98766}}
{"id":108,"address":{"zipcode":98768}}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc as doc2 
from t1
order by doc2;
doc2
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":106,"address":{"zipcode":98766}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":108,"address":{"zipcode":98768}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc as doc2 
from t1
order by doc;
doc2
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":106,"address":{"zipcode":98766}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":108,"address":{"zipcode":98768}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc.address.state as state
from t1
order by doc;
state
CA
AZ
NY
WA
WA
NULL
NY
NULL
WA
select t1.doc.address.state as state
from t1
order by state, a;
state
NULL
NULL
AZ
CA
NY
NY
WA
WA
WA
select t1.doc.address.state as state
from t1
order by doc.address.state, a;
state
NULL
NULL
AZ
CA
NY
NY
WA
WA
WA
select t1.doc as doc2 
from t1
order by doc.address.state, a;
doc2
{"id":106,"address":{"zipcode":98766}}
{"id":108,"address":{"zipcode":98768}}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc as doc2 
from t1
order by doc2;
doc2
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":106,"address":{"zipcode":98766}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":108,"address":{"zipcode":98768}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select t1.doc as doc2 
from t1
order by doc;
doc2
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":106,"address":{"zipcode":98766}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":108,"address":{"zipcode":98768}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select doc.id
from t5
order by doc2.id;
`doc`.`id`
NULL
104
103
102
101
select t5.doc.id
from t5
order by doc2.id;
`doc`.`id`
NULL
104
103
102
101
select doc2.id
from t5
order by doc.id;
`doc2`.`id`
NULL
204
203
202
201
select t5.doc2.id
from t5
order by doc.id;
`doc2`.`id`
NULL
204
203
202
201
select doc.id
from t5
order by doc.id;
`doc`.`id`
NULL
101
102
103
104
select doc2.id
from t5
order by doc2.id;
`doc2`.`id`
NULL
201
202
203
204
select t5.doc.id
from t5
order by doc.id;
`doc`.`id`
NULL
101
102
103
104
select t5.doc2.id
from t5
order by doc2.id;
`doc2`.`id`
NULL
201
202
203
204
CREATE TABLE t6 (
a int not null,
b char (10) not null,
doc document) engine=innodb;
insert t6 select * from t1;
insert t6 values(0, '@0', null);
insert t6 values(10, '@10', '{ "id":108, "address":{ "zipcode":98768 } }');
insert t6 values(11, '@11', '{ "id":108, "address":{ "zipcode":98768 } }');
insert t6 values(12, '@12', '{ "id":108, "address":{ "zipcode":98768 } }');
select count(*), doc from t6 group by doc;
count(*)	doc
1	NULL
1	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
1	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
1	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
1	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
1	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
1	{"id":106,"address":{"zipcode":98766}}
1	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
4	{"id":108,"address":{"zipcode":98768}}
1	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select count(*), doc.NotExists from t6 group by doc.NotExists;
count(*)	`doc`.`NotExists`
13	NULL
select count(*), doc.address from t6 group by doc.address;
count(*)	`doc`.`address`
1	NULL
1	{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
1	{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
1	{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
2	{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
1	{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
1	{"zipcode":98766}
1	{"zipcode":98767,"state":"NY"}
4	{"zipcode":98768}
select count(*), doc.address.state from t6 group by doc.address.state;
count(*)	`doc`.`address`.`state`
6	NULL
1	AZ
1	CA
2	NY
3	WA
select count(doc), doc from t6 group by doc;
count(doc)	doc
0	NULL
1	{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
1	{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
1	{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
1	{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
1	{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
1	{"id":106,"address":{"zipcode":98766}}
1	{"id":107,"address":{"zipcode":98767,"state":"NY"}}
4	{"id":108,"address":{"zipcode":98768}}
1	{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
select count(doc.NotExists), doc.NotExists from t6 group by doc.NotExists;
count(doc.NotExists)	`doc`.`NotExists`
0	NULL
select count(doc.address), doc.address from t6 group by doc.address;
count(doc.address)	`doc`.`address`
0	NULL
1	{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
1	{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
1	{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
2	{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
1	{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
1	{"zipcode":98766}
1	{"zipcode":98767,"state":"NY"}
4	{"zipcode":98768}
select count(doc.address.state), doc.address.state from t6 group by doc.address.state;
count(doc.address.state)	`doc`.`address`.`state`
0	NULL
1	AZ
1	CA
2	NY
3	WA
drop table t6;
##### Document paths with different types in GROUP BY without HAVING clause (with and without aliases)
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by cast(test.t1.doc.address.state as char);
count(*)	cast(test.t1.doc.address.state as char)
2	NULL
1	AZ
1	CA
2	NY
3	WA
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by 2;
count(*)	cast(test.t1.doc.address.state as char)
2	NULL
1	AZ
1	CA
2	NY
3	WA
select count(*), cast(test.t1.doc.address.state as char) as state
from t1
group by state;
count(*)	state
2	NULL
1	AZ
1	CA
2	NY
3	WA
select cast(test.t1.doc.address.state as char) as state, count(*)
from t1
group by 1;
state	count(*)
NULL	2
AZ	1
CA	1
NY	2
WA	3
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by cast(test.t1.doc.address.state as char) desc;
count(*)	cast(test.t1.doc.address.state as char)
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by 2 desc;
count(*)	cast(test.t1.doc.address.state as char)
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), cast(test.t1.doc.address.state as char) as state
from t1
group by state desc;
count(*)	state
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by cast(test.t1.doc.address.state as char)
order by cast(test.t1.doc.address.state as char) desc;
count(*)	cast(test.t1.doc.address.state as char)
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by 2
order by 2 desc;
count(*)	cast(test.t1.doc.address.state as char)
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), cast(test.t1.doc.address.state as char) as state
from t1
group by state
order by state desc;
count(*)	state
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), cast(test.t1.doc.address.state as char) as state
from t1
group by 2
order by 2 desc;
count(*)	state
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), cast(test.t1.doc.address.state as char)
from t1
group by cast(test.t1.doc.address.state as char)
order by cast(test.t1.doc.address.state as char) desc;
count(*)	cast(test.t1.doc.address.state as char)
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), cast(test.t1.doc.address.state as char) as state
from t1
group by state
order by state desc;
count(*)	state
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), test.t1.doc.address.state as state
from t1
group by cast(state as char);
count(*)	state
2	NULL
1	AZ
1	CA
2	NY
3	WA
select count(*), test.t1.doc.address.state as state
from t1
group by cast(state as char) desc;
count(*)	state
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), test.t1.doc.address.state as state
from t1
group by cast(state as char)
order by cast(state as char);
count(*)	state
2	NULL
1	AZ
1	CA
2	NY
3	WA
select count(*), test.t1.doc.address.state as state
from t1
group by cast(state as char)
order by cast(state as char) desc;
count(*)	state
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), test.t1.doc.address.zipcode as zipcode
from t1
group by cast(zipcode as char);
count(*)	zipcode
1	98761
1	98762
1	98763
2	98764
1	98765
1	98766
1	98767
1	98768
select count(*), test.t1.doc.address.zipcode as zipcode
from t1
group by cast(zipcode as char) desc;
count(*)	zipcode
1	98768
1	98767
1	98766
1	98765
2	98764
1	98763
1	98762
1	98761
select count(*), test.t1.doc.address.zipcode as zipcode
from t1
group by cast(zipcode as unsigned)
order by cast(zipcode as unsigned);
count(*)	zipcode
1	98761
1	98762
1	98763
2	98764
1	98765
1	98766
1	98767
1	98768
select count(*), test.t1.doc.address.zipcode as zipcode
from t1
group by cast(zipcode as unsigned)
order by cast(zipcode as unsigned) desc;
count(*)	zipcode
1	98768
1	98767
1	98766
1	98765
2	98764
1	98763
1	98762
1	98761
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.state;
count(*)	`doc`.`address`.`state`
2	NULL
1	AZ
1	CA
2	NY
3	WA
select count(*), test.t1.doc.address.state as state
from t1
group by state;
count(*)	state
2	NULL
1	AZ
1	CA
2	NY
3	WA
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.state desc;
count(*)	`doc`.`address`.`state`
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), test.t1.doc.address.state as state
from t1
group by state desc;
count(*)	state
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.state
order by test.t1.doc.address.state desc;
count(*)	`doc`.`address`.`state`
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*), test.t1.doc.address.state
from t1
group by 2
order by 2 desc;
count(*)	`doc`.`address`.`state`
3	WA
2	NY
1	CA
1	AZ
2	NULL
select test.t1.doc.address.state, count(*)
from t1
group by 1
order by 1 desc;
`doc`.`address`.`state`	count(*)
WA	3
NY	2
CA	1
AZ	1
NULL	2
select * from (
select test.t1.doc.address.state, count(*)
from t1
group by 1
order by 1 desc)
as tmp;
`doc`.`address`.`state`	count(*)
WA	3
NY	2
CA	1
AZ	1
NULL	2
select count(*), test.t1.doc.address.state as state
from t1
group by state
order by state desc;
count(*)	state
3	WA
2	NY
1	CA
1	AZ
2	NULL
select count(*) as total, test.t1.doc.address.state
from t1
group by cast(test.t1.doc.address.state as char)
having total > 1;
total	`doc`.`address`.`state`
2	NULL
2	NY
3	WA
select count(*) as total, test.t1.doc.address.state
from t1
group by cast(test.t1.doc.address.state as char) desc
having total >= 2;
total	`doc`.`address`.`state`
3	WA
2	NY
2	NULL
select count(*) as total, test.t1.doc.address.state
from t1
group by cast(test.t1.doc.address.state as char)
having total > 1
order by cast(test.t1.doc.address.state as char) desc;
total	`doc`.`address`.`state`
3	WA
2	NY
2	NULL
select count(*) as total, test.t1.doc.address.state
from t1
group by test.t1.doc.address.state
having total >= 2;
total	`doc`.`address`.`state`
2	NULL
2	NY
3	WA
select count(*) as total, test.t1.doc.address.state
from t1
group by 2
having total >= 2;
total	`doc`.`address`.`state`
2	NULL
2	NY
3	WA
select count(*) as total, test.t1.doc.address.state as state
from t1
group by state
having total >= 2;
total	state
2	NULL
2	NY
3	WA
select count(*) as total, test.t1.doc.address.state
from t1
group by test.t1.doc.address.state desc
having total > 1;
total	`doc`.`address`.`state`
3	WA
2	NY
2	NULL
select test.t1.doc.address.state, count(*) as total
from t1
group by 1 desc
having total > 1;
`doc`.`address`.`state`	total
WA	3
NY	2
NULL	2
select count(*) as total, test.t1.doc.address.state as state
from t1
group by state desc
having total > 1;
total	state
3	WA
2	NY
2	NULL
select count(*) as total, test.t1.doc.address.state
from t1
group by test.t1.doc.address.state
having total >= 2
order by test.t1.doc.address.state desc;
total	`doc`.`address`.`state`
3	WA
2	NY
2	NULL
select count(*) as total, test.t1.doc.address.state
from t1
group by 2
having total >= 2
order by 2 desc;
total	`doc`.`address`.`state`
3	WA
2	NY
2	NULL
select count(*) as total, test.t1.doc.address.state as state
from t1
group by state
having total >= 2
order by state desc;
total	state
3	WA
2	NY
2	NULL
select test.t1.doc.address.state as state, count(*) as total
from t1
group by 1
having total >= 2
order by 1 desc;
state	total
WA	3
NY	2
NULL	2
select doc.id, a from t3 group by doc.id;
`doc`.`id`	a
1	1
22	2
3333	3
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444	4
show warnings;
Level	Code	Message
##### Document paths with different types in GROUP BY with HAVING clause (with and without aliases)
select count(*), test.t1.doc.address.state
from t1
group by t1.doc.address.zipcode
having doc.address.zipcode = 98761;
count(*)	`doc`.`address`.`state`
1	CA
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.state
having test.t1.doc.address.state like "NY";
count(*)	`doc`.`address`.`state`
2	NY
select count(*), test.t1.doc.address.state
from t1
group by 2
having test.t1.doc.address.state like "NY";
count(*)	`doc`.`address`.`state`
2	NY
select count(*), doc.address.state
from t1
group by doc.address.state
having test.t1.doc.address.state like "NY";
count(*)	`doc`.`address`.`state`
2	NY
select count(*), doc.address.state
from t1
group by doc.address.state
having doc.address.state like "NY";
count(*)	`doc`.`address`.`state`
2	NY
select count(*), t1.doc.address.state
from t1
group by doc.address.state
having test.t1.doc.address.state like "NY";
count(*)	`doc`.`address`.`state`
2	NY
select count(*), doc.address.state
from t1
group by t1.doc.address.state
having test.t1.doc.address.state like "NY";
count(*)	`doc`.`address`.`state`
2	NY
select count(*), doc.address.state
from t1
group by t1.doc.address.state
having doc.address.state like "NY";
count(*)	`doc`.`address`.`state`
2	NY
select count(*), test.t1.doc.address.state as state
from t1
group by state
having state like "NY";
count(*)	state
2	NY
select count(*), test.t1.doc.address.zipcode
from t1
group by test.t1.doc.address.zipcode
having test.t1.doc.address.zipcode = 98761;
count(*)	`doc`.`address`.`zipcode`
1	98761
select test.t1.doc.address.zipcode, count(*)
from t1
group by 1
having test.t1.doc.address.zipcode = 98761;
`doc`.`address`.`zipcode`	count(*)
98761	1
select test.t1.doc.address.zipcode, count(*)
from t1
group by 1
having doc.address.zipcode = 98761;
`doc`.`address`.`zipcode`	count(*)
98761	1
select count(*), test.t1.doc.address.zipcode as zipcode
from t1
group by zipcode
having zipcode = 98761;
count(*)	zipcode
1	98761
select count(*), doc.address.zipcode
from t1
group by doc.address.zipcode
having test.t1.doc.address.zipcode = 98761;
count(*)	`doc`.`address`.`zipcode`
1	98761
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.zipcode
having test.t1.doc.address.zipcode = 98761;
count(*)	`doc`.`address`.`state`
1	CA
select count(*), t1.doc.address.state
from t1
group by doc.address.zipcode
having test.t1.doc.address.zipcode = 98761;
count(*)	`doc`.`address`.`state`
1	CA
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.zipcode
having test.t1.doc.address.zipcode = 98768;
count(*)	`doc`.`address`.`state`
1	NULL
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.zipcode
having t1.doc.address.zipcode = 98768;
count(*)	`doc`.`address`.`state`
1	NULL
select count(*), test.t1.doc.address.state, test.t1.doc.address.zipcode
from t1
group by test.t1.doc.address.zipcode
having test.t1.doc.address.zipcode = 98761;
count(*)	`doc`.`address`.`state`	`doc`.`address`.`zipcode`
1	CA	98761
select count(*), test.t1.doc.address.state, test.t1.doc.address.zipcode
from t1
group by 3
having test.t1.doc.address.zipcode = 98761;
count(*)	`doc`.`address`.`state`	`doc`.`address`.`zipcode`
1	CA	98761
select count(*), test.t1.doc.address.state, test.t1.doc.address.zipcode
from t1
group by 3
having doc.address.zipcode = 98761;
count(*)	`doc`.`address`.`state`	`doc`.`address`.`zipcode`
1	CA	98761
select count(*), doc.address.state, doc.address.zipcode
from t1
group by doc.address.zipcode
having test.t1.doc.address.zipcode = 98761;
count(*)	`doc`.`address`.`state`	`doc`.`address`.`zipcode`
1	CA	98761
select count(*), test.t1.doc.address.state as state, test.t1.doc.address.zipcode as zipcode
from t1
group by state
having state like "NY";
count(*)	state	zipcode
2	NY	98763
select count(*), test.t1.doc.address.state as state, test.t1.doc.address.zipcode as zipcode
from t1
group by zipcode
having zipcode = 98761;
count(*)	state	zipcode
1	CA	98761
select count(*), test.t1.doc.address.state as state, test.t1.doc.address.zipcode as zipcode
from t1
group by 3
having zipcode = 98761;
count(*)	state	zipcode
1	CA	98761
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.zipcode
having cast(test.t1.doc.address.zipcode as char) like '98761';
count(*)	`doc`.`address`.`state`
1	CA
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.zipcode
having cast(test.t1.doc.address.zipcode as char) like '98768';
count(*)	`doc`.`address`.`state`
1	NULL
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.zipcode
having cast(t1.doc.address.zipcode as char) like '98761';
count(*)	`doc`.`address`.`state`
1	CA
select count(*), test.t1.doc.address.state
from t1
group by test.t1.doc.address.zipcode
having cast(doc.address.zipcode as char) like '98761';
count(*)	`doc`.`address`.`state`
1	CA
select doc.id, a from t3 group by doc.id having doc.id > 4444444444444444;
`doc`.`id`	a
44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444	4
Warnings:
Warning	1292	Truncated incorrect DOUBLE value: '44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444'
show warnings;
Level	Code	Message
Warning	1292	Truncated incorrect DOUBLE value: '44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444'
##### General cases with JOIN, ORDER BY, SUB QUERY, etc.
select t1.a, t1.doc.address.zipcode, t2.a2, t2.doc2.address.zipcode
from t2 left join t1
on cast(t1.doc.address.zipcode as unsigned) = cast(t2.doc2.address.zipcode as unsigned);
a	`doc`.`address`.`zipcode`	a2	`doc2`.`address`.`zipcode`
1	98761	10	98761
2	98762	8	98762
3	98763	3	98763
4	98764	5	98764
9	98764	5	98764
select t1.a, t1.doc.address.zipcode, t2.a2, t2.doc2.address.zipcode
from t1, t2
where t1.doc.address.zipcode like t2.doc2.address.zipcode;
a	`doc`.`address`.`zipcode`	a2	`doc2`.`address`.`zipcode`
1	98761	10	98761
2	98762	8	98762
3	98763	3	98763
4	98764	5	98764
9	98764	5	98764
select t1.a, t1.doc.address.zipcode, t2.a2, t2.doc2.address.zipcode
from t2 right join t1
on cast(t1.doc.address.zipcode as unsigned) = cast(t2.doc2.address.zipcode as unsigned)
order by cast(t1.doc.address.zipcode as unsigned) asc, t1.a;
a	`doc`.`address`.`zipcode`	a2	`doc2`.`address`.`zipcode`
1	98761	10	98761
2	98762	8	98762
3	98763	3	98763
4	98764	5	98764
9	98764	5	98764
5	98765	NULL	NULL
6	98766	NULL	NULL
7	98767	NULL	NULL
8	98768	NULL	NULL
select t1.a, t1.doc.address.zipcode, t2.a2, t2.doc2.address.zipcode
from t2 right join t1
on t1.doc.address.zipcode like t2.doc2.address.zipcode
order by t1.doc.address.zipcode desc, t1.a, t2.a2;
a	`doc`.`address`.`zipcode`	a2	`doc2`.`address`.`zipcode`
8	98768	NULL	NULL
7	98767	NULL	NULL
6	98766	NULL	NULL
5	98765	NULL	NULL
4	98764	5	98764
9	98764	5	98764
3	98763	3	98763
2	98762	8	98762
1	98761	10	98761
##### General cases with JOIN, ORDER BY, SUB QUERY, etc.
select t1_name, t1_zipcode, t2_name, t2_zipcode
from (
select cast(t1.doc.name as char) as t1_name, cast(t1.doc.address.zipcode as unsigned) as t1_zipcode,
cast(t2.doc2.name as char) as t2_name, cast(t2.doc2.address.zipcode as unsigned) as t2_zipcode
from t1, t2
where cast(t1.doc.address.zipcode as unsigned) = cast(t2.doc2.address.zipcode as unsigned)
) as tmp
where t1_zipcode = 98761 or t2_zipcode = 98762;
t1_name	t1_zipcode	t2_name	t2_zipcode
Alex	98761	Alex II	98761
Bob	98762	Bob II	98762
select tmp.doc.id
from (
select doc
from t1
where t1.a >= 4
) as tmp;
`doc`.`id`
104
105
108
107
106
109
select tmp.doc.id
from (
select doc
from t1
where t1.a >= 4
) as tmp
where tmp.doc.id < 106;
`doc`.`id`
104
105
select doc.Children.0
from (
select a, doc.Children
from t1
) as tmp where json_contains_key(doc.Children, 0);
`doc`.`Children`.`0`
Alex
select tmp.t1_address.houseNumber, t1_address.zipcode, id
from (
select t1.doc.address as t1_address,
t1.doc.id as id
from t1
order by t1.doc.id desc
) as tmp
where t1_address.zipcode < 98764;
`t1_address`.`houseNumber`	`t1_address`.`zipcode`	id
1003	98763	103
1002	98762	102
1001	98761	101
select t1_name, tmp.t1_zipcode, t2_name, t2_zipcode
from (
select t1.doc.name as t1_name, t1.doc.address.zipcode as t1_zipcode,
t2.doc2.name as t2_name, t2.doc2.address.zipcode as t2_zipcode
from t1, t2
where t1.doc.address.zipcode = t2.doc2.address.zipcode
) as tmp
where t1_zipcode = 98761 or tmp.t2_zipcode = 98762;
t1_name	t1_zipcode	t2_name	t2_zipcode
Alex	98761	Alex II	98761
Bob	98762	Bob II	98762
select t1_zipcode
from (
select t1_addr.zipcode as t1_zipcode,
t1_id, t1_addr
from (
select t1.doc.address as t1_addr, t1.doc.id as t1_id
from t1 order by t1.doc.id desc
) as tmp1
) as tmp2;
t1_zipcode
98764
98768
98767
98766
98765
98764
98763
98762
98761
insert into t1 values(10,'@10','{"id":110, "k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}');
select t_k3.k4
from (
select t_k2.k3 as t_k3
from (select t_k1.k2 as t_k2
from (
select doc.k1 as t_k1
from t1
) as tmp1
) as tmp2
) as tmp3;
`t_k3`.`k4`
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
NULL
[1,2,3,4]
select t2.doc2.id, t1.doc.address as addr, t1.doc.name, t2.doc2.name
from t1 inner join
t2 on t2.doc2.id = t1.doc.id;
`doc2`.`id`	addr	`doc`.`name`	`doc2`.`name`
104	{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}	Don	Charlie II
105	{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}	Evan	Alex II
108	{"zipcode":98768}	NULL	Bob II
106	{"zipcode":98766}	NULL	Don II
select addr.zipcode from (
select t2.doc2.id, t1.doc.address as addr, t1.doc.name, t2.doc2.name
from t1
inner join t2
on t2.doc2.id = t1.doc.id
) as tmp;
`addr`.`zipcode`
98764
98765
98768
98766
CREATE TABLE t7 (doc_id int, a int, name char(100));
insert into t7 values(101, 1, 'Alex'),
(102, 2, 'Bob'),
(103, 3, 'Charlie'),
(104, 4, 'Evan'),
(105, 5, 'Linda');
select t7.a, t1.a, t1.doc.name, t7.name
from t1
join t7 on t7.name = t1.doc.name;
a	a	`doc`.`name`	name
1	1	Alex	Alex
2	2	Bob	Bob
3	3	Charlie	Charlie
4	5	Evan	Evan
5	9	Linda	Linda
select t7.a, t1.a, t1.doc.name, t7.name
from t1
join t7 on t7.doc_id = t1.doc.id;
a	a	`doc`.`name`	name
1	1	Alex	Alex
2	2	Bob	Bob
3	3	Charlie	Charlie
4	4	Don	Evan
5	5	Evan	Linda
drop table t7;
insert into t3 values(6, '@6', '{"id":"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX","name":"Super Big"}');
select tmp.doc_id
from (
select t3.doc.id as doc_id
from t3
where t3.doc.name = "Super Big"
) as tmp;
doc_id
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
create table t6 (
a int not null,
doc document not null) engine=innodb;
select count(*)
from (
select t6.doc.id as id
from t6
where t6.a > 1000
) as tmp;
count(*)
9000
select t1_zipcode, t1_addr
from (
select t1_addr.zipcode as t1_zipcode, t1_id, t1_addr
from (
select t1.doc.address as t1_addr, t1.doc.id as t1_id
from t1 order by t1.doc.id desc
) as tmp1)
as tmp2;
t1_zipcode	t1_addr
NULL	NULL
98764	{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
98768	{"zipcode":98768}
98767	{"zipcode":98767,"state":"NY"}
98766	{"zipcode":98766}
98765	{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
98764	{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
98763	{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
98762	{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
98761	{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
select doc.address.state, addr.state from (
select doc.address.state, doc.address as addr
from t1
) as tmp1;
`doc`.`address`.`state`	`addr`.`state`
CA	CA
AZ	AZ
NY	NY
WA	WA
WA	WA
NULL	NULL
NY	NY
NULL	NULL
WA	WA
NULL	NULL
select count(doc.address.state) from (
select doc.address
from t1
) as tmp;
count(doc.address.state)
7
select count(*), test.t1.doc.address
from t1
group by test.t1.doc.address
having test.t1.doc.address.state = "NY";
count(*)	`doc`.`address`
1	{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
1	{"zipcode":98767,"state":"NY"}
select `count(*)`, id, addr.state
from (
select count(*), test.t1.doc.id as id, test.t1.doc.address as addr
from t1
group by test.t1.doc.address
having test.t1.doc.address.state = "NY" or test.t1.doc.id = 106) as tmp;
count(*)	id	`addr`.`state`
1	103	NY
1	106	NULL
1	107	NY
drop table t6;
##### Document paths with different types in UNION, UNION ALL, UNION DISTINCT 
CREATE TABLE t6 (
a int not null,
b char (10) not null,
doc document not null) engine=innodb;
insert into t6 values (1,'@1','{ "id":101, "name":"Alex II", "phone":6507770001, "address":{ "houseNumber":1001, "streetName":"1st", "zipcode":98761, "state":"CA" } }');
insert into t6 values (2,'@2','{ "id":102, "name":"Bob II", "phone":6507770002, "address":{ "houseNumber":1002, "streetName":"2nd", "zipcode":98762, "state":"AZ" } }');
insert into t6 values (3,'@3','{ "id":103, "name":"Charlie II", "phone":6507770003, "address":{ "houseNumber":1003, "streetName":"3rd", "zipcode":98763, "state":"NY" } }');
insert into t6 values (4,'@4','{ "id":104, "name":"Don II", "phone":6507770004, "address":{ "houseNumber":1004, "streetName":"4th", "zipcode":98764, "state":"WA" }, "Children":["Alex", "Bob", "Charlei"] }');
(select doc from t1) UNION (select 'foo');
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
foo
(select 'foo') UNION (select doc from t1);
foo
foo
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION DISTINCT (select 'foo');
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
foo
(select 'foo') UNION DISTINCT (select doc from t1);
foo
foo
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION ALL (select 'foo');
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
foo
(select 'foo') UNION ALL (select doc from t1);
foo
foo
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION (select '{"id":106,"address":{"zipcode":98766}}');
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select '{"id":106,"address":{"zipcode":98766}}') UNION (select doc from t1);
{"id":106,"address":{"zipcode":98766}}
{"id":106,"address":{"zipcode":98766}}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION DISTINCT (select '{"id":106,"address":{"zipcode":98766}}');
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select '{"id":106,"address":{"zipcode":98766}}') UNION DISTINCT (select doc from t1);
{"id":106,"address":{"zipcode":98766}}
{"id":106,"address":{"zipcode":98766}}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION ALL (select '{"id":106,"address":{"zipcode":98766}}');
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
{"id":106,"address":{"zipcode":98766}}
(select '{"id":106,"address":{"zipcode":98766}}') UNION ALL (select doc from t1);
{"id":106,"address":{"zipcode":98766}}
{"id":106,"address":{"zipcode":98766}}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION (select DOCUMENT('{"foo": ["bar", 1, 0.1, []]}'));
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
{"foo":["bar",1,0.1,[]]}
(select DOCUMENT('{"foo": ["bar", 1, 0.1, []]}')) UNION (select doc from t1);
DOCUMENT('{"foo": ["bar", 1, 0.1, []]}')
{"foo":["bar",1,0.1,[]]}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION DISTINCT (select DOCUMENT('{"foo": ["bar", 1, 0.1, []]}'));
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
{"foo":["bar",1,0.1,[]]}
(select DOCUMENT('{"foo": ["bar", 1, 0.1, []]}')) UNION DISTINCT (select doc from t1);
DOCUMENT('{"foo": ["bar", 1, 0.1, []]}')
{"foo":["bar",1,0.1,[]]}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION ALL (select DOCUMENT('{"foo": ["bar", 1, 0.1, []]}'));
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
{"foo":["bar",1,0.1,[]]}
(select DOCUMENT('{"foo": ["bar", 1, 0.1, []]}')) UNION ALL (select doc from t1);
DOCUMENT('{"foo": ["bar", 1, 0.1, []]}')
{"foo":["bar",1,0.1,[]]}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION (select DOCUMENT('{"id":106,"address":{"zipcode":98766}}'));
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select DOCUMENT('{"id":106,"address":{"zipcode":98766}}')) UNION (select doc from t1);
DOCUMENT('{"id":106,"address":{"zipcode":98766}}')
{"id":106,"address":{"zipcode":98766}}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION DISTINCT (select DOCUMENT('{"id":106,"address":{"zipcode":98766}}'));
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select DOCUMENT('{"id":106,"address":{"zipcode":98766}}')) UNION DISTINCT (select doc from t1);
DOCUMENT('{"id":106,"address":{"zipcode":98766}}')
{"id":106,"address":{"zipcode":98766}}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION ALL (select DOCUMENT('{"id":106,"address":{"zipcode":98766}}'));
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
{"id":106,"address":{"zipcode":98766}}
(select DOCUMENT('{"id":106,"address":{"zipcode":98766}}')) UNION ALL (select doc from t1);
DOCUMENT('{"id":106,"address":{"zipcode":98766}}')
{"id":106,"address":{"zipcode":98766}}
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION (select 42);
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
42
(select 42) UNION (select doc from t1);
42
42
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION DISTINCT (select 42);
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
42
(select 42) UNION DISTINCT (select doc from t1);
42
42
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION ALL (select 42);
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
42
(select 42) UNION ALL (select doc from t1);
42
42
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION (select 3.1415926);
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
3.1415926
(select 3.1415926) UNION (select doc from t1);
3.1415926
3.1415926
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION DISTINCT (select 3.1415926);
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
3.1415926
(select 3.1415926) UNION DISTINCT (select doc from t1);
3.1415926
3.1415926
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION ALL (select 3.1415926);
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
3.1415926
(select 3.1415926) UNION ALL (select doc from t1);
3.1415926
3.1415926
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION (select DATE '2015-07-15');
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
2015-07-15
(select DATE '2015-07-15') UNION (select doc from t1);
DATE '2015-07-15'
2015-07-15
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION DISTINCT (select DATE '2015-07-15');
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
2015-07-15
(select DATE '2015-07-15') UNION DISTINCT (select doc from t1);
DATE '2015-07-15'
2015-07-15
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc from t1) UNION ALL (select DATE '2015-07-15');
doc
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
2015-07-15
(select DATE '2015-07-15') UNION ALL (select doc from t1);
DATE '2015-07-15'
2015-07-15
{"id":101,"name":"Alex","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"},"intstr":"1001","dt":"1001"}
{"id":102,"name":"Bob","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"},"int64":2222222220123456789,"intstr":"1002","dt":"0123456789ABCDEFGHIGKLMNOPQRSTUVWXYZ0123456789"}
{"id":103,"name":"Charlie","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"},"double":3.94065645841246,"dt":"2014-11-01"}
{"id":104,"name":"Don","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":105,"name":"Evan","phone":6507770005,"address":{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"},"dt":"2014-11-11 11:59:59"}
{"id":108,"address":{"zipcode":98768}}
{"id":107,"address":{"zipcode":98767,"state":"NY"}}
{"id":106,"address":{"zipcode":98766}}
{"id":109,"name":"Linda","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}}
{"id":110,"k1":{"k2":{"k3":{"k4":[1,2,3,4]}}}}
(select doc2 from t2) UNION (select a from t5);
doc2
{"id":105,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":108,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":106,"name":"Don II","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
1
2
3
4
5
(select a2 from t2) UNION (select doc from t5);
a2
10
8
3
5
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Don II","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"x0":[100,200,300]}
(select doc from t5) UNION (select doc from t6);
doc
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Don II","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"x0":[100,200,300]}
(select doc from t5) UNION DISTINCT (select doc from t6);
doc
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Don II","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"x0":[100,200,300]}
(select doc from t5) UNION ALL (select doc from t6);
doc
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Don II","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"x0":[100,200,300]}
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Don II","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
(select doc2 from t2 ORDER BY doc2 LIMIT 3) UNION (select doc from t6 ORDER BY doc LIMIT 3);
doc2
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":105,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":106,"name":"Don II","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
(select doc2 from t2 ORDER BY doc2 LIMIT 3) UNION DISTINCT (select doc from t6 ORDER BY doc LIMIT 3);
doc2
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":105,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":106,"name":"Don II","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
(select doc2 from t2 ORDER BY doc2 LIMIT 3) UNION ALL (select doc from t6 ORDER BY doc LIMIT 3);
doc2
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":105,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":106,"name":"Don II","phone":6507770004,"address":{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"},"Children":["Alex","Bob","Charlei"]}
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
(select doc2 from t2) UNION (select doc from t6) ORDER BY doc2 LIMIT 4;
doc2
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
(select doc2 from t2) UNION DISTINCT (select doc from t6) ORDER BY doc2 LIMIT 4 ;
doc2
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
(select doc2 from t2) UNION ALL (select doc from t6) ORDER BY doc2 LIMIT 4;
doc2
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
(select doc2 as doc3 from t2) UNION (select doc from t6) ORDER BY doc3 LIMIT 4;
doc3
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
(select doc2 as doc3 from t2) UNION DISTINCT (select doc from t6) ORDER BY doc3 LIMIT 4 ;
doc3
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
(select doc2 as doc3 from t2) UNION ALL (select doc from t6) ORDER BY doc3 LIMIT 4;
doc3
{"id":101,"name":"Alex II","phone":6507770001,"address":{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}}
{"id":102,"name":"Bob II","phone":6507770002,"address":{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}}
{"id":103,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
{"id":104,"name":"Charlie II","phone":6507770003,"address":{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}}
(select doc.id from t1) UNION (select 'foo');
`doc`.`id`
101
102
103
104
105
108
107
106
109
110
foo
(select doc.id from t1) UNION DISTINCT (select 'foo');
`doc`.`id`
101
102
103
104
105
108
107
106
109
110
foo
(select doc.id from t1) UNION ALL (select 'foo');
`doc`.`id`
101
102
103
104
105
108
107
106
109
110
foo
(select doc.address from t1) UNION (select doc.address from t1);
`doc`.`address`
{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
{"zipcode":98768}
{"zipcode":98767,"state":"NY"}
{"zipcode":98766}
NULL
(select doc.address from t1) UNION (select '{"zipcode":98767,"state":"NY"}');
`doc`.`address`
{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
{"zipcode":98768}
{"zipcode":98767,"state":"NY"}
{"zipcode":98766}
NULL
select doc.address from (
(select doc.address from t1)
UNION
(select doc.address from t1)
) as tmp;
`doc`.`address`
{"houseNumber":1001,"streetName":"1st","zipcode":98761,"state":"CA"}
{"houseNumber":1002,"streetName":"2nd","zipcode":98762,"state":"AZ"}
{"houseNumber":1003,"streetName":"3rd","zipcode":98763,"state":"NY"}
{"houseNumber":1004,"streetName":"4th","zipcode":98764,"state":"WA"}
{"houseNumber":1005,"streetName":"5th","zipcode":98765,"state":"WA"}
{"zipcode":98768}
{"zipcode":98767,"state":"NY"}
{"zipcode":98766}
NULL
select doc.address.state from (
(select doc.address from t1)
UNION
(select doc.address from t1)
) as tmp;
ERROR 42S22: Unknown column '`doc`.`address`.`state`' in 'field list'
##### Clean up
SET @@global.allow_document_type = @start_allow_document_type;
SELECT @@global.allow_document_type;
@@global.allow_document_type
1
drop table t1, t2, t3, t4, t5, t6;
include/rpl_end.inc

DROP TABLE if exists t1;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY AUTO_INCREMENT, b VARCHAR(256)) ENGINE=INNODB;
INSERT INTO t1 VALUES (0, REPEAT('a',256));
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
select IO_WRITE_BYTES > (16384 * 800), IO_WRITE_REQUESTS > 800, IO_WRITE_WAIT_USECS > IO_WRITE_SVC_USECS, IO_WRITE_SLOW_IOS from information_schema.table_statistics where table_name = 't1';
IO_WRITE_BYTES > (16384 * 800)	IO_WRITE_REQUESTS > 800	IO_WRITE_WAIT_USECS > IO_WRITE_SVC_USECS	IO_WRITE_SLOW_IOS
1	1	1	0
select INNODB_PAGES_WRITTEN > 800, INNODB_PAGES_WRITTEN_INDEX > 800, INNODB_PAGES_WRITTEN_BLOB from information_schema.table_statistics where table_name = 't1';
INNODB_PAGES_WRITTEN > 800	INNODB_PAGES_WRITTEN_INDEX > 800	INNODB_PAGES_WRITTEN_BLOB
1	1	0
SELECT COUNT(*) FROM t1 WHERE a = 1;
COUNT(*)
1
select * from t1;
select count(*) from t1;
count(*)
65536
# Verify innodb_buffered_aio_submitted: expect 1151 asynchronous I/O calls submitted from previous queries
Innodb_buffered_aio_submitted
1151
# Verify IO_READ_* stats: expect (16384 * 1246) bytes read and 1246 read requests
IO_READ_BYTES	IO_READ_REQUESTS	IO_READ_SVC_USECS < IO_READ_WAIT_USECS	IO_READ_SVC_USECS_MAX < IO_READ_WAIT_USECS_MAX	IO_READ_SLOW_IOS
1	1	1	1	0
# Verify INNODB_PAGES_* stats: expect 1246 InnoDB pages read and 1213 InnoDB index pages read and 0 InnoDB blob pages read
INNODB_PAGES_READ	INNODB_PAGES_READ_INDEX	INNODB_PAGES_READ_BLOB
1	1	0
DROP TABLE t1;

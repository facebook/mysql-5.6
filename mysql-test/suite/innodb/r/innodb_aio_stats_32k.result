DROP TABLE if exists t1;
CREATE TABLE t1 (a INT NOT NULL PRIMARY KEY AUTO_INCREMENT, b VARCHAR(256)) ENGINE=INNODB;
INSERT INTO t1 VALUES (0, REPEAT('a',256));
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
INSERT INTO t1 SELECT 0, b FROM t1;
select IO_WRITE_BYTES > (32768 * 400), IO_WRITE_REQUESTS > 400, IO_WRITE_WAIT_USECS > IO_WRITE_SVC_USECS, IO_WRITE_SLOW_IOS from information_schema.table_statistics where table_name = 't1';
IO_WRITE_BYTES > (32768 * 400)	IO_WRITE_REQUESTS > 400	IO_WRITE_WAIT_USECS > IO_WRITE_SVC_USECS	IO_WRITE_SLOW_IOS
1	1	1	0
select INNODB_PAGES_WRITTEN > 400, INNODB_PAGES_WRITTEN_INDEX > 400, INNODB_PAGES_WRITTEN_BLOB from information_schema.table_statistics where table_name = 't1';
INNODB_PAGES_WRITTEN > 400	INNODB_PAGES_WRITTEN_INDEX > 400	INNODB_PAGES_WRITTEN_BLOB
1	1	0
select * from t1;
select count(*) from t1;
count(*)
65536
# Verify innodb_buffered_aio_submitted: expect 575 asynchronous I/O calls submitted from previous queries
Innodb_buffered_aio_submitted
575
# Verify IO_READ_* stats: expect (32768 * 637)-(32768 * 638) bytes read and 637-638 read requests
IO_READ_BYTES_LO	IO_READ_BYTES_HI	IO_READ_REQUESTS_LO	IO_READ_REQUESTS_HI	IO_READ_SVC_USECS < IO_READ_WAIT_USECS	IO_READ_SVC_USECS_MAX < IO_READ_WAIT_USECS_MAX	IO_READ_SLOW_IOS
1	1	1	1	1	1	0
# Verify INNODB_PAGES_* stats: expect 637-638 InnoDB pages read and 609 InnoDB index pages read and 0 InnoDB blob pages read
INNODB_PAGES_READ_LO	INNODB_PAGES_READ_HI	INNODB_PAGES_READ_INDEX	INNODB_PAGES_READ_BLOB
1	1	1	0
DROP TABLE t1;

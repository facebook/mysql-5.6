SET @original_val = @@global.per_user_session_var_default_val;
SELECT @original_val;
@original_val
NULL
SELECT @@GLOBAL.per_user_session_var_default_val = VARIABLE_VALUE
FROM INFORMATION_SCHEMA.GLOBAL_VARIABLES
WHERE VARIABLE_NAME='per_user_session_var_default_val';
@@GLOBAL.per_user_session_var_default_val = VARIABLE_VALUE
NULL
SELECT @@SESSION.per_user_session_var_default_val;
ERROR HY000: Variable 'per_user_session_var_default_val' is a GLOBAL variable
SET SESSION per_user_session_var_default_val = "";
ERROR HY000: Variable 'per_user_session_var_default_val' is a GLOBAL variable and should be set with SET GLOBAL
SELECT @@GLOBAL.per_user_session_var_default_val;
@@GLOBAL.per_user_session_var_default_val
NULL
## default value is NULL
SET GLOBAL per_user_session_var_default_val = DEFAULT;
SELECT @@GLOBAL.per_user_session_var_default_val;
@@GLOBAL.per_user_session_var_default_val
NULL
## NULL is a valid value
SET GLOBAL per_user_session_var_default_val = NULL;
SELECT @@GLOBAL.per_user_session_var_default_val;
@@GLOBAL.per_user_session_var_default_val
NULL
## "" is a valid value
SET GLOBAL per_user_session_var_default_val = "";
SELECT @@GLOBAL.per_user_session_var_default_val;
@@GLOBAL.per_user_session_var_default_val

##
## invalid values
##
SET GLOBAL per_user_session_var_default_val = " ";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of ' '
SET GLOBAL per_user_session_var_default_val = " ";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of ' '
SET GLOBAL per_user_session_var_default_val = ":";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of ':'
SET GLOBAL per_user_session_var_default_val = "=";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of '='
SET GLOBAL per_user_session_var_default_val = ",";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of ','
SET GLOBAL per_user_session_var_default_val = ";";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of ';'
SET GLOBAL per_user_session_var_default_val = "\"";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of '"'
SET GLOBAL per_user_session_var_default_val = "'";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of '''
SET GLOBAL per_user_session_var_default_val = "u";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u'
SET GLOBAL per_user_session_var_default_val = " u";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of ' u'
SET GLOBAL per_user_session_var_default_val = "u ";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u '
SET GLOBAL per_user_session_var_default_val = "u :";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u :'
SET GLOBAL per_user_session_var_default_val = "u:v";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:v'
SET GLOBAL per_user_session_var_default_val = "u: v";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u: v'
SET GLOBAL per_user_session_var_default_val = " u:v";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of ' u:v'
SET GLOBAL per_user_session_var_default_val = "u:v:";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:v:'
SET GLOBAL per_user_session_var_default_val = "u:k=";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k='
SET GLOBAL per_user_session_var_default_val = "u:k=v:";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k=v:'
SET GLOBAL per_user_session_var_default_val = "u:k=v=";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k=v='
SET GLOBAL per_user_session_var_default_val = "u:k=v=x";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k=v=x'
SET GLOBAL per_user_session_var_default_val = "u:k=v,u:x=y";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k=v,u:x=y'
SET GLOBAL per_user_session_var_default_val = "u:k= v";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k= v'
SET GLOBAL per_user_session_var_default_val = "u:k= v";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k= v'
SET GLOBAL per_user_session_var_default_val = "u:k= v";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k= v'
SET GLOBAL per_user_session_var_default_val = "u:k= v";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k= v'
SET GLOBAL per_user_session_var_default_val = "u:k= v";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k= v'
SET GLOBAL per_user_session_var_default_val = "u:k=v;";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u:k=v;'
SET GLOBAL per_user_session_var_default_val = "u1:u2:k1=v1,k2=v2,,u3:k3=v3";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u1:u2:k1=v1,k2=v2,,u3:k3=v3'
SET GLOBAL per_user_session_var_default_val = "u1::u2:k1=v1,k2=v2,u3:k3=v3";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u1::u2:k1=v1,k2=v2,u3:k3=v3'
SET GLOBAL per_user_session_var_default_val = "u1:k1=v1,k2=v2,u3:k3=v3 ";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u1:k1=v1,k2=v2,u3:k3=v3 '
SET GLOBAL per_user_session_var_default_val = "u1:k1=v1,k2=v2,u3:k3=v3,";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u1:k1=v1,k2=v2,u3:k3=v3,'
SET GLOBAL per_user_session_var_default_val = "u1:k1=v1,k2=v2,u3:k3=v3'";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u1:k1=v1,k2=v2,u3:k3=v3''
SET GLOBAL per_user_session_var_default_val = "u1:k1=v1,k2=v2,u3:k3='v3'";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u1:k1=v1,k2=v2,u3:k3='v3''
SET GLOBAL per_user_session_var_default_val = "u1:k1=v1,k2=v2,u3:k3=\"v3\"";
ERROR 42000: Variable 'per_user_session_var_default_val' can't be set to the value of 'u1:k1=v1,k2=v2,u3:k3="v3"'
SET @@global.per_user_session_var_default_val = @original_val;
SELECT @@global.per_user_session_var_default_val;
@@global.per_user_session_var_default_val
NULL

DROP TABLE IF EXISTS t1;
#---------------------------
# auto_increment_offset
#---------------------------
SET auto_increment_offset = 200;
CREATE TABLE t1 (a INT AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb;
INSERT INTO t1 (a,b) VALUES (NULL,'a'),(NULL,'b'),(NULL,'c');
SELECT LAST_INSERT_ID();
LAST_INSERT_ID()
1
SELECT a,b FROM t1 ORDER BY a;
a	b
1	a
2	b
3	c
#---------------------------
# auto_increment_increment
#---------------------------
SET auto_increment_increment = 300;
INSERT INTO t1 (a,b) VALUES (NULL,'d'),(NULL,'e'),(NULL,'f');
SELECT LAST_INSERT_ID();
LAST_INSERT_ID()
200
SELECT a,b FROM t1 ORDER BY a;
a	b
1	a
2	b
3	c
200	d
500	e
800	f
SET auto_increment_increment = 50;
INSERT INTO t1 (a,b) VALUES (NULL,'g'),(NULL,'h'),(NULL,'i');
SELECT LAST_INSERT_ID();
LAST_INSERT_ID()
850
SELECT a,b FROM t1 ORDER BY a;
a	b
1	a
2	b
3	c
200	d
500	e
800	f
850	g
900	h
950	i
DROP TABLE t1;
#---------------------------
# offset is greater than the max value
#---------------------------
SET auto_increment_increment = 500;
SET auto_increment_offset = 300;
CREATE TABLE t1 (a TINYINT AUTO_INCREMENT PRIMARY KEY) ENGINE=rocksdb;
INSERT INTO t1 (a) VALUES (NULL);
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SELECT LAST_INSERT_ID();
LAST_INSERT_ID()
127
SELECT a FROM t1 ORDER BY a;
a
127
DROP TABLE t1;
#---------------------------
# test large autoincrement values
#---------------------------
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (18446744073709551613 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=18446744073709551614 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=18446744073709551615 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR HY000: Failed to read auto-increment value from storage engine
SELECT * FROM t1;
a	b
18446744073709551613	a
18446744073709551614	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a BIGINT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (18446744073709551613 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=18446744073709551614 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
ERROR HY000: Failed to read auto-increment value from storage engine
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=18446744073709551615 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR HY000: Failed to read auto-increment value from storage engine
SELECT * FROM t1;
a	b
18446744073709551613	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a BIGINT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (18446744073709551613 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=18446744073709551614 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
ERROR HY000: Failed to read auto-increment value from storage engine
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=18446744073709551615 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR HY000: Failed to read auto-increment value from storage engine
SELECT * FROM t1;
a	b
18446744073709551613	a
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a BIGINT AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (9223372036854775806 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9223372036854775807 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9223372036854775807 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '9223372036854775807' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
9223372036854775806	a
9223372036854775807	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a BIGINT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (9223372036854775806 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9223372036854775807 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9223372036854775807 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '9223372036854775801' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
9223372036854775801	b
9223372036854775806	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a BIGINT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (9223372036854775806 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9223372036854775807 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` bigint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9223372036854775807 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '9223372036854775800' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
9223372036854775800	b
9223372036854775806	a
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a TINYINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (254 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=255 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=255 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '255' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
254	a
255	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a TINYINT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (254 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=255 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=255 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '201' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
201	b
254	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a TINYINT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (254 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=255 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=255 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '200' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
200	b
254	a
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a TINYINT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (126 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=127 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=127 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '127' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
126	a
127	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a TINYINT   AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (126 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=127 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=127 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '1' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
1	b
126	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a TINYINT   AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (126 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=127 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` tinyint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=127 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '127' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
126	a
127	b
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a SMALLINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (65534 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=65535 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=65535 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '65535' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
65534	a
65535	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a SMALLINT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (65534 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=65535 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=65535 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '65401' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
65401	b
65534	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a SMALLINT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (65534 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=65535 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=65535 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '65400' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
65400	b
65534	a
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a SMALLINT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (32766 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=32767 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=32767 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '32767' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
32766	a
32767	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a SMALLINT   AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (32766 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=32767 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=32767 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '32601' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
32601	b
32766	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a SMALLINT   AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (32766 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=32767 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` smallint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=32767 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '32600' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
32600	b
32766	a
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a MEDIUMINT UNSIGNED AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (16777214 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777215 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777215 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '16777215' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
16777214	a
16777215	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a MEDIUMINT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (16777214 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777215 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777215 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '16777201' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
16777201	b
16777214	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a MEDIUMINT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (16777214 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777215 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777215 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '16777200' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
16777200	b
16777214	a
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a MEDIUMINT AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (8388606   , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=8388607 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=8388607 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '8388607' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
8388606	a
8388607	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a MEDIUMINT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (8388606   , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=8388607 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=8388607 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '8388601' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
8388601	b
8388606	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a MEDIUMINT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (8388606   , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=8388607 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` mediumint NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=8388607 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '8388600' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
8388600	b
8388606	a
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a INT UNSIGNED AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (4294967294 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=4294967295 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=4294967295 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '4294967295' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
4294967294	a
4294967295	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a INT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (4294967294 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=4294967295 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=4294967295 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '4294967201' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
4294967201	b
4294967294	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a INT UNSIGNED  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (4294967294 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=4294967295 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int unsigned NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=4294967295 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '4294967200' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
4294967200	b
4294967294	a
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a INT AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (2147483646 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=2147483647 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=2147483647 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '2147483647' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
2147483646	a
2147483647	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a INT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (2147483646 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=2147483647 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=2147483647 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '2147483601' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
2147483601	b
2147483646	a
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a INT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
INSERT INTO t1 VALUES (2147483646 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=2147483647 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
Warnings:
Warning	1264	Out of range value for column 'a' at row 1
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=2147483647 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '2147483600' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
2147483600	b
2147483646	a
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a FLOAT AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
Warnings:
Warning	3856	AUTO_INCREMENT support for FLOAT/DOUBLE columns is deprecated and will be removed in a future release. Consider removing AUTO_INCREMENT from column 'a'.
INSERT INTO t1 VALUES (16777215.0 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` float NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777216 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` float NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777216 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '16777200' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
16777200	a
16777200	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a FLOAT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
Warnings:
Warning	3856	AUTO_INCREMENT support for FLOAT/DOUBLE columns is deprecated and will be removed in a future release. Consider removing AUTO_INCREMENT from column 'a'.
INSERT INTO t1 VALUES (16777215.0 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` float NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777216 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` float NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777216 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '16777400' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
16777200	a
16777400	b
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a FLOAT  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
Warnings:
Warning	3856	AUTO_INCREMENT support for FLOAT/DOUBLE columns is deprecated and will be removed in a future release. Consider removing AUTO_INCREMENT from column 'a'.
INSERT INTO t1 VALUES (16777215.0 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` float NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777216 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` float NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=16777216 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '16777400' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
16777200	a
16777400	b
DROP TABLE t1;
DROP TABLE IF EXISTS t1;
SET auto_increment_increment = 1;
SET auto_increment_offset = 1;
CREATE TABLE t1 (a DOUBLE AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
Warnings:
Warning	3856	AUTO_INCREMENT support for FLOAT/DOUBLE columns is deprecated and will be removed in a future release. Consider removing AUTO_INCREMENT from column 'a'.
INSERT INTO t1 VALUES (9007199254740991.0 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` double NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9007199254740992 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` double NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9007199254740992 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '9.007199254740992e15' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
9.007199254740991e15	a
9.007199254740992e15	b
DROP TABLE t1;
SET auto_increment_increment = 200;
CREATE TABLE t1 (a DOUBLE  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
Warnings:
Warning	3856	AUTO_INCREMENT support for FLOAT/DOUBLE columns is deprecated and will be removed in a future release. Consider removing AUTO_INCREMENT from column 'a'.
INSERT INTO t1 VALUES (9007199254740991.0 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` double NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9007199254740992 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` double NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9007199254740992 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '9.007199254741e15' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
9.007199254740991e15	a
9.007199254741e15	b
DROP TABLE t1;
SET auto_increment_offset = 200;
CREATE TABLE t1 (a DOUBLE  AUTO_INCREMENT PRIMARY KEY, b CHAR(8)) ENGINE=rocksdb CHARSET=latin1;
Warnings:
Warning	3856	AUTO_INCREMENT support for FLOAT/DOUBLE columns is deprecated and will be removed in a future release. Consider removing AUTO_INCREMENT from column 'a'.
INSERT INTO t1 VALUES (9007199254740991.0 , 'a');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` double NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9007199254740992 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'b');
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` double NOT NULL AUTO_INCREMENT,
  `b` char(8) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=ROCKSDB AUTO_INCREMENT=9007199254740992 DEFAULT CHARSET=latin1
INSERT INTO t1 VALUES (NULL, 'c');
ERROR 23000: Duplicate entry '9.007199254741e15' for key 't1.PRIMARY'
SELECT * FROM t1;
a	b
9.007199254740991e15	a
9.007199254741e15	b
DROP TABLE t1;
#----------------------------------
# Issue #792 Crash in autoincrement
#----------------------------------
CREATE TABLE t1(C1 DOUBLE AUTO_INCREMENT KEY,C2 CHAR) ENGINE=ROCKSDB;
Warnings:
Warning	3856	AUTO_INCREMENT support for FLOAT/DOUBLE columns is deprecated and will be removed in a future release. Consider removing AUTO_INCREMENT from column 'C1'.
INSERT INTO t1 VALUES(2177,0);
DROP TABLE t1;
CREATE TABLE t0(c0 BLOB) ENGINE=ROCKSDB;
INSERT INTO t0 VALUES(0);
ALTER TABLE t0 AUTO_INCREMENT=0;
DROP TABLE t0;
#----------------------------------
# Issue #869 Crash in autoincrement
#----------------------------------
CREATE TABLE t1 (pk INT AUTO_INCREMENT, a INT, PRIMARY KEY(pk)) ENGINE=RocksDB;
INSERT INTO t1 (a) VALUES (1);
UPDATE t1 SET pk = 3;
ALTER TABLE t1 AUTO_INCREMENT 2;
DROP TABLE t1;
#----------------------------------
# Issue #902 Debug assert in autoincrement with small field type
#----------------------------------
SET auto_increment_increment=100, auto_increment_offset=10;
CREATE TABLE t1(i INT AUTO_INCREMENT PRIMARY KEY) ENGINE=ROCKSDB AUTO_INCREMENT=18446744073709551615;
INSERT INTO t1 VALUES (NULL);
ERROR HY000: Failed to read auto-increment value from storage engine
SELECT * FROM t1;
i
ALTER TABLE t1 AUTO_INCREMENT=1;
INSERT INTO t1 VALUES (NULL);
SELECT * FROM t1;
i
10
ALTER TABLE t1 AUTO_INCREMENT=18446744073709551615;
INSERT INTO t1 VALUES (NULL);
ERROR HY000: Failed to read auto-increment value from storage engine
SELECT * FROM t1;
i
10
DROP TABLE t1;

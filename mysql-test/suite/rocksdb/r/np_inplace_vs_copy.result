CREATE TABLE t1 (id INT AUTO_INCREMENT PRIMARY KEY) ENGINE=InnoDB  PARTITION BY RANGE(id) (PARTITION p0 VALUES LESS THAN (10), PARTITION p1 VALUES LESS THAN (20), PARTITION p2 VALUES LESS THAN (30), PARTITION p3 VALUES LESS THAN (40), PARTITION p4 VALUES LESS THAN (50), PARTITION p5 VALUES LESS THAN MAXVALUE);;
INSERT INTO t1 VALUES (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL),
(NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL),
(NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL),
(NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL),
(NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL),
(NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL), (NULL);
SELECT COUNT(id) FROM t1;
COUNT(id)
60
ALTER TABLE t1 ALGORITHM=COPY, DROP PARTITION p3;
SELECT COUNT(id) FROM t1;
COUNT(id)
60
SELECT COUNT(id) FROM t1 WHERE id >= 30 AND id < 40;
COUNT(id)
10
ALTER TABLE t1 ALGORITHM=INPLACE, DROP PARTITION p2;
SELECT COUNT(id) FROM t1;
COUNT(id)
50
SELECT COUNT(id) FROM t1 WHERE id >= 20 AND id < 30;
COUNT(id)
0
DROP TABLE t1;

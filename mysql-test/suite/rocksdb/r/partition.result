DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS VAR_POP;
DROP TABLE IF EXISTS TEMP0;
DROP TABLE IF EXISTS VAR_SAMP;
DROP TABLE IF EXISTS ti;
DROP TABLE IF EXISTS members;
DROP TABLE IF EXISTS members_2;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS employees_2;
DROP TABLE IF EXISTS employees_3;
DROP TABLE IF EXISTS quarterly_report_status;
DROP TABLE IF EXISTS employees_4;
DROP TABLE IF EXISTS h2;
DROP TABLE IF EXISTS rcx;
DROP TABLE IF EXISTS r1;
DROP TABLE IF EXISTS rc1;
DROP TABLE IF EXISTS rx;
DROP TABLE IF EXISTS rc2;
DROP TABLE IF EXISTS rc3;
DROP TABLE IF EXISTS rc4;
DROP TABLE IF EXISTS employees_by_lname;
DROP TABLE IF EXISTS customers_1;
DROP TABLE IF EXISTS customers_2;
DROP TABLE IF EXISTS customers_3;
DROP TABLE IF EXISTS employees_hash;
DROP TABLE IF EXISTS employees_hash_1;
DROP TABLE IF EXISTS t1_hash;
DROP TABLE IF EXISTS employees_linear_hash;
DROP TABLE IF EXISTS t1_linear_hash;
DROP TABLE IF EXISTS k1;
DROP TABLE IF EXISTS k2;
DROP TABLE IF EXISTS tm1;
DROP TABLE IF EXISTS tk;
DROP TABLE IF EXISTS ts;
DROP TABLE IF EXISTS ts_1;
DROP TABLE IF EXISTS ts_3;
DROP TABLE IF EXISTS ts_4;
DROP TABLE IF EXISTS ts_5;
DROP TABLE IF EXISTS trb3;
DROP TABLE IF EXISTS tr;
DROP TABLE IF EXISTS members_3;
DROP TABLE IF EXISTS clients;
DROP TABLE IF EXISTS clients_lk;
DROP TABLE IF EXISTS trb1;
CREATE TABLE t1 (i INT, j INT, k INT, PRIMARY KEY (i)) ENGINE = ROCKSDB PARTITION BY KEY(i) PARTITIONS 4;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="t1" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
Table	Op	Msg_type	Msg_text
test.t1	optimize	status	OK
Table	Op	Msg_type	Msg_text
test.t1	analyze	status	OK
Table	Op	Msg_type	Msg_text
test.t1	repair	status	OK
Table	Op	Msg_type	Msg_text
test.t1	check	status	OK
PARTITION_NAME
p0
p1
p2
p3
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	t1	p0	NULL	1	NULL	KEY	NULL	`i`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	t1	p1	NULL	2	NULL	KEY	NULL	`i`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	t1	p2	NULL	3	NULL	KEY	NULL	`i`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	t1	p3	NULL	4	NULL	KEY	NULL	`i`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
PARTITION_NAME
NULL
PARTITION_NAME
p0
p1
p2
PARTITION_NAME
p0
p1
p2
p3
p4
p5
p6
p7
p8
p9
SHOW TABLES;
Tables_in_test
TEMP0
VAR_POP
VAR_SAMP
t1
SELECT * FROM t1 ORDER BY i LIMIT 10;
i	j	k
1	1	1
2	2	2
3	3	3
4	4	4
5	5	5
6	6	6
7	7	7
8	8	8
9	9	9
10	10	10
SELECT COUNT(*) FROM t1;
COUNT(*)
1000
CREATE TABLE ti(
id INT,
amount DECIMAL(7,2),
tr_date DATE
) ENGINE=ROCKSDB
PARTITION BY HASH(MONTH(tr_date))
PARTITIONS 6;
CREATE TABLE members (
firstname VARCHAR(25) NOT NULL,
lastname VARCHAR(25) NOT NULL,
username VARCHAR(16) NOT NULL,
email VARCHAR(35),
joined DATE NOT NULL
) ENGINE=ROCKSDB
PARTITION BY KEY(joined)
PARTITIONS 6;
CREATE TABLE members_2 (
firstname VARCHAR(25) NOT NULL,
lastname VARCHAR(25) NOT NULL,
username VARCHAR(16) NOT NULL,
email VARCHAR(35),
joined DATE NOT NULL
) ENGINE=ROCKSDB
PARTITION BY RANGE(YEAR(joined)) (
PARTITION p0 VALUES LESS THAN (1960),
PARTITION p1 VALUES LESS THAN (1970),
PARTITION p2 VALUES LESS THAN (1980),
PARTITION p3 VALUES LESS THAN (1990),
PARTITION p4 VALUES LESS THAN MAXVALUE
);
CREATE TABLE t2 (val INT)
ENGINE=ROCKSDB
PARTITION BY LIST(val)(
PARTITION mypart VALUES IN (1,3,5),
PARTITION MyPart VALUES IN (2,4,6)
);
ERROR HY000: Duplicate partition name MyPart
CREATE TABLE employees (
id INT NOT NULL,
fname VARCHAR(30),
lname VARCHAR(30),
hired DATE NOT NULL DEFAULT '1970-01-01',
separated DATE NOT NULL DEFAULT '9999-12-31',
job_code INT NOT NULL,
store_id INT NOT NULL
) ENGINE=ROCKSDB
PARTITION BY RANGE (store_id) (
PARTITION p0 VALUES LESS THAN (6),
PARTITION p1 VALUES LESS THAN (11),
PARTITION p2 VALUES LESS THAN (16),
PARTITION p3 VALUES LESS THAN MAXVALUE
);
CREATE TABLE employees_2 (
id INT NOT NULL,
fname VARCHAR(30),
lname VARCHAR(30),
hired DATE NOT NULL DEFAULT '1970-01-01',
separated DATE NOT NULL DEFAULT '9999-12-31',
job_code INT NOT NULL,
store_id INT NOT NULL
) ENGINE=ROCKSDB
PARTITION BY RANGE (job_code) (
PARTITION p0 VALUES LESS THAN (100),
PARTITION p1 VALUES LESS THAN (1000),
PARTITION p2 VALUES LESS THAN (10000)
);
CREATE TABLE employees_3 (
id INT NOT NULL,
fname VARCHAR(30),
lname VARCHAR(30),
hired DATE NOT NULL DEFAULT '1970-01-01',
separated DATE NOT NULL DEFAULT '9999-12-31',
job_code INT,
store_id INT
) ENGINE=ROCKSDB
PARTITION BY RANGE (YEAR(separated)) (
PARTITION p0 VALUES LESS THAN (1991),
PARTITION p1 VALUES LESS THAN (1996),
PARTITION p2 VALUES LESS THAN (2001),
PARTITION p3 VALUES LESS THAN MAXVALUE
);
CREATE TABLE quarterly_report_status (
report_id INT NOT NULL,
report_status VARCHAR(20) NOT NULL,
report_updated TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=ROCKSDB
PARTITION BY RANGE (UNIX_TIMESTAMP(report_updated)) (
PARTITION p0 VALUES LESS THAN ( UNIX_TIMESTAMP('2008-01-01 00:00:00') ),
PARTITION p1 VALUES LESS THAN ( UNIX_TIMESTAMP('2008-04-01 00:00:00') ),
PARTITION p2 VALUES LESS THAN ( UNIX_TIMESTAMP('2008-07-01 00:00:00') ),
PARTITION p3 VALUES LESS THAN ( UNIX_TIMESTAMP('2008-10-01 00:00:00') ),
PARTITION p4 VALUES LESS THAN ( UNIX_TIMESTAMP('2009-01-01 00:00:00') ),
PARTITION p5 VALUES LESS THAN ( UNIX_TIMESTAMP('2009-04-01 00:00:00') ),
PARTITION p6 VALUES LESS THAN ( UNIX_TIMESTAMP('2009-07-01 00:00:00') ),
PARTITION p7 VALUES LESS THAN ( UNIX_TIMESTAMP('2009-10-01 00:00:00') ),
PARTITION p8 VALUES LESS THAN ( UNIX_TIMESTAMP('2010-01-01 00:00:00') ),
PARTITION p9 VALUES LESS THAN (MAXVALUE)
);
CREATE TABLE employees_4 (
id INT NOT NULL,
fname VARCHAR(30),
lname VARCHAR(30),
hired DATE NOT NULL DEFAULT '1970-01-01',
separated DATE NOT NULL DEFAULT '9999-12-31',
job_code INT,
store_id INT
) ENGINE=ROCKSDB
PARTITION BY LIST(store_id) (
PARTITION pNorth VALUES IN (3,5,6,9,17),
PARTITION pEast VALUES IN (1,2,10,11,19,20),
PARTITION pWest VALUES IN (4,12,13,14,18),
PARTITION pCentral VALUES IN (7,8,15,16)
);
CREATE TABLE h2 (
c1 INT,
c2 INT
) ENGINE=ROCKSDB
PARTITION BY LIST(c1) (
PARTITION p0 VALUES IN (1, 4, 7),
PARTITION p1 VALUES IN (2, 5, 8)
);
INSERT INTO h2 VALUES (3, 5);
ERROR HY000: Table has no partition for value 3
CREATE TABLE rcx (
a INT,
b INT,
c CHAR(3),
d INT
) ENGINE=ROCKSDB
PARTITION BY RANGE COLUMNS(a,d,c) (
PARTITION p0 VALUES LESS THAN (5,10,'ggg'),
PARTITION p1 VALUES LESS THAN (10,20,'mmm'),
PARTITION p2 VALUES LESS THAN (15,30,'sss'),
PARTITION p3 VALUES LESS THAN (MAXVALUE,MAXVALUE,MAXVALUE)
);
CREATE TABLE r1 (
a INT,
b INT
) ENGINE=ROCKSDB
PARTITION BY RANGE (a)  (
PARTITION p0 VALUES LESS THAN (5),
PARTITION p1 VALUES LESS THAN (MAXVALUE)
);
INSERT INTO r1 VALUES (5,10), (5,11), (5,12);
CREATE TABLE rc1 (
a INT,
b INT
) ENGINE=ROCKSDB
PARTITION BY RANGE COLUMNS(a, b) (
PARTITION p0 VALUES LESS THAN (5, 12),
PARTITION p3 VALUES LESS THAN (MAXVALUE, MAXVALUE)
);
INSERT INTO rc1 VALUES (5,10), (5,11), (5,12);
SELECT (5,10) < (5,12), (5,11) < (5,12), (5,12) < (5,12);
(5,10) < (5,12)	(5,11) < (5,12)	(5,12) < (5,12)
1	1	0
CREATE TABLE rx (
a INT,
b INT
) ENGINE=ROCKSDB
PARTITION BY RANGE COLUMNS (a)  (
PARTITION p0 VALUES LESS THAN (5),
PARTITION p1 VALUES LESS THAN (MAXVALUE)
);
INSERT INTO rx VALUES (5,10), (5,11), (5,12);
CREATE TABLE rc2 (
a INT,
b INT
) ENGINE=ROCKSDB
PARTITION BY RANGE COLUMNS(a,b) (
PARTITION p0 VALUES LESS THAN (0,10),
PARTITION p1 VALUES LESS THAN (10,20),
PARTITION p2 VALUES LESS THAN (10,30),
PARTITION p3 VALUES LESS THAN (MAXVALUE,MAXVALUE)
);
CREATE TABLE rc3 (
a INT,
b INT
) ENGINE=ROCKSDB
PARTITION BY RANGE COLUMNS(a,b) (
PARTITION p0 VALUES LESS THAN (0,10),
PARTITION p1 VALUES LESS THAN (10,20),
PARTITION p2 VALUES LESS THAN (10,30),
PARTITION p3 VALUES LESS THAN (10,35),
PARTITION p4 VALUES LESS THAN (20,40),
PARTITION p5 VALUES LESS THAN (MAXVALUE,MAXVALUE)
);
CREATE TABLE rc4 (
a INT,
b INT,
c INT
) ENGINE=ROCKSDB
PARTITION BY RANGE COLUMNS(a,b,c) (
PARTITION p0 VALUES LESS THAN (0,25,50),
PARTITION p1 VALUES LESS THAN (10,20,100),
PARTITION p2 VALUES LESS THAN (10,30,50),
PARTITION p3 VALUES LESS THAN (MAXVALUE,MAXVALUE,MAXVALUE)
);
SELECT (0,25,50) < (10,20,100), (10,20,100) < (10,30,50);
(0,25,50) < (10,20,100)	(10,20,100) < (10,30,50)
1	1
CREATE TABLE rcf (
a INT,
b INT,
c INT
) ENGINE=ROCKSDB
PARTITION BY RANGE COLUMNS(a,b,c) (
PARTITION p0 VALUES LESS THAN (0,25,50),
PARTITION p1 VALUES LESS THAN (20,20,100),
PARTITION p2 VALUES LESS THAN (10,30,50),
PARTITION p3 VALUES LESS THAN (MAXVALUE,MAXVALUE,MAXVALUE)
);
ERROR HY000: VALUES LESS THAN value must be strictly increasing for each partition
CREATE TABLE employees_by_lname (
id INT NOT NULL,
fname VARCHAR(30),
lname VARCHAR(30),
hired DATE NOT NULL DEFAULT '1970-01-01',
separated DATE NOT NULL DEFAULT '9999-12-31',
job_code INT NOT NULL,
store_id INT NOT NULL
) ENGINE=ROCKSDB
PARTITION BY RANGE COLUMNS (lname)  (
PARTITION p0 VALUES LESS THAN ('g'),
PARTITION p1 VALUES LESS THAN ('m'),
PARTITION p2 VALUES LESS THAN ('t'),
PARTITION p3 VALUES LESS THAN (MAXVALUE)
);
ALTER TABLE employees_by_lname PARTITION BY RANGE COLUMNS (lname)  (
PARTITION p0 VALUES LESS THAN ('g'),
PARTITION p1 VALUES LESS THAN ('m'),
PARTITION p2 VALUES LESS THAN ('t'),
PARTITION p3 VALUES LESS THAN (MAXVALUE)
);
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="employees_by_lname" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
SELECT * from information_schema.partitions where TABLE_NAME="employees_by_lname" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	employees_by_lname	p0	NULL	1	NULL	RANGE COLUMNS	NULL	`lname`	NULL	'g'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_by_lname	p1	NULL	2	NULL	RANGE COLUMNS	NULL	`lname`	NULL	'm'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_by_lname	p2	NULL	3	NULL	RANGE COLUMNS	NULL	`lname`	NULL	't'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_by_lname	p3	NULL	4	NULL	RANGE COLUMNS	NULL	`lname`	NULL	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
ALTER TABLE employees_by_lname PARTITION BY RANGE COLUMNS (hired)  (
PARTITION p0 VALUES LESS THAN ('1970-01-01'),
PARTITION p1 VALUES LESS THAN ('1980-01-01'),
PARTITION p2 VALUES LESS THAN ('1990-01-01'),
PARTITION p3 VALUES LESS THAN ('2000-01-01'),
PARTITION p4 VALUES LESS THAN ('2010-01-01'),
PARTITION p5 VALUES LESS THAN (MAXVALUE)
);
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="employees_by_lname" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
p4
p5
SELECT * from information_schema.partitions where TABLE_NAME="employees_by_lname" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	employees_by_lname	p0	NULL	1	NULL	RANGE COLUMNS	NULL	`hired`	NULL	'1970-01-01'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_by_lname	p1	NULL	2	NULL	RANGE COLUMNS	NULL	`hired`	NULL	'1980-01-01'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_by_lname	p2	NULL	3	NULL	RANGE COLUMNS	NULL	`hired`	NULL	'1990-01-01'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_by_lname	p3	NULL	4	NULL	RANGE COLUMNS	NULL	`hired`	NULL	'2000-01-01'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_by_lname	p4	NULL	5	NULL	RANGE COLUMNS	NULL	`hired`	NULL	'2010-01-01'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_by_lname	p5	NULL	6	NULL	RANGE COLUMNS	NULL	`hired`	NULL	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
CREATE TABLE customers_1 (
first_name VARCHAR(25),
last_name VARCHAR(25),
street_1 VARCHAR(30),
street_2 VARCHAR(30),
city VARCHAR(15),
renewal DATE
) ENGINE=ROCKSDB
PARTITION BY LIST COLUMNS(city) (
PARTITION pRegion_1 VALUES IN('Oskarshamn', 'Högsby', 'Mönsterås'),
PARTITION pRegion_2 VALUES IN('Vimmerby', 'Hultsfred', 'Västervik'),
PARTITION pRegion_3 VALUES IN('Nässjö', 'Eksjö', 'Vetlanda'),
PARTITION pRegion_4 VALUES IN('Uppvidinge', 'Alvesta', 'Växjo')
);
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="customers_1" ORDER BY PARTITION_NAME;
PARTITION_NAME
pRegion_1
pRegion_2
pRegion_3
pRegion_4
SELECT * from information_schema.partitions where TABLE_NAME="customers_1" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	customers_1	pRegion_1	NULL	1	NULL	LIST COLUMNS	NULL	`city`	NULL	'Oskarshamn','Högsby','Mönsterås'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	customers_1	pRegion_2	NULL	2	NULL	LIST COLUMNS	NULL	`city`	NULL	'Vimmerby','Hultsfred','Västervik'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	customers_1	pRegion_3	NULL	3	NULL	LIST COLUMNS	NULL	`city`	NULL	'Nässjö','Eksjö','Vetlanda'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	customers_1	pRegion_4	NULL	4	NULL	LIST COLUMNS	NULL	`city`	NULL	'Uppvidinge','Alvesta','Växjo'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
CREATE TABLE customers_2 (
first_name VARCHAR(25),
last_name VARCHAR(25),
street_1 VARCHAR(30),
street_2 VARCHAR(30),
city VARCHAR(15),
renewal DATE
) ENGINE=ROCKSDB
PARTITION BY LIST COLUMNS(renewal) (
PARTITION pWeek_1 VALUES IN('2010-02-01', '2010-02-02', '2010-02-03',
'2010-02-04', '2010-02-05', '2010-02-06', '2010-02-07'),
PARTITION pWeek_2 VALUES IN('2010-02-08', '2010-02-09', '2010-02-10',
'2010-02-11', '2010-02-12', '2010-02-13', '2010-02-14'),
PARTITION pWeek_3 VALUES IN('2010-02-15', '2010-02-16', '2010-02-17',
'2010-02-18', '2010-02-19', '2010-02-20', '2010-02-21'),
PARTITION pWeek_4 VALUES IN('2010-02-22', '2010-02-23', '2010-02-24',
'2010-02-25', '2010-02-26', '2010-02-27', '2010-02-28')
);
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="customers_2" ORDER BY PARTITION_NAME;
PARTITION_NAME
pWeek_1
pWeek_2
pWeek_3
pWeek_4
SELECT * from information_schema.partitions where TABLE_NAME="customers_2" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	customers_2	pWeek_1	NULL	1	NULL	LIST COLUMNS	NULL	`renewal`	NULL	'2010-02-01','2010-02-02','2010-02-03','2010-02-04','2010-02-05','2010-02-06','2010-02-07'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	customers_2	pWeek_2	NULL	2	NULL	LIST COLUMNS	NULL	`renewal`	NULL	'2010-02-08','2010-02-09','2010-02-10','2010-02-11','2010-02-12','2010-02-13','2010-02-14'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	customers_2	pWeek_3	NULL	3	NULL	LIST COLUMNS	NULL	`renewal`	NULL	'2010-02-15','2010-02-16','2010-02-17','2010-02-18','2010-02-19','2010-02-20','2010-02-21'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	customers_2	pWeek_4	NULL	4	NULL	LIST COLUMNS	NULL	`renewal`	NULL	'2010-02-22','2010-02-23','2010-02-24','2010-02-25','2010-02-26','2010-02-27','2010-02-28'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
CREATE TABLE customers_3 (
first_name VARCHAR(25),
last_name VARCHAR(25),
street_1 VARCHAR(30),
street_2 VARCHAR(30),
city VARCHAR(15),
renewal DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE COLUMNS(renewal) (
PARTITION pWeek_1 VALUES LESS THAN('2010-02-09'),
PARTITION pWeek_2 VALUES LESS THAN('2010-02-15'),
PARTITION pWeek_3 VALUES LESS THAN('2010-02-22'),
PARTITION pWeek_4 VALUES LESS THAN('2010-03-01')
);
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="customers_3" ORDER BY PARTITION_NAME;
PARTITION_NAME
pWeek_1
pWeek_2
pWeek_3
pWeek_4
SELECT * from information_schema.partitions where TABLE_NAME="customers_3" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	customers_3	pWeek_1	NULL	1	NULL	RANGE COLUMNS	NULL	`renewal`	NULL	'2010-02-09'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	customers_3	pWeek_2	NULL	2	NULL	RANGE COLUMNS	NULL	`renewal`	NULL	'2010-02-15'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	customers_3	pWeek_3	NULL	3	NULL	RANGE COLUMNS	NULL	`renewal`	NULL	'2010-02-22'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	customers_3	pWeek_4	NULL	4	NULL	RANGE COLUMNS	NULL	`renewal`	NULL	'2010-03-01'	#	#	#	#	#	#	#	#	#	NULL		default	NULL
CREATE TABLE employees_hash (
id INT NOT NULL,
fname VARCHAR(30),
lname VARCHAR(30),
hired DATE NOT NULL DEFAULT '1970-01-01',
separated DATE NOT NULL DEFAULT '9999-12-31',
job_code INT,
store_id INT
) ENGINE=ROCKSDB
PARTITION BY HASH(store_id)
PARTITIONS 4;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="employees_hash" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
SELECT * from information_schema.partitions where TABLE_NAME="employees_hash" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	employees_hash	p0	NULL	1	NULL	HASH	NULL	`store_id`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_hash	p1	NULL	2	NULL	HASH	NULL	`store_id`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_hash	p2	NULL	3	NULL	HASH	NULL	`store_id`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	employees_hash	p3	NULL	4	NULL	HASH	NULL	`store_id`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
CREATE TABLE employees_hash_1 (
id INT NOT NULL,
fname VARCHAR(30),
lname VARCHAR(30),
hired DATE NOT NULL DEFAULT '1970-01-01',
separated DATE NOT NULL DEFAULT '9999-12-31',
job_code INT,
store_id INT
) ENGINE=ROCKSDB
PARTITION BY HASH( YEAR(hired) )
PARTITIONS 4;
CREATE TABLE t1_hash (
col1 INT,
col2 CHAR(5),
col3 DATE
) ENGINE=ROCKSDB
PARTITION BY HASH( YEAR(col3) )
PARTITIONS 4;
CREATE TABLE employees_linear_hash (
id INT NOT NULL,
fname VARCHAR(30),
lname VARCHAR(30),
hired DATE NOT NULL DEFAULT '1970-01-01',
separated DATE NOT NULL DEFAULT '9999-12-31',
job_code INT,
store_id INT
) ENGINE=ROCKSDB
PARTITION BY LINEAR HASH( YEAR(hired) )
PARTITIONS 4;
CREATE TABLE t1_linear_hash (
col1 INT,
col2 CHAR(5),
col3 DATE
) ENGINE=ROCKSDB
PARTITION BY LINEAR HASH( YEAR(col3) )
PARTITIONS 6;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="t1_linear_hash" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
p4
p5
SELECT * from information_schema.partitions where TABLE_NAME="t1_linear_hash" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	t1_linear_hash	p0	NULL	1	NULL	LINEAR HASH	NULL	year(`col3`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	t1_linear_hash	p1	NULL	2	NULL	LINEAR HASH	NULL	year(`col3`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	t1_linear_hash	p2	NULL	3	NULL	LINEAR HASH	NULL	year(`col3`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	t1_linear_hash	p3	NULL	4	NULL	LINEAR HASH	NULL	year(`col3`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	t1_linear_hash	p4	NULL	5	NULL	LINEAR HASH	NULL	year(`col3`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	t1_linear_hash	p5	NULL	6	NULL	LINEAR HASH	NULL	year(`col3`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
CREATE TABLE k1 (
id INT NOT NULL PRIMARY KEY,
name VARCHAR(20)
) ENGINE=ROCKSDB
PARTITION BY KEY()
PARTITIONS 2;
CREATE TABLE k2 (
id INT NOT NULL,
name VARCHAR(20),
UNIQUE KEY (id)
) ENGINE=ROCKSDB
PARTITION BY KEY()
PARTITIONS 2;
CREATE TABLE tm1 (
s1 CHAR(32) PRIMARY KEY
) ENGINE=ROCKSDB
PARTITION BY KEY(s1)
PARTITIONS 10;
CREATE TABLE tk (
col1 INT NOT NULL,
col2 CHAR(5),
col3 DATE
) ENGINE=ROCKSDB
PARTITION BY LINEAR KEY (col1)
PARTITIONS 3;
CREATE TABLE ts (
id INT,
purchased DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE( YEAR(purchased) )
SUBPARTITION BY HASH( TO_DAYS(purchased) )
SUBPARTITIONS 2 (
PARTITION p0 VALUES LESS THAN (1990),
PARTITION p1 VALUES LESS THAN (2000),
PARTITION p2 VALUES LESS THAN MAXVALUE
);
INSERT INTO ts VALUES
(1, '1988-01-01'),
(2, '1989-02-02'),
(3, '1998-03-03'),
(4, '1999-04-04'),
(5, '2001-05-05'),
(6, '2002-06-06');
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl
WHERE TABLE_NAME="ts" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0#SP#p0sp0
p0#SP#p0sp1
p1#SP#p1sp0
p1#SP#p1sp1
p2#SP#p2sp0
p2#SP#p2sp1
SELECT * from information_schema.partitions where TABLE_NAME="ts" ORDER by SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts	p0	p0sp0	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts	p0	p0sp1	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts	p1	p1sp0	2	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts	p1	p1sp1	2	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts	p2	p2sp0	3	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts	p2	p2sp1	3	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts PARTITION (p0) ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
SELECT * FROM ts PARTITION (p1) ORDER by id;
id	purchased
3	1998-03-03
4	1999-04-04
SELECT * FROM ts PARTITION (p2) ORDER by id;
id	purchased
5	2001-05-05
6	2002-06-06
SELECT * FROM ts ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
3	1998-03-03
4	1999-04-04
5	2001-05-05
6	2002-06-06
ALTER table ts DROP PARTITION p1;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="ts" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0#SP#p0sp0
p0#SP#p0sp1
p2#SP#p2sp0
p2#SP#p2sp1
SELECT * from information_schema.partitions where TABLE_NAME="ts" ORDER by SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts	p0	p0sp0	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts	p0	p0sp1	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts	p2	p2sp0	2	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts	p2	p2sp1	2	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts PARTITION (p0) ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
SELECT * FROM ts PARTITION (p2) ORDER by id;
id	purchased
5	2001-05-05
6	2002-06-06
SELECT * FROM ts ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
5	2001-05-05
6	2002-06-06
CREATE TABLE ts_1 (
id INT,
purchased DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE( YEAR(purchased) )
SUBPARTITION BY HASH( TO_DAYS(purchased) ) (
PARTITION p0 VALUES LESS THAN (1990) (
SUBPARTITION s0,
SUBPARTITION s1
),
PARTITION p1 VALUES LESS THAN (2000) (
SUBPARTITION s2,
SUBPARTITION s3
),
PARTITION p2 VALUES LESS THAN MAXVALUE (
SUBPARTITION s4,
SUBPARTITION s5
)
);
INSERT INTO ts_1 VALUES
(1, '1988-01-01'),
(2, '1989-02-02'),
(3, '1998-03-03'),
(4, '1999-04-04'),
(5, '2001-05-05'),
(6, '2002-06-06');
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl
WHERE TABLE_NAME="ts_1" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0#SP#s0
p0#SP#s1
p1#SP#s2
p1#SP#s3
p2#SP#s4
p2#SP#s5
SELECT * from information_schema.partitions where TABLE_NAME="ts_1" ORDER by SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts_1	p0	s0	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_1	p0	s1	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_1	p1	s2	2	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_1	p1	s3	2	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_1	p2	s4	3	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_1	p2	s5	3	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts_1 PARTITION (p0) ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
SELECT * FROM ts_1 PARTITION (p1) ORDER by id;
id	purchased
3	1998-03-03
4	1999-04-04
SELECT * FROM ts_1 PARTITION (p2) ORDER by id;
id	purchased
5	2001-05-05
6	2002-06-06
SELECT * FROM ts_1 ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
3	1998-03-03
4	1999-04-04
5	2001-05-05
6	2002-06-06
ALTER table ts_1 DROP PARTITION p1, p2;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="ts_1" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0#SP#s0
p0#SP#s1
SELECT * from information_schema.partitions where TABLE_NAME="ts_1" ORDER by SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts_1	p0	s0	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_1	p0	s1	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts_1 PARTITION (p0) ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
SELECT * FROM ts_1 ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
ALTER TABLE ts_1 ADD PARTITION(PARTITION p2 VALUES LESS THAN (2005));
INSERT INTO ts_1 VALUES (7, '2003-07-07');
INSERT INTO ts_1 VALUES (8, '2004-08-08');
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl
WHERE TABLE_NAME="ts_1" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0#SP#s0
p0#SP#s1
p2#SP#p2sp0
p2#SP#p2sp1
SELECT * from information_schema.partitions
WHERE TABLE_NAME="ts_1" ORDER by PARTITION_NAME, SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts_1	p0	s0	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_1	p0	s1	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_1	p2	p2sp0	2	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2005	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_1	p2	p2sp1	2	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2005	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts_1 PARTITION (p0) ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
SELECT * FROM ts_1 PARTITION (p2) ORDER by id;
id	purchased
7	2003-07-07
8	2004-08-08
SELECT * FROM ts_1 ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
7	2003-07-07
8	2004-08-08
INSERT INTO ts_1 VALUES (9, "2010-09-09");
ERROR HY000: Table has no partition for value 2010
CREATE TABLE ts_2 (
id INT,
purchased DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE( YEAR(purchased) )
SUBPARTITION BY HASH( TO_DAYS(purchased) ) (
PARTITION p0 VALUES LESS THAN (1990) (
SUBPARTITION s0,
SUBPARTITION s1
),
PARTITION p1 VALUES LESS THAN (2000),
PARTITION p2 VALUES LESS THAN MAXVALUE (
SUBPARTITION s2,
SUBPARTITION s3
)
);
ERROR 42000: Wrong number of subpartitions defined, mismatch with previous setting near ',
PARTITION p2 VALUES LESS THAN MAXVALUE (
SUBPARTITION s2,
SUBPARTITION s3
)
)' at line 11
CREATE TABLE ts_3 (
id INT,
purchased DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE( YEAR(purchased) )
SUBPARTITION BY HASH( TO_DAYS(purchased) ) (
PARTITION p0 VALUES LESS THAN (1990) (
SUBPARTITION s0,
SUBPARTITION s1
),
PARTITION p1 VALUES LESS THAN (2000) (
SUBPARTITION s2,
SUBPARTITION s3
),
PARTITION p2 VALUES LESS THAN MAXVALUE (
SUBPARTITION s4,
SUBPARTITION s5
)
);
INSERT INTO ts_3 VALUES
(1, '1988-01-01'),
(2, '1989-02-02'),
(3, '1998-03-03'),
(4, '1999-04-04'),
(5, '2001-05-05'),
(6, '2002-06-06');
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl
WHERE TABLE_NAME="ts_3" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0#SP#s0
p0#SP#s1
p1#SP#s2
p1#SP#s3
p2#SP#s4
p2#SP#s5
SELECT * from information_schema.partitions where TABLE_NAME="ts_3" ORDER by SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts_3	p0	s0	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p0	s1	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p1	s2	2	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p1	s3	2	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p2	s4	3	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p2	s5	3	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts_3 PARTITION (p0) ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
SELECT * FROM ts_3 PARTITION (p1) ORDER by id;
id	purchased
3	1998-03-03
4	1999-04-04
SELECT * FROM ts_3 PARTITION (p2) ORDER by id;
id	purchased
5	2001-05-05
6	2002-06-06
SELECT * FROM ts_3 ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
3	1998-03-03
4	1999-04-04
5	2001-05-05
6	2002-06-06
ALTER table ts_3 DROP PARTITION p0, p2;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="ts_3" ORDER BY PARTITION_NAME;
PARTITION_NAME
p1#SP#s2
p1#SP#s3
SELECT * from information_schema.partitions where TABLE_NAME="ts_3" ORDER by SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts_3	p1	s2	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p1	s3	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts_3 PARTITION (p1) ORDER by id;
id	purchased
3	1998-03-03
4	1999-04-04
SELECT * FROM ts_3 ORDER by id;
id	purchased
3	1998-03-03
4	1999-04-04
ALTER TABLE ts_3 ADD PARTITION
(partition p2 VALUES LESS THAN (2010), partition p4 VALUES LESS THAN (2020));
INSERT INTO ts_3 VALUES
(4, '1998-04-04'),
(5, '1999-05-05'),
(6, '2005-06-06'),
(7, '2017-07-07'),
(8, '2018-08-08');
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl
WHERE TABLE_NAME="ts_3" ORDER BY PARTITION_NAME;
PARTITION_NAME
p1#SP#s2
p1#SP#s3
p2#SP#p2sp0
p2#SP#p2sp1
p4#SP#p4sp0
p4#SP#p4sp1
SELECT * from information_schema.partitions WHERE TABLE_NAME="ts_3"
  ORDER by PARTITION_NAME, SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts_3	p1	s2	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p1	s3	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p2	p2sp0	2	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2010	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p2	p2sp1	2	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2010	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p4	p4sp0	3	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2020	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p4	p4sp1	3	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2020	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts_3 PARTITION (p1) ORDER by id;
id	purchased
3	1998-03-03
4	1998-04-04
4	1999-04-04
5	1999-05-05
SELECT * FROM ts_3 PARTITION (p2) ORDER by id;
id	purchased
6	2005-06-06
SELECT * FROM ts_3 PARTITION (p4) ORDER by id;
id	purchased
7	2017-07-07
8	2018-08-08
SELECT * FROM ts_3 ORDER by id;
id	purchased
3	1998-03-03
4	1998-04-04
4	1999-04-04
5	1999-05-05
6	2005-06-06
7	2017-07-07
8	2018-08-08
ALTER TABLE ts_3 ADD PARTITION(partition p5 VALUES LESS THAN (2030)
(SUBPARTITION s10 ENGINE = ROCKSDB, SUBPARTITION s11 ENGINE = ROCKSDB));
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl
WHERE TABLE_NAME="ts_3" ORDER BY PARTITION_NAME;
PARTITION_NAME
p1#SP#s2
p1#SP#s3
p2#SP#p2sp0
p2#SP#p2sp1
p4#SP#p4sp0
p4#SP#p4sp1
p5#SP#s10
p5#SP#s11
SELECT * from information_schema.partitions WHERE TABLE_NAME="ts_3"
  ORDER by PARTITION_NAME, SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts_3	p1	s2	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p1	s3	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p2	p2sp0	2	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2010	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p2	p2sp1	2	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2010	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p4	p4sp0	3	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2020	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p4	p4sp1	3	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2020	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p5	s10	4	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2030	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_3	p5	s11	4	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2030	#	#	#	#	#	#	#	#	#	NULL		default	NULL
INSERT INTO ts_3 VALUES
(9, '2020-04-04');
SELECT * FROM ts_3 PARTITION (p1) ORDER by id;
id	purchased
3	1998-03-03
4	1998-04-04
4	1999-04-04
5	1999-05-05
SELECT * FROM ts_3 PARTITION (p2) ORDER by id;
id	purchased
6	2005-06-06
SELECT * FROM ts_3 PARTITION (p4) ORDER by id;
id	purchased
7	2017-07-07
8	2018-08-08
SELECT * FROM ts_3 PARTITION (p5) ORDER by id;
id	purchased
9	2020-04-04
SELECT * FROM ts_3 ORDER by id;
id	purchased
3	1998-03-03
4	1998-04-04
4	1999-04-04
5	1999-05-05
6	2005-06-06
7	2017-07-07
8	2018-08-08
9	2020-04-04
CREATE TABLE ts_4 (
id INT,
purchased DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE( YEAR(purchased) )
SUBPARTITION BY HASH( TO_DAYS(purchased) ) (
PARTITION p0 VALUES LESS THAN (1990) (
SUBPARTITION s0,
SUBPARTITION s1
),
PARTITION p1 VALUES LESS THAN (2000) (
SUBPARTITION s2,
SUBPARTITION s3
),
PARTITION p2 VALUES LESS THAN MAXVALUE (
SUBPARTITION s4,
SUBPARTITION s5
)
);
INSERT INTO ts_4 VALUES
(1, '1988-01-01'),
(2, '1989-02-02'),
(3, '1998-03-03'),
(4, '1999-04-04'),
(5, '2001-05-05'),
(6, '2002-06-06');
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl
WHERE TABLE_NAME="ts_4" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0#SP#s0
p0#SP#s1
p1#SP#s2
p1#SP#s3
p2#SP#s4
p2#SP#s5
SELECT * from information_schema.partitions where TABLE_NAME="ts_4" ORDER by SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts_4	p0	s0	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_4	p0	s1	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_4	p1	s2	2	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_4	p1	s3	2	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_4	p2	s4	3	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_4	p2	s5	3	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts_4 PARTITION (p0) ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
SELECT * FROM ts_4 PARTITION (p1) ORDER by id;
id	purchased
3	1998-03-03
4	1999-04-04
SELECT * FROM ts_4 PARTITION (p2) ORDER by id;
id	purchased
5	2001-05-05
6	2002-06-06
SELECT * FROM ts_4 ORDER by id;
id	purchased
1	1988-01-01
2	1989-02-02
3	1998-03-03
4	1999-04-04
5	2001-05-05
6	2002-06-06
ALTER table ts_4 DROP PARTITION p0;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="ts_4" ORDER BY PARTITION_NAME;
PARTITION_NAME
p1#SP#s2
p1#SP#s3
p2#SP#s4
p2#SP#s5
SELECT * from information_schema.partitions where TABLE_NAME="ts_4" ORDER by SUBPARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	ts_4	p1	s2	1	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_4	p1	s3	1	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_4	p2	s4	2	1	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	ts_4	p2	s5	2	2	RANGE	HASH	year(`purchased`)	to_days(`purchased`)	MAXVALUE	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM ts_4 PARTITION (p1) ORDER by id;
id	purchased
3	1998-03-03
4	1999-04-04
SELECT * FROM ts_4 PARTITION (p2) ORDER by id;
id	purchased
5	2001-05-05
6	2002-06-06
SELECT * FROM ts_4 ORDER by id;
id	purchased
3	1998-03-03
4	1999-04-04
5	2001-05-05
6	2002-06-06
CREATE TABLE ts_5 (
id INT,
purchased DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE(YEAR(purchased))
SUBPARTITION BY HASH( TO_DAYS(purchased) ) (
PARTITION p0 VALUES LESS THAN (1990) (
SUBPARTITION s0a,
SUBPARTITION s0b
),
PARTITION p1 VALUES LESS THAN (2000) (
SUBPARTITION s1a,
SUBPARTITION s1b
),
PARTITION p2 VALUES LESS THAN MAXVALUE (
SUBPARTITION s2a,
SUBPARTITION s2b
)
);
CREATE TABLE trb3 (
id INT,
name VARCHAR(50),
purchased DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE( YEAR(purchased) ) (
PARTITION p0 VALUES LESS THAN (1990),
PARTITION p1 VALUES LESS THAN (1995),
PARTITION p2 VALUES LESS THAN (2000),
PARTITION p3 VALUES LESS THAN (2005)
);
ALTER TABLE trb3 PARTITION BY KEY(id) PARTITIONS 2;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="trb3" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
SELECT * from information_schema.partitions where TABLE_NAME="trb3" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	trb3	p0	NULL	1	NULL	KEY	NULL	`id`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	trb3	p1	NULL	2	NULL	KEY	NULL	`id`	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
CREATE TABLE tr (
id INT,
name VARCHAR(50),
purchased DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE( YEAR(purchased) ) (
PARTITION p0 VALUES LESS THAN (1990),
PARTITION p1 VALUES LESS THAN (1995),
PARTITION p2 VALUES LESS THAN (2000),
PARTITION p3 VALUES LESS THAN (2005)
);
INSERT INTO tr VALUES
(1, 'desk organiser', '2003-10-15'),
(2, 'CD player', '1993-11-05'),
(3, 'TV set', '1996-03-10'),
(4, 'bookcase', '1982-01-10'),
(5, 'exercise bike', '2004-05-09'),
(6, 'sofa', '1987-06-05'),
(7, 'popcorn maker', '2001-11-22'),
(8, 'aquarium', '1992-08-04'),
(9, 'study desk', '1984-09-16'),
(10, 'lava lamp', '1998-12-25');
SELECT * FROM tr WHERE purchased BETWEEN '1995-01-01' AND '1999-12-31';
id	name	purchased
3	TV set	1996-03-10
10	lava lamp	1998-12-25
ALTER TABLE tr DROP PARTITION p2;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="tr" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p3
SELECT * from information_schema.partitions where TABLE_NAME="tr" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	tr	p0	NULL	1	NULL	RANGE	NULL	year(`purchased`)	NULL	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	tr	p1	NULL	2	NULL	RANGE	NULL	year(`purchased`)	NULL	1995	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	tr	p3	NULL	3	NULL	RANGE	NULL	year(`purchased`)	NULL	2005	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM tr WHERE purchased BETWEEN '1995-01-01' AND '1999-12-31';
id	name	purchased
SELECT * FROM tr PARTITION (p0) ORDER by id;
id	name	purchased
4	bookcase	1982-01-10
6	sofa	1987-06-05
9	study desk	1984-09-16
SELECT * FROM tr PARTITION (p1) ORDER by id;
id	name	purchased
2	CD player	1993-11-05
8	aquarium	1992-08-04
SELECT * FROM tr PARTITION (p3) ORDER by id;
id	name	purchased
1	desk organiser	2003-10-15
5	exercise bike	2004-05-09
7	popcorn maker	2001-11-22
SELECT * FROM tr ORDER by id;
id	name	purchased
1	desk organiser	2003-10-15
2	CD player	1993-11-05
4	bookcase	1982-01-10
5	exercise bike	2004-05-09
6	sofa	1987-06-05
7	popcorn maker	2001-11-22
8	aquarium	1992-08-04
9	study desk	1984-09-16
ALTER TABLE tr DROP PARTITION p1,p3;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="tr" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
SELECT * from information_schema.partitions where TABLE_NAME="tr" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	tr	p0	NULL	1	NULL	RANGE	NULL	year(`purchased`)	NULL	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM tr WHERE purchased BETWEEN '1995-01-01' AND '2004-12-31';
id	name	purchased
SELECT * FROM tr PARTITION (p0) ORDER by id;
id	name	purchased
4	bookcase	1982-01-10
6	sofa	1987-06-05
9	study desk	1984-09-16
SELECT * FROM tr ORDER by id;
id	name	purchased
4	bookcase	1982-01-10
6	sofa	1987-06-05
9	study desk	1984-09-16
CREATE TABLE members_3 (
id INT,
fname VARCHAR(25),
lname VARCHAR(25),
dob DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE( YEAR(dob) ) (
PARTITION p0 VALUES LESS THAN (1970),
PARTITION p1 VALUES LESS THAN (1980),
PARTITION p2 VALUES LESS THAN (1990)
);
INSERT INTO members_3 VALUES
(1, "f1", "l1", '1961-01-01'),
(2, "f2", "l2", '1969-02-02'),
(3, 'f3', 'l3', "1971-03-03"),
(4, 'f4', 'l4', "1979-04-04"),
(5, 'f5', 'l5', "1981-05-05"),
(6, "f6", "l6", "1989-06-06");
SELECT * FROM members_3 PARTITION (p0) ORDER by id;
id	fname	lname	dob
1	f1	l1	1961-01-01
2	f2	l2	1969-02-02
SELECT * FROM members_3 PARTITION (p1) ORDER by id;
id	fname	lname	dob
3	f3	l3	1971-03-03
4	f4	l4	1979-04-04
SELECT * FROM members_3 PARTITION (p2) ORDER by id;
id	fname	lname	dob
5	f5	l5	1981-05-05
6	f6	l6	1989-06-06
SELECT * FROM members_3 ORDER by id;
id	fname	lname	dob
1	f1	l1	1961-01-01
2	f2	l2	1969-02-02
3	f3	l3	1971-03-03
4	f4	l4	1979-04-04
5	f5	l5	1981-05-05
6	f6	l6	1989-06-06
INSERT INTO members_3 VALUES (7, "f7","l7","1991-07-07");
ERROR HY000: Table has no partition for value 1991
ALTER TABLE members_3 ADD PARTITION (PARTITION p3 VALUES LESS THAN (2000));
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="members_3" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
SELECT * from information_schema.partitions where TABLE_NAME="members_3" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	members_3	p0	NULL	1	NULL	RANGE	NULL	year(`dob`)	NULL	1970	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	members_3	p1	NULL	2	NULL	RANGE	NULL	year(`dob`)	NULL	1980	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	members_3	p2	NULL	3	NULL	RANGE	NULL	year(`dob`)	NULL	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	members_3	p3	NULL	4	NULL	RANGE	NULL	year(`dob`)	NULL	2000	#	#	#	#	#	#	#	#	#	NULL		default	NULL
ALTER TABLE members_3 ADD PARTITION (PARTITION n VALUES LESS THAN (1960));
ERROR HY000: VALUES LESS THAN value must be strictly increasing for each partition
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl
WHERE TABLE_NAME="members_3" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
INSERT INTO members_3 VALUES (7, "f7","l7","1991-07-07");
SELECT * FROM members_3 PARTITION (p0) ORDER by id;
id	fname	lname	dob
1	f1	l1	1961-01-01
2	f2	l2	1969-02-02
SELECT * FROM members_3 PARTITION (p1) ORDER by id;
id	fname	lname	dob
3	f3	l3	1971-03-03
4	f4	l4	1979-04-04
SELECT * FROM members_3 PARTITION (p2) ORDER by id;
id	fname	lname	dob
5	f5	l5	1981-05-05
6	f6	l6	1989-06-06
SELECT * FROM members_3 PARTITION (p3) ORDER by id;
id	fname	lname	dob
7	f7	l7	1991-07-07
SELECT * FROM members_3 ORDER by id;
id	fname	lname	dob
1	f1	l1	1961-01-01
2	f2	l2	1969-02-02
3	f3	l3	1971-03-03
4	f4	l4	1979-04-04
5	f5	l5	1981-05-05
6	f6	l6	1989-06-06
7	f7	l7	1991-07-07
ALTER TABLE members_3 DROP PARTITION p3;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl
WHERE TABLE_NAME="members_3" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
SELECT * from information_schema.partitions WHERE TABLE_NAME="members_3"
  ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	members_3	p0	NULL	1	NULL	RANGE	NULL	year(`dob`)	NULL	1970	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	members_3	p1	NULL	2	NULL	RANGE	NULL	year(`dob`)	NULL	1980	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	members_3	p2	NULL	3	NULL	RANGE	NULL	year(`dob`)	NULL	1990	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM members_3 PARTITION (p0) ORDER by id;
id	fname	lname	dob
1	f1	l1	1961-01-01
2	f2	l2	1969-02-02
SELECT * FROM members_3 PARTITION (p1) ORDER by id;
id	fname	lname	dob
3	f3	l3	1971-03-03
4	f4	l4	1979-04-04
SELECT * FROM members_3 PARTITION (p2) ORDER by id;
id	fname	lname	dob
5	f5	l5	1981-05-05
6	f6	l6	1989-06-06
SELECT * FROM members_3 ORDER by id;
id	fname	lname	dob
1	f1	l1	1961-01-01
2	f2	l2	1969-02-02
3	f3	l3	1971-03-03
4	f4	l4	1979-04-04
5	f5	l5	1981-05-05
6	f6	l6	1989-06-06
CREATE TABLE clients (
id INT,
fname VARCHAR(30),
lname VARCHAR(30),
signed DATE
) ENGINE=ROCKSDB
PARTITION BY HASH( MONTH(signed) )
PARTITIONS 12;
ALTER TABLE clients COALESCE PARTITION 4;
Warnings:
Warning	138	Inplace partition altering is not supported
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="clients" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
p4
p5
p6
p7
CREATE TABLE clients_lk (
id INT,
fname VARCHAR(30),
lname VARCHAR(30),
signed DATE
) ENGINE=ROCKSDB
PARTITION BY LINEAR KEY(signed)
PARTITIONS 12;
ALTER TABLE clients COALESCE PARTITION 18;
ERROR HY000: Cannot remove all partitions, use DROP TABLE instead
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="clients" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
p4
p5
p6
p7
SELECT * from information_schema.partitions where TABLE_NAME="clients" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	clients	p0	NULL	1	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p1	NULL	2	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p2	NULL	3	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p3	NULL	4	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p4	NULL	5	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p5	NULL	6	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p6	NULL	7	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p7	NULL	8	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
ALTER TABLE clients ADD PARTITION PARTITIONS 6;
Warnings:
Warning	138	Inplace partition altering is not supported
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="clients" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p10
p11
p12
p13
p2
p3
p4
p5
p6
p7
p8
p9
SELECT * from information_schema.partitions where TABLE_NAME="clients" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	clients	p0	NULL	1	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p1	NULL	2	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p10	NULL	11	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p11	NULL	12	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p12	NULL	13	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p13	NULL	14	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p2	NULL	3	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p3	NULL	4	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p4	NULL	5	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p5	NULL	6	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p6	NULL	7	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p7	NULL	8	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p8	NULL	9	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	clients	p9	NULL	10	NULL	HASH	NULL	month(`signed`)	NULL	NULL	#	#	#	#	#	#	#	#	#	NULL		default	NULL
CREATE TABLE trb1 (
id INT,
name VARCHAR(50),
purchased DATE
) ENGINE=ROCKSDB
PARTITION BY RANGE(id) (
PARTITION p0 VALUES LESS THAN (3),
PARTITION p1 VALUES LESS THAN (7),
PARTITION p2 VALUES LESS THAN (9),
PARTITION p3 VALUES LESS THAN (11)
);
INSERT INTO trb1 VALUES
(1, 'desk organiser', '2003-10-15'),
(2, 'CD player', '1993-11-05'),
(3, 'TV set', '1996-03-10'),
(4, 'bookcase', '1982-01-10'),
(5, 'exercise bike', '2004-05-09'),
(6, 'sofa', '1987-06-05'),
(7, 'popcorn maker', '2001-11-22'),
(8, 'aquarium', '1992-08-04'),
(9, 'study desk', '1984-09-16'),
(10, 'lava lamp', '1998-12-25');
ALTER TABLE trb1 ADD PRIMARY KEY (id);
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="trb1" ORDER BY PARTITION_NAME;
PARTITION_NAME
p0
p1
p2
p3
SELECT * from information_schema.partitions where TABLE_NAME="trb1" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	trb1	p0	NULL	1	NULL	RANGE	NULL	`id`	NULL	3	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	trb1	p1	NULL	2	NULL	RANGE	NULL	`id`	NULL	7	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	trb1	p2	NULL	3	NULL	RANGE	NULL	`id`	NULL	9	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	trb1	p3	NULL	4	NULL	RANGE	NULL	`id`	NULL	11	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM trb1 PARTITION (p0) ORDER by id;
id	name	purchased
1	desk organiser	2003-10-15
2	CD player	1993-11-05
SELECT * FROM trb1 PARTITION (p1) ORDER by id;
id	name	purchased
3	TV set	1996-03-10
4	bookcase	1982-01-10
5	exercise bike	2004-05-09
6	sofa	1987-06-05
SELECT * FROM trb1 PARTITION (p2) ORDER by id;
id	name	purchased
7	popcorn maker	2001-11-22
8	aquarium	1992-08-04
SELECT * FROM trb1 PARTITION (p3) ORDER by id;
id	name	purchased
9	study desk	1984-09-16
10	lava lamp	1998-12-25
SELECT * FROM trb1 ORDER by id;
id	name	purchased
1	desk organiser	2003-10-15
2	CD player	1993-11-05
3	TV set	1996-03-10
4	bookcase	1982-01-10
5	exercise bike	2004-05-09
6	sofa	1987-06-05
7	popcorn maker	2001-11-22
8	aquarium	1992-08-04
9	study desk	1984-09-16
10	lava lamp	1998-12-25
ALTER TABLE trb1 DROP PARTITION p0;
SELECT PARTITION_NAME FROM information_schema.rocksdb_ddl WHERE TABLE_NAME="trb1" ORDER BY PARTITION_NAME;
PARTITION_NAME
p1
p2
p3
SELECT * from information_schema.partitions where TABLE_NAME="trb1" ORDER by PARTITION_NAME;
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	SUBPARTITION_NAME	PARTITION_ORDINAL_POSITION	SUBPARTITION_ORDINAL_POSITION	PARTITION_METHOD	SUBPARTITION_METHOD	PARTITION_EXPRESSION	SUBPARTITION_EXPRESSION	PARTITION_DESCRIPTION	TABLE_ROWS	AVG_ROW_LENGTH	DATA_LENGTH	MAX_DATA_LENGTH	INDEX_LENGTH	DATA_FREE	CREATE_TIME	UPDATE_TIME	CHECK_TIME	CHECKSUM	PARTITION_COMMENT	NODEGROUP	TABLESPACE_NAME
def	test	trb1	p1	NULL	1	NULL	RANGE	NULL	`id`	NULL	7	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	trb1	p2	NULL	2	NULL	RANGE	NULL	`id`	NULL	9	#	#	#	#	#	#	#	#	#	NULL		default	NULL
def	test	trb1	p3	NULL	3	NULL	RANGE	NULL	`id`	NULL	11	#	#	#	#	#	#	#	#	#	NULL		default	NULL
SELECT * FROM trb1 PARTITION (p1) ORDER by id;
id	name	purchased
3	TV set	1996-03-10
4	bookcase	1982-01-10
5	exercise bike	2004-05-09
6	sofa	1987-06-05
SELECT * FROM trb1 PARTITION (p2) ORDER by id;
id	name	purchased
7	popcorn maker	2001-11-22
8	aquarium	1992-08-04
SELECT * FROM trb1 PARTITION (p3) ORDER by id;
id	name	purchased
9	study desk	1984-09-16
10	lava lamp	1998-12-25
SELECT * FROM trb1 ORDER by id;
id	name	purchased
3	TV set	1996-03-10
4	bookcase	1982-01-10
5	exercise bike	2004-05-09
6	sofa	1987-06-05
7	popcorn maker	2001-11-22
8	aquarium	1992-08-04
9	study desk	1984-09-16
10	lava lamp	1998-12-25
DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS VAR_POP;
DROP TABLE IF EXISTS TEMP0;
DROP TABLE IF EXISTS VAR_SAMP;
DROP TABLE IF EXISTS ti;
DROP TABLE IF EXISTS members;
DROP TABLE IF EXISTS members_2;
DROP TABLE IF EXISTS employees;
DROP TABLE IF EXISTS employees_2;
DROP TABLE IF EXISTS employees_3;
DROP TABLE IF EXISTS quarterly_report_status;
DROP TABLE IF EXISTS employees_4;
DROP TABLE IF EXISTS h2;
DROP TABLE IF EXISTS rcx;
DROP TABLE IF EXISTS r1;
DROP TABLE IF EXISTS rc1;
DROP TABLE IF EXISTS rx;
DROP TABLE IF EXISTS rc2;
DROP TABLE IF EXISTS rc3;
DROP TABLE IF EXISTS rc4;
DROP TABLE IF EXISTS employees_by_lname;
DROP TABLE IF EXISTS customers_1;
DROP TABLE IF EXISTS customers_2;
DROP TABLE IF EXISTS customers_3;
DROP TABLE IF EXISTS employees_hash;
DROP TABLE IF EXISTS employees_hash_1;
DROP TABLE IF EXISTS t1_hash;
DROP TABLE IF EXISTS employees_linear_hash;
DROP TABLE IF EXISTS t1_linear_hash;
DROP TABLE IF EXISTS k1;
DROP TABLE IF EXISTS k2;
DROP TABLE IF EXISTS tm1;
DROP TABLE IF EXISTS tk;
DROP TABLE IF EXISTS ts;
DROP TABLE IF EXISTS ts_1;
DROP TABLE IF EXISTS ts_3;
DROP TABLE IF EXISTS ts_4;
DROP TABLE IF EXISTS ts_5;
DROP TABLE IF EXISTS trb3;
DROP TABLE IF EXISTS tr;
DROP TABLE IF EXISTS members_3;
DROP TABLE IF EXISTS clients;
DROP TABLE IF EXISTS clients_lk;
DROP TABLE IF EXISTS trb1;

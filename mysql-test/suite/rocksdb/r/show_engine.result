DROP TABLE IF EXISTS t1;
DROP TABLE IF EXISTS t2;
DROP TABLE IF EXISTS t3;
DROP TABLE IF EXISTS t4;
CREATE TABLE t1 (i INT, PRIMARY KEY (i) COMMENT 'cf_t1') ENGINE = ROCKSDB;
CREATE TABLE t2 (j INT, PRIMARY KEY (j) COMMENT 'rev:cf_t2') ENGINE = ROCKSDB;
CREATE TABLE t3 (k INT, PRIMARY KEY (k) COMMENT 'cf_t1') ENGINE = ROCKSDB;
CREATE TABLE t4 (l INT, PRIMARY KEY (l) COMMENT 'cf_t4') ENGINE = ROCKSDB
PARTITION BY KEY(l) PARTITIONS 4;
SHOW ENGINE rocksdb STATUS;
Type	Name	Status
DBSTATS	rocksdb	#
CF_COMPACTION	__system__	#
CF_COMPACTION	cf_t1	#
CF_COMPACTION	cf_t4	#
CF_COMPACTION	default	#
CF_COMPACTION	rev:cf_t2	#
INSERT INTO t1 VALUES (1), (2), (3);
SELECT COUNT(*) FROM t1;
COUNT(*)
3
INSERT INTO t2 VALUES (1), (2), (3), (4);
SELECT COUNT(*) FROM t2;
COUNT(*)
4
INSERT INTO t4 VALUES (1), (2), (3), (4), (5);
SELECT COUNT(*) FROM t4;
COUNT(*)
5
SELECT * FROM INFORMATION_SCHEMA.ROCKSDB_CFSTATS;
CF_NAME	STAT_TYPE	VALUE
__system__	NUM_IMMUTABLE_MEM_TABLE	#
__system__	MEM_TABLE_FLUSH_PENDING	#
__system__	COMPACTION_PENDING	#
__system__	CUR_SIZE_ACTIVE_MEM_TABLE	#
__system__	CUR_SIZE_ALL_MEM_TABLES	#
__system__	NUM_ENTRIES_ACTIVE_MEM_TABLE	#
__system__	NUM_ENTRIES_IMM_MEM_TABLES	#
__system__	NON_BLOCK_CACHE_SST_MEM_USAGE	#
__system__	NUM_LIVE_VERSIONS	#
cf_t1	NUM_IMMUTABLE_MEM_TABLE	#
cf_t1	MEM_TABLE_FLUSH_PENDING	#
cf_t1	COMPACTION_PENDING	#
cf_t1	CUR_SIZE_ACTIVE_MEM_TABLE	#
cf_t1	CUR_SIZE_ALL_MEM_TABLES	#
cf_t1	NUM_ENTRIES_ACTIVE_MEM_TABLE	#
cf_t1	NUM_ENTRIES_IMM_MEM_TABLES	#
cf_t1	NON_BLOCK_CACHE_SST_MEM_USAGE	#
cf_t1	NUM_LIVE_VERSIONS	#
cf_t4	NUM_IMMUTABLE_MEM_TABLE	#
cf_t4	MEM_TABLE_FLUSH_PENDING	#
cf_t4	COMPACTION_PENDING	#
cf_t4	CUR_SIZE_ACTIVE_MEM_TABLE	#
cf_t4	CUR_SIZE_ALL_MEM_TABLES	#
cf_t4	NUM_ENTRIES_ACTIVE_MEM_TABLE	#
cf_t4	NUM_ENTRIES_IMM_MEM_TABLES	#
cf_t4	NON_BLOCK_CACHE_SST_MEM_USAGE	#
cf_t4	NUM_LIVE_VERSIONS	#
default	NUM_IMMUTABLE_MEM_TABLE	#
default	MEM_TABLE_FLUSH_PENDING	#
default	COMPACTION_PENDING	#
default	CUR_SIZE_ACTIVE_MEM_TABLE	#
default	CUR_SIZE_ALL_MEM_TABLES	#
default	NUM_ENTRIES_ACTIVE_MEM_TABLE	#
default	NUM_ENTRIES_IMM_MEM_TABLES	#
default	NON_BLOCK_CACHE_SST_MEM_USAGE	#
default	NUM_LIVE_VERSIONS	#
rev:cf_t2	NUM_IMMUTABLE_MEM_TABLE	#
rev:cf_t2	MEM_TABLE_FLUSH_PENDING	#
rev:cf_t2	COMPACTION_PENDING	#
rev:cf_t2	CUR_SIZE_ACTIVE_MEM_TABLE	#
rev:cf_t2	CUR_SIZE_ALL_MEM_TABLES	#
rev:cf_t2	NUM_ENTRIES_ACTIVE_MEM_TABLE	#
rev:cf_t2	NUM_ENTRIES_IMM_MEM_TABLES	#
rev:cf_t2	NON_BLOCK_CACHE_SST_MEM_USAGE	#
rev:cf_t2	NUM_LIVE_VERSIONS	#
SELECT * FROM INFORMATION_SCHEMA.ROCKSDB_DBSTATS;
STAT_TYPE	VALUE
DB_BACKGROUND_ERRORS	#
DB_NUM_SNAPSHOTS	#
DB_OLDEST_SNAPSHOT_TIME	#
DB_BLOCK_CACHE_USAGE	#
SELECT * FROM INFORMATION_SCHEMA.ROCKSDB_PERF_CONTEXT ORDER BY TABLE_NAME,
PARTITION_NAME;
TABLE_SCHEMA	TABLE_NAME	PARTITION_NAME	STAT_TYPE	VALUE
mysql	slave_master_info	NULL	INTERNAL_KEY_SKIPPED_COUNT	#
mysql	slave_master_info	NULL	INTERNAL_DELETE_SKIPPED_COUNT	#
mysql	slave_relay_log_info	NULL	INTERNAL_KEY_SKIPPED_COUNT	#
mysql	slave_relay_log_info	NULL	INTERNAL_DELETE_SKIPPED_COUNT	#
mysql	slave_worker_info	NULL	INTERNAL_KEY_SKIPPED_COUNT	#
mysql	slave_worker_info	NULL	INTERNAL_DELETE_SKIPPED_COUNT	#
test	t1	NULL	INTERNAL_KEY_SKIPPED_COUNT	#
test	t1	NULL	INTERNAL_DELETE_SKIPPED_COUNT	#
test	t2	NULL	INTERNAL_KEY_SKIPPED_COUNT	#
test	t2	NULL	INTERNAL_DELETE_SKIPPED_COUNT	#
test	t4	0	INTERNAL_KEY_SKIPPED_COUNT	#
test	t4	0	INTERNAL_DELETE_SKIPPED_COUNT	#
test	t4	1	INTERNAL_KEY_SKIPPED_COUNT	#
test	t4	1	INTERNAL_DELETE_SKIPPED_COUNT	#
test	t4	2	INTERNAL_KEY_SKIPPED_COUNT	#
test	t4	2	INTERNAL_DELETE_SKIPPED_COUNT	#
test	t4	3	INTERNAL_KEY_SKIPPED_COUNT	#
test	t4	3	INTERNAL_DELETE_SKIPPED_COUNT	#
DROP TABLE t1;
DROP TABLE t2;
DROP TABLE t3;
DROP TABLE t4;
SHOW ENGINE rocksdb MUTEX;
Type	Name	Status
SHOW ENGINE ALL MUTEX;
